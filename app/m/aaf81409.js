"use strict";var zt=Object.defineProperty;var Fe=Object.getOwnPropertySymbols;var Lt=Object.prototype.hasOwnProperty,Ft=Object.prototype.propertyIsEnumerable;var qe=(t,e,r)=>e in t?zt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ve=(t,e)=>{for(var r in e||(e={}))Lt.call(e,r)&&qe(t,r,e[r]);if(Fe)for(var r of Fe(e))Ft.call(e,r)&&qe(t,r,e[r]);return t};var qt=require("os"),E=require("electron"),q=require("path"),Vt=require("crypto"),$e=require("zlib"),$t=require("util"),X=require("fs"),be=require("fs/promises"),me=require("./d710582f.js"),Nt=require("./5cd9c764.js");function Ne(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var Wt=Ne(qt),We=Ne(q),Ht=(t,e)=>{var r,n;for(r in e)n=e[r],t.on(r,n);return t},He,Je,Ze;He=We.default.join(__dirname,"../w/index.html"),Je=(t,e)=>{t.loadFile(He,{hash:e})};Ze=We.default.join(__dirname,"../p/p.js");var se=new Proxy({},{get:(t,e)=>r=>{var n;return r=Ve({skipTaskbar:!0,frame:!1,minimizable:!1,maximizable:!1,webPreferences:{preload:Ze}},r),n=new E.BrowserWindow(r),Je(n,e),n.once("ready-to-show",()=>n.show()),n}});var Ke;({main:Ke}=se);var ue=()=>{var t,e;return t=E.BrowserWindow.getAllWindows(),t.length?(e=t[0],e.isMinimized()&&e.restore(),e.show(),e.focus()):Ke({resizable:!1,height:585,width:426})};var Qe,Xe,Ye,Jt,Se;({Menu:Qe,Tray:Xe,app:Ye,globalShortcut:Jt}=require("electron"));Se=void 0;var Zt=()=>{var t;Se=new Xe(q.join(__dirname,"../w/tray/trayTemplate.png")),t=Qe.buildFromTemplate([{label:"\u663E\u793A\u754C\u9762",click:ue,accelerator:"CmdOrCtrl+Shift+R"},{type:"separator"},{accelerator:"CmdOrCtrl+Shift+Q",label:"\u9000\u51FA",click:()=>Ye.quit()}]),Se.setContextMenu(t)};var Ge;Ge=t=>{var e,r,n,s,f,o,h,y;t&&(t.devToolsWebContents||({webContents:f}=t,e=new E.BrowserWindow({minimizable:!1,maximizable:!1}),[s,r]=t.getSize(),[h,y]=t.getPosition(),{width:o,height:n}=E.screen.getPrimaryDisplay().workArea,f.setDevToolsWebContents(e.webContents),f.openDevTools({mode:"detach"}),s>r?(y=0,s=0,r+=20,n-=r):(h=0,r=0,o-=s),e.setPosition(s,r),t.setPosition(h,y),e.setSize(o,n),t.focus()))};var Kt=()=>{E.globalShortcut.register("CmdOrCtrl+Alt+I",()=>Ge(E.BrowserWindow.getFocusedWindow()))};var ve=t=>{E.BrowserWindow.getAllWindows().forEach(e=>{e.webContents.getURL().endsWith("#main")?t?e.show():e.hide():(e.close(),e.destroy())})};var et,ee;({count_down:et}=se);ee=void 0;var Qt=()=>{var t;t=240,ee=et({width:t,height:t,transparent:!0,resizable:!1,hasShadow:!1}),ee.setAlwaysOnTop(!0,"pop-up-menu")},Xt={close:()=>{ee!=null&&ee.close(),ee=void 0}};var tt,ce;({area:tt}=se);ce=void 0;var Yt=()=>{var t,e;({width:e,height:t}=E.screen.getPrimaryDisplay().size),ce=tt({width:e,height:t,roundedCorners:!1,transparent:!0,resizable:!1,hasShadow:!1}),ce.setAlwaysOnTop(!0,"screen-saver"),ce.setPosition(0,0)};var rt,I;({recbar:rt}=se);I=void 0;var nt=()=>{var t,e,r;return e={width:568,height:48,resizable:!1},{width:r,height:t}=E.screen.getPrimaryDisplay().workArea,I=rt(e),I.setPosition((r-e.width)/2,t-28-e.height),I.on("system-context-menu",(n,s)=>{n.preventDefault()}),ke(),new Promise(n=>I.webContents.on("did-finish-load",()=>{ke(),n(I)}))},ke=()=>{I.setAlwaysOnTop(!0,"screen-saver"),I.focus()},Gt=()=>{var t,e,r;e=I.getPosition(),[r,t]=I.size,I.setSize(r,t),I.setPosition(e[0]-r+42,e[1]-t+42),I.setHasShadow(!0)},er=()=>{var t,e,r;t=I.getPosition(),I.size=e=I.getSize(),r=36,I.setSize(r,r),r+=6,I.setPosition(t[0]+e[0]-r,t[1]+e[1]-r),I.setHasShadow(!1)},tr=()=>{ve(!0)},rr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",\u5DE5\u5177\u6761:nt,top:ke,expand:Gt,left:er,stop:tr}),xe,nr,it;({camera:it,area:nr}=se);xe={camera:(t,e)=>{var r;return r=it({width:800,height:500,center:!0,roundedCorners:!1,resizable:!1}),r.setAlwaysOnTop(!0),r},screen:(t,e,r)=>{},all:(t,e,r)=>{}};(()=>{var t,e,r,n,s;n=(f,o)=>function(h,y,p){p===1&&f!=="camera"?Yt():(Qt(),o.apply(this,arguments)),nt()},e=Object.entries(xe);for(s of e)[t,r]=s,xe[t]=n(t,r)})();var ir=Object.freeze(xe),sr=(t,e,r,n)=>{ve(),ir[t](e,r,n)},Ue;try{Ue=new TextDecoder}catch{}var x,K,i=0,T={},m,Q,V=0,N=0,R,Z,z=[],v,st={useRecords:!1,mapsAsObjects:!0};class at{}const ft=new at;ft.name="MessagePack 0xC1";var te=!1;class ae{constructor(e){e&&(e.useRecords===!1&&e.mapsAsObjects===void 0&&(e.mapsAsObjects=!0),e.structures?e.structures.sharedLength=e.structures.length:e.getStructures&&((e.structures=[]).uninitialized=!0,e.structures.sharedLength=0)),Object.assign(this,e)}unpack(e,r){if(x)return bt(()=>(je(),this?this.unpack(e,r):ae.prototype.unpack.call(st,e,r)));K=r>-1?r:e.length,i=0,N=0,Q=null,R=null,x=e;try{v=e.dataView||(e.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength))}catch(n){throw x=null,e instanceof Uint8Array?n:new Error("Source must be a Uint8Array or Buffer but was a "+(e&&typeof e=="object"?e.constructor.name:typeof e))}if(this instanceof ae){if(T=this,this.structures)return m=this.structures,de();(!m||m.length>0)&&(m=[])}else T=st,(!m||m.length>0)&&(m=[]);return de()}unpackMultiple(e,r){let n,s=0;try{te=!0;let f=e.length,o=this?this.unpack(e,f):ge.unpack(e,f);if(r){for(r(o);i<f;)if(s=i,r(de())===!1)return}else{for(n=[o];i<f;)s=i,n.push(de());return n}}catch(f){throw f.lastPosition=s,f.values=n,f}finally{te=!1,je()}}_mergeStructures(e,r){e=e||[];for(let n=0,s=e.length;n<s;n++){let f=e[n];f&&(f.isShared=!0,n>=32&&(f.highByte=n-32>>5))}e.sharedLength=e.length;for(let n in r||[])if(n>=0){let s=e[n],f=r[n];f&&(s&&((e.restoreStructures||(e.restoreStructures=[]))[n]=s),e[n]=f)}return this.structures=e}decode(e,r){return this.unpack(e,r)}}function de(){try{if(!T.trusted&&!te){let e=m.sharedLength||0;e<m.length&&(m.length=e)}let t=B();if(i==K)m.restoreStructures&&lt(),m=null,x=null,Z&&(Z=null);else if(i>K){let e=new Error("Unexpected end of MessagePack data");throw e.incomplete=!0,e}else if(!te)throw new Error("Data read, but end of buffer not reached");return t}catch(t){throw m.restoreStructures&&lt(),je(),(t instanceof RangeError||t.message.startsWith("Unexpected end of buffer"))&&(t.incomplete=!0),t}}function lt(){for(let t in m.restoreStructures)m[t]=m.restoreStructures[t];m.restoreStructures=null}function B(){let t=x[i++];if(t<160)if(t<128){if(t<64)return t;{let e=m[t&63]||T.getStructures&&ut()[t&63];return e?(e.read||(e.read=Be(e,t&63)),e.read()):t}}else if(t<144)if(t-=128,T.mapsAsObjects){let e={};for(let r=0;r<t;r++)e[gt()]=B();return e}else{let e=new Map;for(let r=0;r<t;r++)e.set(B(),B());return e}else{t-=144;let e=new Array(t);for(let r=0;r<t;r++)e[r]=B();return e}else if(t<192){let e=t-160;if(N>=i)return Q.slice(i-V,(i+=e)-V);if(N==0&&K<140){let r=e<16?Oe(e):dt(e);if(r!=null)return r}return _e(e)}else{let e;switch(t){case 192:return null;case 193:return R?(e=B(),e>0?R[1].slice(R.position1,R.position1+=e):R[0].slice(R.position0,R.position0-=e)):ft;case 194:return!1;case 195:return!0;case 196:return Ae(x[i++]);case 197:return e=v.getUint16(i),i+=2,Ae(e);case 198:return e=v.getUint32(i),i+=4,Ae(e);case 199:return Y(x[i++]);case 200:return e=v.getUint16(i),i+=2,Y(e);case 201:return e=v.getUint32(i),i+=4,Y(e);case 202:if(e=v.getFloat32(i),T.useFloat32>2){let r=Ee[(x[i]&127)<<1|x[i+1]>>7];return i+=4,(r*e+(e>0?.5:-.5)>>0)/r}return i+=4,e;case 203:return e=v.getFloat64(i),i+=8,e;case 204:return x[i++];case 205:return e=v.getUint16(i),i+=2,e;case 206:return e=v.getUint32(i),i+=4,e;case 207:return T.int64AsNumber?(e=v.getUint32(i)*4294967296,e+=v.getUint32(i+4)):e=v.getBigUint64(i),i+=8,e;case 208:return v.getInt8(i++);case 209:return e=v.getInt16(i),i+=2,e;case 210:return e=v.getInt32(i),i+=4,e;case 211:return T.int64AsNumber?(e=v.getInt32(i)*4294967296,e+=v.getUint32(i+4)):e=v.getBigInt64(i),i+=8,e;case 212:if(e=x[i++],e==114)return wt(x[i++]&63);{let r=z[e];if(r)return r.read?(i++,r.read(B())):r.noBuffer?(i++,r()):r(x.subarray(i,++i));throw new Error("Unknown extension "+e)}case 213:return e=x[i],e==114?(i++,wt(x[i++]&63,x[i++])):Y(2);case 214:return Y(4);case 215:return Y(8);case 216:return Y(16);case 217:return e=x[i++],N>=i?Q.slice(i-V,(i+=e)-V):fr(e);case 218:return e=v.getUint16(i),i+=2,N>=i?Q.slice(i-V,(i+=e)-V):lr(e);case 219:return e=v.getUint32(i),i+=4,N>=i?Q.slice(i-V,(i+=e)-V):or(e);case 220:return e=v.getUint16(i),i+=2,ct(e);case 221:return e=v.getUint32(i),i+=4,ct(e);case 222:return e=v.getUint16(i),i+=2,xt(e);case 223:return e=v.getUint32(i),i+=4,xt(e);default:if(t>=224)return t-256;if(t===void 0){let r=new Error("Unexpected end of MessagePack data");throw r.incomplete=!0,r}throw new Error("Unknown MessagePack token "+t)}}}const ar=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function Be(t,e){function r(){if(r.count++>2){let s=t.read=new Function("r","return function(){return {"+t.map(f=>ar.test(f)?f+":r()":"["+JSON.stringify(f)+"]:r()").join(",")+"}}")(B);return t.highByte===0&&(t.read=ot(e,t.read)),s()}let n={};for(let s=0,f=t.length;s<f;s++){let o=t[s];n[o]=B()}return n}return r.count=0,t.highByte===0?ot(e,r):r}const ot=(t,e)=>function(){let r=x[i++];if(r===0)return e();let n=t<32?-(t+(r<<5)):t+(r<<5),s=m[n]||ut()[n];if(!s)throw new Error("Record id is not defined for "+n);return s.read||(s.read=Be(s,t)),s.read()};function ut(){let t=bt(()=>(x=null,T.getStructures()));return m=T._mergeStructures(t,m)}var _e=he,fr=he,lr=he,or=he;function he(t){let e;if(t<16&&(e=Oe(t)))return e;if(t>64&&Ue)return Ue.decode(x.subarray(i,i+=t));const r=i+t,n=[];for(e="";i<r;){const s=x[i++];if((s&128)==0)n.push(s);else if((s&224)==192){const f=x[i++]&63;n.push((s&31)<<6|f)}else if((s&240)==224){const f=x[i++]&63,o=x[i++]&63;n.push((s&31)<<12|f<<6|o)}else if((s&248)==240){const f=x[i++]&63,o=x[i++]&63,h=x[i++]&63;let y=(s&7)<<18|f<<12|o<<6|h;y>65535&&(y-=65536,n.push(y>>>10&1023|55296),y=56320|y&1023),n.push(y)}else n.push(s);n.length>=4096&&(e+=C.apply(String,n),n.length=0)}return n.length>0&&(e+=C.apply(String,n)),e}function ct(t){let e=new Array(t);for(let r=0;r<t;r++)e[r]=B();return e}function xt(t){if(T.mapsAsObjects){let e={};for(let r=0;r<t;r++)e[gt()]=B();return e}else{let e=new Map;for(let r=0;r<t;r++)e.set(B(),B());return e}}var C=String.fromCharCode;function dt(t){let e=i,r=new Array(t);for(let n=0;n<t;n++){const s=x[i++];if((s&128)>0){i=e;return}r[n]=s}return C.apply(String,r)}function Oe(t){if(t<4)if(t<2){if(t===0)return"";{let e=x[i++];if((e&128)>1){i-=1;return}return C(e)}}else{let e=x[i++],r=x[i++];if((e&128)>0||(r&128)>0){i-=2;return}if(t<3)return C(e,r);let n=x[i++];if((n&128)>0){i-=3;return}return C(e,r,n)}else{let e=x[i++],r=x[i++],n=x[i++],s=x[i++];if((e&128)>0||(r&128)>0||(n&128)>0||(s&128)>0){i-=4;return}if(t<6){if(t===4)return C(e,r,n,s);{let f=x[i++];if((f&128)>0){i-=5;return}return C(e,r,n,s,f)}}else if(t<8){let f=x[i++],o=x[i++];if((f&128)>0||(o&128)>0){i-=6;return}if(t<7)return C(e,r,n,s,f,o);let h=x[i++];if((h&128)>0){i-=7;return}return C(e,r,n,s,f,o,h)}else{let f=x[i++],o=x[i++],h=x[i++],y=x[i++];if((f&128)>0||(o&128)>0||(h&128)>0||(y&128)>0){i-=8;return}if(t<10){if(t===8)return C(e,r,n,s,f,o,h,y);{let p=x[i++];if((p&128)>0){i-=9;return}return C(e,r,n,s,f,o,h,y,p)}}else if(t<12){let p=x[i++],_=x[i++];if((p&128)>0||(_&128)>0){i-=10;return}if(t<11)return C(e,r,n,s,f,o,h,y,p,_);let O=x[i++];if((O&128)>0){i-=11;return}return C(e,r,n,s,f,o,h,y,p,_,O)}else{let p=x[i++],_=x[i++],O=x[i++],U=x[i++];if((p&128)>0||(_&128)>0||(O&128)>0||(U&128)>0){i-=12;return}if(t<14){if(t===12)return C(e,r,n,s,f,o,h,y,p,_,O,U);{let j=x[i++];if((j&128)>0){i-=13;return}return C(e,r,n,s,f,o,h,y,p,_,O,U,j)}}else{let j=x[i++],$=x[i++];if((j&128)>0||($&128)>0){i-=14;return}if(t<15)return C(e,r,n,s,f,o,h,y,p,_,O,U,j,$);let L=x[i++];if((L&128)>0){i-=15;return}return C(e,r,n,s,f,o,h,y,p,_,O,U,j,$,L)}}}}}function Ae(t){return T.copyBuffers?Uint8Array.prototype.slice.call(x,i,i+=t):x.subarray(i,i+=t)}function Y(t){let e=x[i++];if(z[e])return z[e](x.subarray(i,i+=t));throw new Error("Unknown extension type "+e)}var ht=new Array(4096);function gt(){let t=x[i++];if(t>=160&&t<192){if(t=t-160,N>=i)return Q.slice(i-V,(i+=t)-V);if(!(N==0&&K<180))return _e(t)}else return i--,B();let e=(t<<5^(t>1?v.getUint16(i):t>0?x[i]:0))&4095,r=ht[e],n=i,s=i+t-3,f,o=0;if(r&&r.bytes==t){for(;n<s;){if(f=v.getUint32(n),f!=r[o++]){n=1879048192;break}n+=4}for(s+=3;n<s;)if(f=x[n++],f!=r[o++]){n=1879048192;break}if(n===s)return i=n,r.string;s-=3,n=i}for(r=[],ht[e]=r,r.bytes=t;n<s;)f=v.getUint32(n),r.push(f),n+=4;for(s+=3;n<s;)f=x[n++],r.push(f);let h=t<16?Oe(t):dt(t);return h!=null?r.string=h:r.string=_e(t)}const wt=(t,e)=>{var r=B();let n=t;e!==void 0&&(t=t<32?-((e<<5)+t):(e<<5)+t,r.highByte=e);let s=m[t];return s&&s.isShared&&((m.restoreStructures||(m.restoreStructures=[]))[t]=s),m[t]=r,r.read=Be(r,n),r.read()};var pt=typeof self=="object"?self:global;z[0]=()=>{};z[0].noBuffer=!0;z[101]=()=>{let t=B();return(pt[t[0]]||Error)(t[1])};z[105]=t=>{let e=v.getUint32(i-4);Z||(Z=new Map);let r=x[i],n;r>=144&&r<160||r==220||r==221?n=[]:n={};let s={target:n};Z.set(e,s);let f=B();return s.used?Object.assign(n,f):(s.target=f,f)};z[112]=t=>{let e=v.getUint32(i-4),r=Z.get(e);return r.used=!0,r.target};z[115]=()=>new Set(B());const yt=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(t=>t+"Array");z[116]=t=>{let e=t[0],r=yt[e];if(!r)throw new Error("Could not find typed array for code "+e);return new pt[r](Uint8Array.prototype.slice.call(t,1).buffer)};z[120]=()=>{let t=B();return new RegExp(t[0],t[1])};z[98]=t=>{let e=(t[0]<<24)+(t[1]<<16)+(t[2]<<8)+t[3],r=i;i+=e-4,R=[B(),B()],R.position0=0,R.position1=0;let n=i;i=r;try{return B()}finally{i=n}};z[255]=t=>t.length==4?new Date((t[0]*16777216+(t[1]<<16)+(t[2]<<8)+t[3])*1e3):t.length==8?new Date(((t[0]<<22)+(t[1]<<14)+(t[2]<<6)+(t[3]>>2))/1e6+((t[3]&3)*4294967296+t[4]*16777216+(t[5]<<16)+(t[6]<<8)+t[7])*1e3):t.length==12?new Date(((t[0]<<24)+(t[1]<<16)+(t[2]<<8)+t[3])/1e6+((t[4]&128?-281474976710656:0)+t[6]*1099511627776+t[7]*4294967296+t[8]*16777216+(t[9]<<16)+(t[10]<<8)+t[11])*1e3):new Date("invalid");function bt(t){let e=K,r=i,n=V,s=N,f=Q,o=Z,h=R,y=new Uint8Array(x.slice(0,K)),p=m,_=m.slice(0,m.length),O=T,U=te,j=t();return K=e,i=r,V=n,N=s,Q=f,Z=o,R=h,x=y,te=U,m=p,m.splice(0,m.length,..._),T=O,v=new DataView(x.buffer,x.byteOffset,x.byteLength),j}function je(){x=null,Z=null,m=null}const Ee=new Array(147);for(let t=0;t<256;t++)Ee[t]=+("1e"+Math.floor(45.15-t*.30103));var ge=new ae({useRecords:!1});const ur=ge.unpack;ge.unpackMultiple;ge.unpack;let cr=new Float32Array(1);new Uint8Array(cr.buffer,0,4);let we;try{we=new TextEncoder}catch{}let Ie,mt;const pe=typeof Buffer!="undefined",Ce=pe?Buffer.allocUnsafeSlow:Uint8Array,St=pe?Buffer:Uint8Array,vt=pe?4294967296:2144337920;let l,A,a=0,W,H=null;const xr=/[\u0080-\uFFFF]/,fe=Symbol("record-id");class dr extends ae{constructor(e){super(e);this.offset=0;let r,n,s,f,o,h=0,y=St.prototype.utf8Write?function(u,b,c){return l.utf8Write(u,b,c)}:we&&we.encodeInto?function(u,b){return we.encodeInto(u,l.subarray(b)).written}:!1,p=this;e||(e={});let _=e&&e.sequential,O=e.structures||e.saveStructures,U=e.maxSharedStructures;if(U==null&&(U=O?32:0),U>8160)throw new Error("Maximum maxSharedStructure is 8160");let j=e.maxOwnStructures;j==null&&(j=O?32:64),_&&!e.saveStructures&&(this.structures=[]);let $=U>32||j+U>64,L=U+64,G=U+j+64;if(G>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let D=[],J=0,oe=0;this.pack=this.encode=function(u,b){if(l||(l=new Ce(8192),A=new DataView(l.buffer,0,8192),a=0),W=l.length-10,W-a<2048?(l=new Ce(l.length),A=new DataView(l.buffer,0,l.length),W=l.length-10,a=0):a=a+7&2147483640,r=a,o=p.structuredClone?new Map:null,p.bundleStrings?(H=["",""],l[a++]=214,l[a++]=98,H.position=a-r,a+=4):H=null,n=p.structures,n){n.uninitialized&&(n=p._mergeStructures(p.getStructures()));let c=n.sharedLength||0;if(c>U)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+n.sharedLength);if(!n.transitions){n.transitions=Object.create(null);for(let w=0;w<c;w++){let d=n[w];if(!d)continue;let g,k=n.transitions;for(let S=0,F=d.length;S<F;S++){let P=d[S];g=k[P],g||(g=k[P]=Object.create(null)),k=g}k[fe]=w+64}h=c}_||(n.nextId=c+64)}s&&(s=!1),f=n||[];try{if(M(u),H){A.setUint32(H.position+r,a-H.position-r);let c=H;H=null,M(c[0]),M(c[1])}if(p.offset=a,o&&o.idsToInsert){a+=o.idsToInsert.length*6,a>W&&ne(a),p.offset=a;let c=gr(l.subarray(r,a),o.idsToInsert);return o=null,c}return b&wr?(l.start=r,l.end=a,l):l.subarray(r,a)}finally{if(n){if(oe<10&&oe++,J>1e4)n.transitions=null,oe=0,J=0,D.length>0&&(D=[]);else if(D.length>0&&!_){for(let c=0,w=D.length;c<w;c++)D[c][fe]=0;D=[]}if(s&&p.saveStructures){let c=n.sharedLength||U;n.length>c&&(n=n.slice(0,c));let w=l.subarray(r,a);return p.saveStructures(n,h)===!1?(p._mergeStructures(p.getStructures()),p.pack(u)):(h=c,w)}}b&pr&&(a=r)}};const M=u=>{a>W&&(l=ne(a));var b=typeof u,c;if(b==="string"){let w=u.length;if(H&&w>=8&&w<4096){let k=xr.test(u);H[k?0:1]+=u,l[a++]=193,M(k?-w:w);return}let d;w<32?d=1:w<256?d=2:w<65536?d=3:d=5;let g=w*3;if(a+g>W&&(l=ne(a+g)),w<64||!y){let k,S,F,P=a+d;for(k=0;k<w;k++)S=u.charCodeAt(k),S<128?l[P++]=S:S<2048?(l[P++]=S>>6|192,l[P++]=S&63|128):(S&64512)==55296&&((F=u.charCodeAt(k+1))&64512)==56320?(S=65536+((S&1023)<<10)+(F&1023),k++,l[P++]=S>>18|240,l[P++]=S>>12&63|128,l[P++]=S>>6&63|128,l[P++]=S&63|128):(l[P++]=S>>12|224,l[P++]=S>>6&63|128,l[P++]=S&63|128);c=P-a-d}else c=y(u,a+d,g);c<32?l[a++]=160|c:c<256?(d<2&&l.copyWithin(a+2,a+1,a+1+c),l[a++]=217,l[a++]=c):c<65536?(d<3&&l.copyWithin(a+3,a+2,a+2+c),l[a++]=218,l[a++]=c>>8,l[a++]=c&255):(d<5&&l.copyWithin(a+5,a+3,a+3+c),l[a++]=219,A.setUint32(a,c),a+=4),a+=c}else if(b==="number")if(u>>>0===u)u<64?l[a++]=u:u<256?(l[a++]=204,l[a++]=u):u<65536?(l[a++]=205,l[a++]=u>>8,l[a++]=u&255):(l[a++]=206,A.setUint32(a,u),a+=4);else if(u>>0===u)u>=-32?l[a++]=256+u:u>=-128?(l[a++]=208,l[a++]=u+256):u>=-32768?(l[a++]=209,A.setInt16(a,u),a+=2):(l[a++]=210,A.setInt32(a,u),a+=4);else{let w;if((w=this.useFloat32)>0&&u<4294967296&&u>=-2147483648){l[a++]=202,A.setFloat32(a,u);let d;if(w<4||(d=u*Ee[(l[a]&127)<<1|l[a+1]>>7])>>0===d){a+=4;return}else a--}l[a++]=203,A.setFloat64(a,u),a+=8}else if(b==="object")if(!u)l[a++]=192;else{if(o){let d=o.get(u);if(d){if(!d.id){let g=o.idsToInsert||(o.idsToInsert=[]);d.id=g.push(d)}l[a++]=214,l[a++]=112,A.setUint32(a,d.id),a+=4;return}else o.set(u,{offset:a-r})}let w=u.constructor;if(w===Object)ze(u,!0);else if(w===Array){c=u.length,c<16?l[a++]=144|c:c<65536?(l[a++]=220,l[a++]=c>>8,l[a++]=c&255):(l[a++]=221,A.setUint32(a,c),a+=4);for(let d=0;d<c;d++)M(u[d])}else if(w===Map){c=u.size,c<16?l[a++]=128|c:c<65536?(l[a++]=222,l[a++]=c>>8,l[a++]=c&255):(l[a++]=223,A.setUint32(a,c),a+=4);for(let[d,g]of u)M(d),M(g)}else{for(let d=0,g=Ie.length;d<g;d++){let k=mt[d];if(u instanceof k){let S=Ie[d];if(S.write){S.type&&(l[a++]=212,l[a++]=S.type,l[a++]=0),M(S.write.call(this,u));return}let F=l,P=A,Rt=a;l=null;let ie;try{ie=S.pack.call(this,u,Le=>(l=F,F=null,a+=Le,a>W&&ne(a),{target:l,targetView:A,position:a-Le}),M)}finally{F&&(l=F,A=P,a=Rt,W=l.length-10)}ie&&(ie.length+a>W&&ne(ie.length+a),a=hr(ie,l,a,S.type));return}}ze(u,!u.hasOwnProperty)}}else if(b==="boolean")l[a++]=u?195:194;else if(b==="bigint"){if(u<BigInt(1)<<BigInt(63)&&u>=-(BigInt(1)<<BigInt(63)))l[a++]=211,A.setBigInt64(a,u);else if(u<BigInt(1)<<BigInt(64)&&u>0)l[a++]=207,A.setBigUint64(a,u);else if(this.largeBigIntToFloat)l[a++]=203,A.setFloat64(a,Number(u));else throw new RangeError(u+" was too large to fit in MessagePack 64-bit integer format, set largeBigIntToFloat to convert to float-64");a+=8}else if(b==="undefined")this.encodeUndefinedAsNil?l[a++]=192:(l[a++]=212,l[a++]=0,l[a++]=0);else if(b==="function")M(this.writeFunction&&this.writeFunction());else throw new Error("Unknown type: "+b)},ze=this.useRecords===!1?this.variableMapSize?u=>{let b=Object.keys(u),c=b.length;c<16?l[a++]=128|c:c<65536?(l[a++]=222,l[a++]=c>>8,l[a++]=c&255):(l[a++]=223,A.setUint32(a,c),a+=4);let w;for(let d=0;d<c;d++)M(w=b[d]),M(u[w])}:(u,b)=>{l[a++]=222;let c=a-r;a+=2;let w=0;for(let d in u)(b||u.hasOwnProperty(d))&&(M(d),M(u[d]),w++);l[c+++r]=w>>8,l[c+r]=w&255}:u=>{let b=Object.keys(u),c,w=f.transitions||(f.transitions=Object.create(null)),d=0;for(let k=0,S=b.length;k<S;k++){let F=b[k];c=w[F],c||(c=w[F]=Object.create(null),d++),w=c}let g=w[fe];if(g)g>=96&&$?(l[a++]=((g-=96)&31)+96,l[a++]=g>>5):l[a++]=g;else{g=f.nextId,g||(g=64),g<L&&this.shouldShareStructure&&!this.shouldShareStructure(b)?(g=f.nextOwnId,g<G||(g=L),f.nextOwnId=g+1):(g>=G&&(g=L),f.nextId=g+1);let k=b.highByte=g>=96&&$?g-96>>5:-1;w[fe]=g,f[g-64]=b,g<L?(b.isShared=!0,f.sharedLength=g-63,s=!0,k>=0?(l[a++]=(g&31)+96,l[a++]=k):l[a++]=g):(k>=0?(l[a++]=213,l[a++]=114,l[a++]=(g&31)+96,l[a++]=k):(l[a++]=212,l[a++]=114,l[a++]=g),d&&(J+=oe*d),D.length>=j&&(D.shift()[fe]=0),D.push(w),M(b))}for(let k=0,S=b.length;k<S;k++)M(u[b[k]])},ne=u=>{let b;if(u>16777216){if(u-r>vt)throw new Error("Packed buffer would be larger than maximum buffer size");b=Math.min(vt,Math.round(Math.max((u-r)*(u>67108864?1.25:2),4194304)/4096)*4096)}else b=(Math.max(u-r<<2,l.length-1)>>12)+1<<12;let c=new Ce(b);return A=new DataView(c.buffer,0,b),l.copy?l.copy(c,0,r,u):c.set(l.slice(r,u)),a-=r,r=0,W=c.length-10,l=c}}useBuffer(e){l=e,A=new DataView(l.buffer,l.byteOffset,l.byteLength),a=0}}mt=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,at];Ie=[{pack(t,e,r){let n=t.getTime()/1e3;if((this.useTimestamp32||t.getMilliseconds()===0)&&n>=0&&n<4294967296){let{target:s,targetView:f,position:o}=e(6);s[o++]=214,s[o++]=255,f.setUint32(o,n)}else if(n>0&&n<17179869184){let{target:s,targetView:f,position:o}=e(10);s[o++]=215,s[o++]=255,f.setUint32(o,t.getMilliseconds()*4e6+(n/1e3/4294967296>>0)),f.setUint32(o+4,n)}else if(isNaN(n)){if(this.onInvalidDate)return e(0),r(this.onInvalidDate());let{target:s,targetView:f,position:o}=e(3);s[o++]=212,s[o++]=255,s[o++]=255}else{let{target:s,targetView:f,position:o}=e(15);s[o++]=199,s[o++]=12,s[o++]=255,f.setUint32(o,t.getMilliseconds()*1e6),f.setBigInt64(o+4,BigInt(Math.floor(n)))}}},{pack(t,e,r){let n=Array.from(t),{target:s,position:f}=e(this.structuredClone?3:0);this.structuredClone&&(s[f++]=212,s[f++]=115,s[f++]=0),r(n)}},{pack(t,e,r){let{target:n,position:s}=e(this.structuredClone?3:0);this.structuredClone&&(n[s++]=212,n[s++]=101,n[s++]=0),r([t.name,t.message])}},{pack(t,e,r){let{target:n,position:s}=e(this.structuredClone?3:0);this.structuredClone&&(n[s++]=212,n[s++]=120,n[s++]=0),r([t.source,t.flags])}},{pack(t,e){this.structuredClone?kt(t,16,e):Ut(pe?Buffer.from(t):new Uint8Array(t),e)}},{pack(t,e){let r=t.constructor;r!==St&&this.structuredClone?kt(t,yt.indexOf(r.name),e):Ut(t,e)}},{pack(t,e){let{target:r,position:n}=e(1);r[n]=193}}];function kt(t,e,r,n){let s=t.byteLength;if(s+1<256){var{target:f,position:o}=r(4+s);f[o++]=199,f[o++]=s+1}else if(s+1<65536){var{target:f,position:o}=r(5+s);f[o++]=200,f[o++]=s+1>>8,f[o++]=s+1&255}else{var{target:f,position:o,targetView:h}=r(7+s);f[o++]=201,h.setUint32(o,s+1),o+=4}f[o++]=116,f[o++]=e,f.set(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),o)}function Ut(t,e){let r=t.byteLength;var n,s;if(r<256){var{target:n,position:s}=e(r+2);n[s++]=196,n[s++]=r}else if(r<65536){var{target:n,position:s}=e(r+3);n[s++]=197,n[s++]=r>>8,n[s++]=r&255}else{var{target:n,position:s,targetView:f}=e(r+5);n[s++]=198,f.setUint32(s,r),s+=4}n.set(t,s)}function hr(t,e,r,n){let s=t.length;switch(s){case 1:e[r++]=212;break;case 2:e[r++]=213;break;case 4:e[r++]=214;break;case 8:e[r++]=215;break;case 16:e[r++]=216;break;default:s<256?(e[r++]=199,e[r++]=s):s<65536?(e[r++]=200,e[r++]=s>>8,e[r++]=s&255):(e[r++]=201,e[r++]=s>>24,e[r++]=s>>16&255,e[r++]=s>>8&255,e[r++]=s&255)}return e[r++]=n,e.set(t,r),r+=s,r}function gr(t,e){let r,n=e.length*6,s=t.length-n;for(e.sort((f,o)=>f.offset>o.offset?1:-1);r=e.pop();){let f=r.offset,o=r.id;t.copyWithin(f+n,f,s),n-=6;let h=f+n;t[h++]=214,t[h++]=105,t[h++]=o>>24,t[h++]=o>>16&255,t[h++]=o>>8&255,t[h++]=o&255,s=f}return t}let Bt=new dr({useRecords:!1});Bt.pack;Bt.pack;const wr=512,pr=1024,Me="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",_t=Me.split(""),Ot=new Array(123);for(let t=0;t<Me.length;t++)Ot[Me.charCodeAt(t)]=t;const At=t=>{if(t<0)return`-${ntob(-t)}`;let e=t>>>0,r=t/4294967296>>>0,n="";for(;r>0;)n=_t[63&e]+n,e>>>=6,e|=(63&r)<<26,r>>>=6;let s="";do s=_t[63&e]+s,e>>>=6;while(e>0);return s+n},yr=t=>{let e=0;const r=t.charAt(0)==="-"?1:0;for(let n=r;n<t.length;n++)e=e*64+Ot[t.charCodeAt(n)];return r?-e:e};var jt="https://i-ver.oss-cn-beijing.aliyuncs.com/",br=t=>{var e,r;return r=[],e=r.push.bind(r),t.on("data",e),new Promise((n,s)=>(t.on("end",()=>{n(Buffer.concat(r))}),t.on("error",s)))},mr=async t=>br(await Et(t)),Et=t=>{var e;return e=E.net.request(t),e.end(),new Promise((r,n)=>e.on("response",s=>{if(s.statusCode!==200){n(s);return}r(s)}))},le={};le.version="1.0.0";le.encode=function(e){return e.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")};le.decode=function(e){return e+=Array(5-e.length%4).join("="),e=e.replace(/\-/g,"+").replace(/\_/g,"/"),new Buffer(e,"base64")};le.validate=function(e){return/^[A-Za-z0-9\-_]+$/.test(e)};var Pe=le;var re,It,Te,De,Ct,Mt,ye,Pt,Tt,Dt;Mt=$t.promisify($e.brotliDecompress);re=q.join(Nt.ROOT,"v");X.mkdirSync(re,{recursive:!0});It="sha512";ye=t=>mr(jt+t);Ct=t=>{var e,r,n;for(r=0,n=[],e=t.length;r<e;)n.push(t.readUint16BE(r)),r+=2;return n};Pt=t=>{var e;return e=Vt.createHash(It),new Promise(r=>X.createReadStream(t).on("data",e.update.bind(e)).on("end",()=>{r(e.digest().slice(0,8))}))};Tt=async t=>{var e,r,n,s,f,o,h,y,p,_,O,U,j,$,L,G,D;for(G=Pe.encode(await ye(Pe.encode(t))),[r,s,h]=ur(await Mt(await ye(G))),n=At(t.readUintBE(0,6)),e=q.join(re,n),U=J=>be.mkdir(q.join(e,J),{recursive:!0}),await Promise.all(r.map(U)),$=q.dirname(__dirname),j=p=0,_=s.length;p<_;j=++p)if(y=s[j],f=q.join(e,y),o=h[j],L=async J=>Buffer.compare(o,await Pt(J))===0,!(X.existsSync(f)&&await L(f))){if(await U(q.dirname(y)),O=q.join($,y),X.existsSync(O)&&await L(O)){await be.copyFile(O,f);continue}if(D=X.createWriteStream(f),(await Et(jt+Pe.encode(o))).pipe($e.createBrotliDecompress()).pipe(D),await new Promise(J=>{D.on("finish",J)}),!await L(f))return}me.default.v=n};Te=(()=>{var t;return{version:t}=JSON.parse(X.readFileSync(q.join(q.dirname(__dirname),"package.json"),"utf8")),t})();Dt=t=>{var e,r,n;t=t.split("."),e=Buffer.allocUnsafe(2*t.length),n=0;for(r of t)e.writeUIntBE(r-0,n,2),n+=2;return e.readUintBE(0,6)};De=Dt(Te);var Sr=()=>Te,Re=async()=>{var t,e;return e=At(parseInt(new Date/1e3)),t=await ye("v?"+e),De<t.readUintBE(0,6)&&await Tt(t),Ct(t)};(async()=>{var t,e,r,n;if(X.existsSync(re)){n=await be.readdir(re,{withFileTypes:!0});for(e of n)e.isDirectory()&&({name:r}=e,yr(r)<De&&await rm(q.join(re,r),{recursive:!0,force:!0}))}t=parseInt(new Date/864e5),t!==me.default.update_check&&(me.default.update_check=t,await E.app.whenReady(),await Re())})();setInterval(Re,864e5);var vr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",ver:Sr,update_check:Re}),kr=()=>E.app.getPath("userData"),Ur=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",userData:kr,close:ve,rec:sr,count_down:Xt,auto_update:vr,recbar:rr});(async()=>{var t,e,r,n,s,f,o;r=Wt.default.platform(),await E.app.whenReady(),ue(),r==="darwin"&&(n=E.app.dock)!=null&&n.hide(),t=(h,y)=>{var p,_,O,U;y instanceof Function&&E.ipcMain.handle(h.join("."),(j,$)=>y(...$)),O=Object.entries(y);for(U of O)[_,p]=U,t([...h,_],p)},s=Object.entries(Ur);for(o of s)[e,f]=o,t([e],f);Zt(),Kt()})();Ht(E.app,{"window-all-closed":()=>{if(process.platform!=="darwin")return E.app.quit()},"second-instance":ue,activate:ue});E.app.requestSingleInstanceLock()||(E.app.quit(),process.exit(0));
