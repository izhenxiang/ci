var L=Object.defineProperty;var q=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var E=(e,a,o)=>a in e?L(e,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[a]=o,N=(e,a)=>{for(var o in a||(a={}))G.call(a,o)&&E(e,o,a[o]);if(q)for(var o of q(a))O.call(a,o)&&E(e,o,a[o]);return e};import{o as c,x as u,q as s,z as S,A as C,B as A,F as b,D as k,E as V,C as D,b as R,G as j,H as B,s as H,I as T,d as W,m as x,k as $,u as y,l as J,v as K}from"./b2a71417.js";import{_ as w}from"./index.js";import{c as i}from"./242a5e10.js";import"./19696688.js";import{m as P}from"./513644be.js";import{s as Q}from"./14fa0606.js";var X={setup:()=>({config:()=>{location.hash="config"}})};const F=e=>(S("data-v-e843a2b2"),e=e(),C(),e),Y=F(()=>s("div",{class:"logo"},null,-1)),Z=F(()=>s("a",{class:"home"},null,-1)),ee=F(()=>s("a",{class:"user"},null,-1));function oe(e,a){return c(),u("header",null,[Y,s("nav",null,[Z,s("a",{class:"config",onClick:a[0]||(a[0]=(...o)=>e.config&&e.config(...o))}),ee])])}var ae=w(X,[["render",oe],["__scopeId","data-v-e843a2b2"]]),se={setup:()=>{var e,a,o,r,_,d;for(r=["all \u5C4F\u5E55+\u6444\u50CF\u5934\u5F55\u5236","screen \u5C4F\u5E55\u5F55\u5236","camera \u6444\u50CF\u5934\u5F55\u5236"],d=a=0,o=r.length;a<o;d=++a)e=r[d],_=e.indexOf(" "),r[d]=[e.slice(0,_),e.slice(1+_)];return A(()=>{switch(i.src){case"screen":i.video="";break;default:i.video||(i.video=localStorage.video)}}),{li:r,config:i,go:m=>{i.src=m}}}};const te=e=>(S("data-v-69066389"),e=e(),C(),e),re={class:"method"},ne=["onClick"],ie=te(()=>s("b",{class:"ico"},null,-1));function le(e,a){return c(),u("div",re,[(c(!0),u(b,null,k(e.li,([o,r])=>(c(),u("a",{class:V([o,e.config.src==o?"now":""]),onClick:_=>e.go(o)},[ie,s("i",null,D(r),1)],10,ne))),256))])}var de=w(se,[["render",le],["__scopeId","data-v-69066389"]]),ce={setup:()=>({config:i,disabled:R(()=>i.src==="camera"),li:"\u6574\u4E2A\u684C\u9762 \u6307\u5B9A\u533A\u57DF".split(" ")})};const ue=e=>(S("data-v-213e215c"),e=e(),C(),e),_e={class:"bk"},ve=ue(()=>s("h2",null,"\u5F55\u5236\u533A\u57DF",-1)),fe={class:"select"},pe=["disabled"],me=["value"];function he(e,a){return c(),u("div",_e,[ve,s("div",fe,[j(s("select",{disabled:e.disabled,"onUpdate:modelValue":a[0]||(a[0]=o=>e.config.area=o)},[(c(!0),u(b,null,k(e.li,(o,r)=>(c(),u("option",{value:r},D(o),9,me))),256))],8,pe),[[B,e.config.area]])])])}var ge=w(ce,[["render",he],["__scopeId","data-v-213e215c"]]),be={setup:()=>{var e,a,o,r,_,d,m;return d={audio:H([]),video:H([])},{mediaDevices:r}=navigator,_=async()=>{var l,n,t,v,f,p,g,h,I,U,z;p={},g=await r.enumerateDevices();for(U of g)({kind:v,label:f,deviceId:l}=U),l==="default"&&(f=f.replace("Default - ","\u9ED8\u8BA4 ")),v.endsWith("input")&&(v=v.slice(0,-5),(p[v]=p[v]||[]).push([l,f]));for(t in d)d[t].value=p[t]||[];for(t in d){if({value:I}=d[t],I.length){if(h=i[t],h){for(z of I)if([n]=z,h===n)return}h!==""&&(h=I[0][0])}else h=0;i[t]=h}},o=void 0,a=void 0,e=()=>{a&&(clearInterval(o),a(),a=void 0)},T(e),m=W(0),A(()=>{var l,n,t;n=["audio","video"];for(l of n)t=i[l],t&&(localStorage[l]=t)}),A(async()=>{var l,n,t,v,f,p,g;e(),{audio:t}=i,!!t&&(g=await P.audio(t),l=new AudioContext,p=l.createMediaStreamSource(g),n=l.createAnalyser(),n.minDecibels=-90,n.maxDecibels=-10,n.fftSize=32,a=()=>(p.disconnect(n),l.close()),v=n.frequencyBinCount,f=new Uint8Array(v),o=setInterval(()=>{n.getByteFrequencyData(f),m.value=Math.round(Math.min(1,Math.max(...f)/200)*100)},100),p.connect(n))}),(async()=>{await _()})(),N({refresh:_,config:i,x:l=>{var n,t;t=i[l],t?t="":t=localStorage[l]||"",l==="video"&&({src:n}=i,t?n==="screen"&&(i.src="all"):n==="all"&&(i.src="screen")),i[l]=t},vol:m},d)}};const M=e=>(S("data-v-1476b424"),e=e(),C(),e),$e={class:"bk"},ye=M(()=>s("h2",null,"\u8BBE\u5907\u8BBE\u7F6E",-1)),we={class:"video"},Ie={class:"select"},Se={label:"\u8F93\u5165\u6E90"},Ce=["value"],ke=M(()=>s("optgroup",{label:"\u2500\u2500\u2500"},[s("option",{value:""},"\u7981\u7528")],-1)),De={class:"audio"},Ae={class:"select"},Ve={label:"\u8F93\u5165\u6E90"},je=["value"],Be=M(()=>s("optgroup",{label:"\u2500\u2500\u2500"},[s("option",{value:""},"\u7981\u7528")],-1));function Fe(e,a){return c(),u("div",$e,[ye,s("li",we,[s("label",{class:V({e:e.config.video}),onClick:a[0]||(a[0]=o=>e.x("video")),for:"driveVideo"},null,2),s("div",Ie,[j(s("select",{id:"driveVideo",onFocus:a[1]||(a[1]=(...o)=>e.refresh&&e.refresh(...o)),"onUpdate:modelValue":a[2]||(a[2]=o=>e.config.video=o)},[s("optgroup",Se,[(c(!0),u(b,null,k(e.video,([o,r])=>(c(),u("option",{value:o},D(r),9,Ce))),256))]),ke],544),[[B,e.config.video]])])]),s("li",De,[s("label",{class:V({e:e.config.audio}),style:x("--vol:"+e.vol+"%"),onClick:a[3]||(a[3]=o=>e.x("audio")),for:"driveAudio"},null,6),s("div",Ae,[j(s("select",{id:"driveAudio",onFocus:a[4]||(a[4]=(...o)=>e.refresh&&e.refresh(...o)),"onUpdate:modelValue":a[5]||(a[5]=o=>e.config.audio=o)},[s("optgroup",Ve,[(c(!0),u(b,null,k(e.audio,([o,r])=>(c(),u("option",{value:o},D(r),9,je))),256))]),Be],544),[[B,e.config.audio]])])])])}var Me=w(be,[["render",Fe],["__scopeId","data-v-1476b424"]]),Ue={components:{src:de,rHead:ae,rArea:ge,drive:Me,start:Q},setup:()=>{}};const ze=K("\u5F55\u5236\u89C6\u9891");function qe(e,a){const o=$("r-head"),r=$("src"),_=$("r-area"),d=$("drive"),m=$("start");return c(),u(b,null,[y(o),s("main",null,[y(r),y(_),y(d),y(m,null,{default:J(()=>[ze]),_:1})])],64)}var Te=w(Ue,[["render",qe],["__scopeId","data-v-789b2890"]]);export{Te as default};
