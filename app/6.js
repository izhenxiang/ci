"use strict";var rr=Object.defineProperty;var Ye=Object.getOwnPropertySymbols;var nr=Object.prototype.hasOwnProperty,ir=Object.prototype.propertyIsEnumerable;var et=(t,e,r)=>e in t?rr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,tt=(t,e)=>{for(var r in e||(e={}))nr.call(e,r)&&et(t,r,e[r]);if(Ye)for(var r of Ye(e))ir.call(e,r)&&et(t,r,e[r]);return t};var sr=require("os"),U=require("electron"),R=require("path"),ee=require("fs"),ar=require("crypto"),rt=require("zlib"),lr=require("util"),ae=require("fs/promises"),he=require("./i.js"),fr=require("./0.js");function or(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var ur=or(sr),cr=(t,e)=>{var r,n;for(r in e)n=e[r],t.on(r,n);return t};pe=Pe=__dirname;var Pe=Pe,pe=pe,je,nt,Te,it,Ce,ge;Ce="persist:win";it=U.session.fromPartition(Ce,{cache:!0});ge="https",je=ge+"://i.tk/",nt=pe,Te=U.session.fromPartition("file",{cache:!1}),Te.protocol.interceptFileProtocol(ge,(t,e)=>{var r,n;({pathname:n}=new URL(t.url)),r=R.join(nt,n.slice(1)||".htm"),e({path:r})}),it.protocol.interceptHttpProtocol(ge,(t,e)=>{var r,n;({url:n}=t),n.startsWith(je)?r=Te:r=null,t.session=r,e(t)});var le=new Proxy({},{get:(t,e)=>r=>{var n;return r=tt({skipTaskbar:!0,frame:!1,minimizable:!1,maximizable:!1,webPreferences:{preload:R.join(Pe,"g.js"),partition:Ce}},r),n=new U.BrowserWindow(r),n.loadURL(je+"#"+e),n.once("ready-to-show",()=>n.show()),n.focus(),n}});var st;({main:st}=le);var we=()=>{var t,e;return t=U.BrowserWindow.getAllWindows(),t.length?(e=t[0],e.isMinimized()&&e.restore(),e.show(),e.focus()):st({resizable:!1,height:585,width:426})};var at,lt,ft,dr,De;({Menu:at,Tray:lt,app:ft,globalShortcut:dr}=require("electron"));De=void 0;var xr=()=>{var t;De=new lt(R.join(pe,"$.png")),t=at.buildFromTemplate([{label:"\u663E\u793A\u754C\u9762",click:we,accelerator:"CmdOrCtrl+Shift+R"},{type:"separator"},{accelerator:"CmdOrCtrl+Shift+Q",label:"\u9000\u51FA",click:()=>ft.quit()}]),De.setContextMenu(t)};var ot;ot=t=>{var e,r,n,i,l,o,h,y;t&&(t.devToolsWebContents||({webContents:l}=t,e=new U.BrowserWindow({minimizable:!1,maximizable:!1}),[i,r]=t.getSize(),[h,y]=t.getPosition(),{width:o,height:n}=U.screen.getPrimaryDisplay().workArea,l.setDevToolsWebContents(e.webContents),l.openDevTools({mode:"detach"}),i>r?(y=0,i=0,r+=20,n-=r):(h=0,r=0,o-=i),e.setPosition(i,r),t.setPosition(h,y),e.setSize(o,n),t.focus()))};var hr=()=>{U.globalShortcut.register("CmdOrCtrl+Alt+I",()=>ot(U.BrowserWindow.getFocusedWindow()))};var ye=t=>{U.BrowserWindow.getAllWindows().forEach(e=>{var r,n;if(n=e.webContents.getURL(),n&&({hash:r}=new URL(n),r.startsWith("#main"))){t?e[t]():e.hide();return}e.close(),e.destroy()})};var ut,Z;({count_down:ut}=le);Z=void 0;var ct=()=>{var t;if(Z){Z.focus();return}t=240,Z=ut({width:t,height:t,transparent:!0,resizable:!1,hasShadow:!1}),Z.on("close",()=>{Z=void 0}),Z.setAlwaysOnTop(!0,"screen-saver")},pr={close:()=>{Z!=null&&Z.close()}},dt=new Proxy({},{get:(t,e)=>()=>{var r,n,i;return{width:n,height:r}=U.screen.getPrimaryDisplay().size,i=le[e]({width:n,height:r,roundedCorners:!1,transparent:!0,resizable:!1,hasShadow:!1}),i.setAlwaysOnTop(!0,"screen-saver"),i.setPosition(0,0),i}}),xt={ID:""},gr=t=>{var e;if(!!t)try{t.close(),t.destroy()}catch(r){e=r,console.error(e)}},Se,ht,pt,I;({recbar:pt}=le);I=void 0;Se=void 0;({draw:ht}=dt);var wr=()=>{Se||(Se=ht(),fe(),I.focus())},yr=()=>{gr(Se)},gt=()=>{var t,e,r;return e={width:568,height:48,roundedCorners:!1,transparent:!0,shadow:!1,resizable:!1},{width:r,height:t}=U.screen.getPrimaryDisplay().workArea,I=pt(e),I.setPosition((r-e.width)/2,t-28-e.height),I.on("close",()=>I=void 0),I.on("system-context-menu",(n,i)=>{n.preventDefault()}),fe(),new Promise(n=>I.webContents.on("did-finish-load",()=>{fe(),I.focus(),n(I)}))},fe=()=>{I.setAlwaysOnTop(!0,"screen-saver")},Sr=()=>{var t,e,r;e=I.getPosition(),[r,t]=I.size,I.setSize(r,t),I.setPosition(e[0]-r+42,e[1]-t+42),I.setHasShadow(!0)},vr=()=>{var t,e,r;t=I.getPosition(),I.size=e=I.getSize(),r=36,I.setSize(r,r),r+=6,I.setPosition(t[0]+e[0]-r,t[1]+e[1]-r),I.setHasShadow(!1)},br=()=>{ye("show")},mr=()=>{ye("showInactive")},kr=()=>{I.hide()},_r=async()=>{var t,e;e=await U.desktopCapturer.getSources({types:["screen"],thumbnailSize:{width:0,height:0}});for(t of e)return t.id},Ur=t=>{var e;e=`https://oss.console.aliyun.com/bucket/oss-cn-zhangjiakou/i-v/object?path=${xt.ID}/${t}/`,U.shell.openExternal(e),U.BrowserWindow.getAllWindows().forEach(r=>r.hide())},Er=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",draw:wr,draw_x:yr,\u5DE5\u5177\u6761:gt,top:fe,expand:Sr,left:vr,cancel:br,end:mr,hide:kr,screen_source:_r,stop:Ur});var wt,oe;({area:wt}=dt);oe=void 0;var Ir=()=>{oe=wt(),oe.on("close",()=>oe=void 0)},Br=()=>{oe.setIgnoreMouseEvents(!0,{forward:!0}),ct(),fe()},ve,Or,yt;({camera:yt,area:Or}=le);ve={camera:(t,e)=>{var r;return r=yt({width:800,height:500,center:!0,roundedCorners:!1,resizable:!1}),r.setAlwaysOnTop(!0),r},screen:(t,e,r)=>{},all:(t,e,r)=>{}};(()=>{var t,e,r,n,i;n=(l,o)=>function(h,y,w){w===1&&l!=="camera"?Ir():(ct(),o.apply(this,arguments)),gt()},e=Object.entries(ve);for(i of e)[t,r]=i,ve[t]=n(t,r)})();var Ar=Object.freeze(ve),Pr=(t,e,r,n)=>{ye(),Ar[t](e,r,n)},Me;try{Me=new TextDecoder}catch{}var d,Q,s=0,D={},v,X,$=0,W=0,z,G,L=[],m,St={useRecords:!1,mapsAsObjects:!0};class vt{}const bt=new vt;bt.name="MessagePack 0xC1";var re=!1;class ue{constructor(e){e&&(e.useRecords===!1&&e.mapsAsObjects===void 0&&(e.mapsAsObjects=!0),e.structures?e.structures.sharedLength=e.structures.length:e.getStructures&&((e.structures=[]).uninitialized=!0,e.structures.sharedLength=0)),Object.assign(this,e)}unpack(e,r){if(d)return Tt(()=>(Ne(),this?this.unpack(e,r):ue.prototype.unpack.call(St,e,r)));Q=r>-1?r:e.length,s=0,W=0,X=null,z=null,d=e;try{m=e.dataView||(e.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength))}catch(n){throw d=null,e instanceof Uint8Array?n:new Error("Source must be a Uint8Array or Buffer but was a "+(e&&typeof e=="object"?e.constructor.name:typeof e))}if(this instanceof ue){if(D=this,this.structures)return v=this.structures,be();(!v||v.length>0)&&(v=[])}else D=St,(!v||v.length>0)&&(v=[]);return be()}unpackMultiple(e,r){let n,i=0;try{re=!0;let l=e.length,o=this?this.unpack(e,l):ke.unpack(e,l);if(r){for(r(o);s<l;)if(i=s,r(be())===!1)return}else{for(n=[o];s<l;)i=s,n.push(be());return n}}catch(l){throw l.lastPosition=i,l.values=n,l}finally{re=!1,Ne()}}_mergeStructures(e,r){e=e||[];for(let n=0,i=e.length;n<i;n++){let l=e[n];l&&(l.isShared=!0,n>=32&&(l.highByte=n-32>>5))}e.sharedLength=e.length;for(let n in r||[])if(n>=0){let i=e[n],l=r[n];l&&(i&&((e.restoreStructures||(e.restoreStructures=[]))[n]=i),e[n]=l)}return this.structures=e}decode(e,r){return this.unpack(e,r)}}function be(){try{if(!D.trusted&&!re){let e=v.sharedLength||0;e<v.length&&(v.length=e)}let t=B();if(s==Q)v.restoreStructures&&mt(),v=null,d=null,G&&(G=null);else if(s>Q){let e=new Error("Unexpected end of MessagePack data");throw e.incomplete=!0,e}else if(!re)throw new Error("Data read, but end of buffer not reached");return t}catch(t){throw v.restoreStructures&&mt(),Ne(),(t instanceof RangeError||t.message.startsWith("Unexpected end of buffer"))&&(t.incomplete=!0),t}}function mt(){for(let t in v.restoreStructures)v[t]=v.restoreStructures[t];v.restoreStructures=null}function B(){let t=d[s++];if(t<160)if(t<128){if(t<64)return t;{let e=v[t&63]||D.getStructures&&_t()[t&63];return e?(e.read||(e.read=Re(e,t&63)),e.read()):t}}else if(t<144)if(t-=128,D.mapsAsObjects){let e={};for(let r=0;r<t;r++)e[Ot()]=B();return e}else{let e=new Map;for(let r=0;r<t;r++)e.set(B(),B());return e}else{t-=144;let e=new Array(t);for(let r=0;r<t;r++)e[r]=B();return e}else if(t<192){let e=t-160;if(W>=s)return X.slice(s-$,(s+=e)-$);if(W==0&&Q<140){let r=e<16?Le(e):It(e);if(r!=null)return r}return ze(e)}else{let e;switch(t){case 192:return null;case 193:return z?(e=B(),e>0?z[1].slice(z.position1,z.position1+=e):z[0].slice(z.position0,z.position0-=e)):bt;case 194:return!1;case 195:return!0;case 196:return Fe(d[s++]);case 197:return e=m.getUint16(s),s+=2,Fe(e);case 198:return e=m.getUint32(s),s+=4,Fe(e);case 199:return te(d[s++]);case 200:return e=m.getUint16(s),s+=2,te(e);case 201:return e=m.getUint32(s),s+=4,te(e);case 202:if(e=m.getFloat32(s),D.useFloat32>2){let r=$e[(d[s]&127)<<1|d[s+1]>>7];return s+=4,(r*e+(e>0?.5:-.5)>>0)/r}return s+=4,e;case 203:return e=m.getFloat64(s),s+=8,e;case 204:return d[s++];case 205:return e=m.getUint16(s),s+=2,e;case 206:return e=m.getUint32(s),s+=4,e;case 207:return D.int64AsNumber?(e=m.getUint32(s)*4294967296,e+=m.getUint32(s+4)):e=m.getBigUint64(s),s+=8,e;case 208:return m.getInt8(s++);case 209:return e=m.getInt16(s),s+=2,e;case 210:return e=m.getInt32(s),s+=4,e;case 211:return D.int64AsNumber?(e=m.getInt32(s)*4294967296,e+=m.getUint32(s+4)):e=m.getBigInt64(s),s+=8,e;case 212:if(e=d[s++],e==114)return At(d[s++]&63);{let r=L[e];if(r)return r.read?(s++,r.read(B())):r.noBuffer?(s++,r()):r(d.subarray(s,++s));throw new Error("Unknown extension "+e)}case 213:return e=d[s],e==114?(s++,At(d[s++]&63,d[s++])):te(2);case 214:return te(4);case 215:return te(8);case 216:return te(16);case 217:return e=d[s++],W>=s?X.slice(s-$,(s+=e)-$):Tr(e);case 218:return e=m.getUint16(s),s+=2,W>=s?X.slice(s-$,(s+=e)-$):Cr(e);case 219:return e=m.getUint32(s),s+=4,W>=s?X.slice(s-$,(s+=e)-$):Dr(e);case 220:return e=m.getUint16(s),s+=2,Ut(e);case 221:return e=m.getUint32(s),s+=4,Ut(e);case 222:return e=m.getUint16(s),s+=2,Et(e);case 223:return e=m.getUint32(s),s+=4,Et(e);default:if(t>=224)return t-256;if(t===void 0){let r=new Error("Unexpected end of MessagePack data");throw r.incomplete=!0,r}throw new Error("Unknown MessagePack token "+t)}}}const jr=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function Re(t,e){function r(){if(r.count++>2){let i=t.read=new Function("r","return function(){return {"+t.map(l=>jr.test(l)?l+":r()":"["+JSON.stringify(l)+"]:r()").join(",")+"}}")(B);return t.highByte===0&&(t.read=kt(e,t.read)),i()}let n={};for(let i=0,l=t.length;i<l;i++){let o=t[i];n[o]=B()}return n}return r.count=0,t.highByte===0?kt(e,r):r}const kt=(t,e)=>function(){let r=d[s++];if(r===0)return e();let n=t<32?-(t+(r<<5)):t+(r<<5),i=v[n]||_t()[n];if(!i)throw new Error("Record id is not defined for "+n);return i.read||(i.read=Re(i,t)),i.read()};function _t(){let t=Tt(()=>(d=null,D.getStructures()));return v=D._mergeStructures(t,v)}var ze=me,Tr=me,Cr=me,Dr=me;function me(t){let e;if(t<16&&(e=Le(t)))return e;if(t>64&&Me)return Me.decode(d.subarray(s,s+=t));const r=s+t,n=[];for(e="";s<r;){const i=d[s++];if((i&128)==0)n.push(i);else if((i&224)==192){const l=d[s++]&63;n.push((i&31)<<6|l)}else if((i&240)==224){const l=d[s++]&63,o=d[s++]&63;n.push((i&31)<<12|l<<6|o)}else if((i&248)==240){const l=d[s++]&63,o=d[s++]&63,h=d[s++]&63;let y=(i&7)<<18|l<<12|o<<6|h;y>65535&&(y-=65536,n.push(y>>>10&1023|55296),y=56320|y&1023),n.push(y)}else n.push(i);n.length>=4096&&(e+=j.apply(String,n),n.length=0)}return n.length>0&&(e+=j.apply(String,n)),e}function Ut(t){let e=new Array(t);for(let r=0;r<t;r++)e[r]=B();return e}function Et(t){if(D.mapsAsObjects){let e={};for(let r=0;r<t;r++)e[Ot()]=B();return e}else{let e=new Map;for(let r=0;r<t;r++)e.set(B(),B());return e}}var j=String.fromCharCode;function It(t){let e=s,r=new Array(t);for(let n=0;n<t;n++){const i=d[s++];if((i&128)>0){s=e;return}r[n]=i}return j.apply(String,r)}function Le(t){if(t<4)if(t<2){if(t===0)return"";{let e=d[s++];if((e&128)>1){s-=1;return}return j(e)}}else{let e=d[s++],r=d[s++];if((e&128)>0||(r&128)>0){s-=2;return}if(t<3)return j(e,r);let n=d[s++];if((n&128)>0){s-=3;return}return j(e,r,n)}else{let e=d[s++],r=d[s++],n=d[s++],i=d[s++];if((e&128)>0||(r&128)>0||(n&128)>0||(i&128)>0){s-=4;return}if(t<6){if(t===4)return j(e,r,n,i);{let l=d[s++];if((l&128)>0){s-=5;return}return j(e,r,n,i,l)}}else if(t<8){let l=d[s++],o=d[s++];if((l&128)>0||(o&128)>0){s-=6;return}if(t<7)return j(e,r,n,i,l,o);let h=d[s++];if((h&128)>0){s-=7;return}return j(e,r,n,i,l,o,h)}else{let l=d[s++],o=d[s++],h=d[s++],y=d[s++];if((l&128)>0||(o&128)>0||(h&128)>0||(y&128)>0){s-=8;return}if(t<10){if(t===8)return j(e,r,n,i,l,o,h,y);{let w=d[s++];if((w&128)>0){s-=9;return}return j(e,r,n,i,l,o,h,y,w)}}else if(t<12){let w=d[s++],E=d[s++];if((w&128)>0||(E&128)>0){s-=10;return}if(t<11)return j(e,r,n,i,l,o,h,y,w,E);let A=d[s++];if((A&128)>0){s-=11;return}return j(e,r,n,i,l,o,h,y,w,E,A)}else{let w=d[s++],E=d[s++],A=d[s++],_=d[s++];if((w&128)>0||(E&128)>0||(A&128)>0||(_&128)>0){s-=12;return}if(t<14){if(t===12)return j(e,r,n,i,l,o,h,y,w,E,A,_);{let P=d[s++];if((P&128)>0){s-=13;return}return j(e,r,n,i,l,o,h,y,w,E,A,_,P)}}else{let P=d[s++],M=d[s++];if((P&128)>0||(M&128)>0){s-=14;return}if(t<15)return j(e,r,n,i,l,o,h,y,w,E,A,_,P,M);let V=d[s++];if((V&128)>0){s-=15;return}return j(e,r,n,i,l,o,h,y,w,E,A,_,P,M,V)}}}}}function Fe(t){return D.copyBuffers?Uint8Array.prototype.slice.call(d,s,s+=t):d.subarray(s,s+=t)}function te(t){let e=d[s++];if(L[e])return L[e](d.subarray(s,s+=t));throw new Error("Unknown extension type "+e)}var Bt=new Array(4096);function Ot(){let t=d[s++];if(t>=160&&t<192){if(t=t-160,W>=s)return X.slice(s-$,(s+=t)-$);if(!(W==0&&Q<180))return ze(t)}else return s--,B();let e=(t<<5^(t>1?m.getUint16(s):t>0?d[s]:0))&4095,r=Bt[e],n=s,i=s+t-3,l,o=0;if(r&&r.bytes==t){for(;n<i;){if(l=m.getUint32(n),l!=r[o++]){n=1879048192;break}n+=4}for(i+=3;n<i;)if(l=d[n++],l!=r[o++]){n=1879048192;break}if(n===i)return s=n,r.string;i-=3,n=s}for(r=[],Bt[e]=r,r.bytes=t;n<i;)l=m.getUint32(n),r.push(l),n+=4;for(i+=3;n<i;)l=d[n++],r.push(l);let h=t<16?Le(t):It(t);return h!=null?r.string=h:r.string=ze(t)}const At=(t,e)=>{var r=B();let n=t;e!==void 0&&(t=t<32?-((e<<5)+t):(e<<5)+t,r.highByte=e);let i=v[t];return i&&i.isShared&&((v.restoreStructures||(v.restoreStructures=[]))[t]=i),v[t]=r,r.read=Re(r,n),r.read()};var Pt=typeof self=="object"?self:global;L[0]=()=>{};L[0].noBuffer=!0;L[101]=()=>{let t=B();return(Pt[t[0]]||Error)(t[1])};L[105]=t=>{let e=m.getUint32(s-4);G||(G=new Map);let r=d[s],n;r>=144&&r<160||r==220||r==221?n=[]:n={};let i={target:n};G.set(e,i);let l=B();return i.used?Object.assign(n,l):(i.target=l,l)};L[112]=t=>{let e=m.getUint32(s-4),r=G.get(e);return r.used=!0,r.target};L[115]=()=>new Set(B());const jt=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(t=>t+"Array");L[116]=t=>{let e=t[0],r=jt[e];if(!r)throw new Error("Could not find typed array for code "+e);return new Pt[r](Uint8Array.prototype.slice.call(t,1).buffer)};L[120]=()=>{let t=B();return new RegExp(t[0],t[1])};L[98]=t=>{let e=(t[0]<<24)+(t[1]<<16)+(t[2]<<8)+t[3],r=s;s+=e-4,z=[B(),B()],z.position0=0,z.position1=0;let n=s;s=r;try{return B()}finally{s=n}};L[255]=t=>t.length==4?new Date((t[0]*16777216+(t[1]<<16)+(t[2]<<8)+t[3])*1e3):t.length==8?new Date(((t[0]<<22)+(t[1]<<14)+(t[2]<<6)+(t[3]>>2))/1e6+((t[3]&3)*4294967296+t[4]*16777216+(t[5]<<16)+(t[6]<<8)+t[7])*1e3):t.length==12?new Date(((t[0]<<24)+(t[1]<<16)+(t[2]<<8)+t[3])/1e6+((t[4]&128?-281474976710656:0)+t[6]*1099511627776+t[7]*4294967296+t[8]*16777216+(t[9]<<16)+(t[10]<<8)+t[11])*1e3):new Date("invalid");function Tt(t){let e=Q,r=s,n=$,i=W,l=X,o=G,h=z,y=new Uint8Array(d.slice(0,Q)),w=v,E=v.slice(0,v.length),A=D,_=re,P=t();return Q=e,s=r,$=n,W=i,X=l,G=o,z=h,d=y,re=_,v=w,v.splice(0,v.length,...E),D=A,m=new DataView(d.buffer,d.byteOffset,d.byteLength),P}function Ne(){d=null,G=null,v=null}const $e=new Array(147);for(let t=0;t<256;t++)$e[t]=+("1e"+Math.floor(45.15-t*.30103));var ke=new ue({useRecords:!1});const Mr=ke.unpack;ke.unpackMultiple;ke.unpack;let Rr=new Float32Array(1);new Uint8Array(Rr.buffer,0,4);let _e;try{_e=new TextEncoder}catch{}let Ve,Ct;const Ue=typeof Buffer!="undefined",qe=Ue?Buffer.allocUnsafeSlow:Uint8Array,Dt=Ue?Buffer:Uint8Array,Mt=Ue?4294967296:2144337920;let f,O,a=0,H,J=null;const zr=/[\u0080-\uFFFF]/,ce=Symbol("record-id");class Lr extends ue{constructor(e){super(e);this.offset=0;let r,n,i,l,o,h=0,y=Dt.prototype.utf8Write?function(u,S,c){return f.utf8Write(u,S,c)}:_e&&_e.encodeInto?function(u,S){return _e.encodeInto(u,f.subarray(S)).written}:!1,w=this;e||(e={});let E=e&&e.sequential,A=e.structures||e.saveStructures,_=e.maxSharedStructures;if(_==null&&(_=A?32:0),_>8160)throw new Error("Maximum maxSharedStructure is 8160");let P=e.maxOwnStructures;P==null&&(P=A?32:64),E&&!e.saveStructures&&(this.structures=[]);let M=_>32||P+_>64,V=_+64,K=_+P+64;if(K>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let F=[],Y=0,q=0;this.pack=this.encode=function(u,S){if(f||(f=new qe(8192),O=new DataView(f.buffer,0,8192),a=0),H=f.length-10,H-a<2048?(f=new qe(f.length),O=new DataView(f.buffer,0,f.length),H=f.length-10,a=0):a=a+7&2147483640,r=a,o=w.structuredClone?new Map:null,w.bundleStrings?(J=["",""],f[a++]=214,f[a++]=98,J.position=a-r,a+=4):J=null,n=w.structures,n){n.uninitialized&&(n=w._mergeStructures(w.getStructures()));let c=n.sharedLength||0;if(c>_)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+n.sharedLength);if(!n.transitions){n.transitions=Object.create(null);for(let g=0;g<c;g++){let x=n[g];if(!x)continue;let p,k=n.transitions;for(let b=0,N=x.length;b<N;b++){let C=x[b];p=k[C],p||(p=k[C]=Object.create(null)),k=p}k[ce]=g+64}h=c}E||(n.nextId=c+64)}i&&(i=!1),l=n||[];try{if(T(u),J){O.setUint32(J.position+r,a-J.position-r);let c=J;J=null,T(c[0]),T(c[1])}if(w.offset=a,o&&o.idsToInsert){a+=o.idsToInsert.length*6,a>H&&ie(a),w.offset=a;let c=Nr(f.subarray(r,a),o.idsToInsert);return o=null,c}return S&$r?(f.start=r,f.end=a,f):f.subarray(r,a)}finally{if(n){if(q<10&&q++,Y>1e4)n.transitions=null,q=0,Y=0,F.length>0&&(F=[]);else if(F.length>0&&!E){for(let c=0,g=F.length;c<g;c++)F[c][ce]=0;F=[]}if(i&&w.saveStructures){let c=n.sharedLength||_;n.length>c&&(n=n.slice(0,c));let g=f.subarray(r,a);return w.saveStructures(n,h)===!1?(w._mergeStructures(w.getStructures()),w.pack(u)):(h=c,g)}}S&Vr&&(a=r)}};const T=u=>{a>H&&(f=ie(a));var S=typeof u,c;if(S==="string"){let g=u.length;if(J&&g>=8&&g<4096){let k=zr.test(u);J[k?0:1]+=u,f[a++]=193,T(k?-g:g);return}let x;g<32?x=1:g<256?x=2:g<65536?x=3:x=5;let p=g*3;if(a+p>H&&(f=ie(a+p)),g<64||!y){let k,b,N,C=a+x;for(k=0;k<g;k++)b=u.charCodeAt(k),b<128?f[C++]=b:b<2048?(f[C++]=b>>6|192,f[C++]=b&63|128):(b&64512)==55296&&((N=u.charCodeAt(k+1))&64512)==56320?(b=65536+((b&1023)<<10)+(N&1023),k++,f[C++]=b>>18|240,f[C++]=b>>12&63|128,f[C++]=b>>6&63|128,f[C++]=b&63|128):(f[C++]=b>>12|224,f[C++]=b>>6&63|128,f[C++]=b&63|128);c=C-a-x}else c=y(u,a+x,p);c<32?f[a++]=160|c:c<256?(x<2&&f.copyWithin(a+2,a+1,a+1+c),f[a++]=217,f[a++]=c):c<65536?(x<3&&f.copyWithin(a+3,a+2,a+2+c),f[a++]=218,f[a++]=c>>8,f[a++]=c&255):(x<5&&f.copyWithin(a+5,a+3,a+3+c),f[a++]=219,O.setUint32(a,c),a+=4),a+=c}else if(S==="number")if(u>>>0===u)u<64?f[a++]=u:u<256?(f[a++]=204,f[a++]=u):u<65536?(f[a++]=205,f[a++]=u>>8,f[a++]=u&255):(f[a++]=206,O.setUint32(a,u),a+=4);else if(u>>0===u)u>=-32?f[a++]=256+u:u>=-128?(f[a++]=208,f[a++]=u+256):u>=-32768?(f[a++]=209,O.setInt16(a,u),a+=2):(f[a++]=210,O.setInt32(a,u),a+=4);else{let g;if((g=this.useFloat32)>0&&u<4294967296&&u>=-2147483648){f[a++]=202,O.setFloat32(a,u);let x;if(g<4||(x=u*$e[(f[a]&127)<<1|f[a+1]>>7])>>0===x){a+=4;return}else a--}f[a++]=203,O.setFloat64(a,u),a+=8}else if(S==="object")if(!u)f[a++]=192;else{if(o){let x=o.get(u);if(x){if(!x.id){let p=o.idsToInsert||(o.idsToInsert=[]);x.id=p.push(x)}f[a++]=214,f[a++]=112,O.setUint32(a,x.id),a+=4;return}else o.set(u,{offset:a-r})}let g=u.constructor;if(g===Object)Qe(u,!0);else if(g===Array){c=u.length,c<16?f[a++]=144|c:c<65536?(f[a++]=220,f[a++]=c>>8,f[a++]=c&255):(f[a++]=221,O.setUint32(a,c),a+=4);for(let x=0;x<c;x++)T(u[x])}else if(g===Map){c=u.size,c<16?f[a++]=128|c:c<65536?(f[a++]=222,f[a++]=c>>8,f[a++]=c&255):(f[a++]=223,O.setUint32(a,c),a+=4);for(let[x,p]of u)T(x),T(p)}else{for(let x=0,p=Ve.length;x<p;x++){let k=Ct[x];if(u instanceof k){let b=Ve[x];if(b.write){b.type&&(f[a++]=212,f[a++]=b.type,f[a++]=0),T(b.write.call(this,u));return}let N=f,C=O,tr=a;f=null;let se;try{se=b.pack.call(this,u,Xe=>(f=N,N=null,a+=Xe,a>H&&ie(a),{target:f,targetView:O,position:a-Xe}),T)}finally{N&&(f=N,O=C,a=tr,H=f.length-10)}se&&(se.length+a>H&&ie(se.length+a),a=Fr(se,f,a,b.type));return}}Qe(u,!u.hasOwnProperty)}}else if(S==="boolean")f[a++]=u?195:194;else if(S==="bigint"){if(u<BigInt(1)<<BigInt(63)&&u>=-(BigInt(1)<<BigInt(63)))f[a++]=211,O.setBigInt64(a,u);else if(u<BigInt(1)<<BigInt(64)&&u>0)f[a++]=207,O.setBigUint64(a,u);else if(this.largeBigIntToFloat)f[a++]=203,O.setFloat64(a,Number(u));else throw new RangeError(u+" was too large to fit in MessagePack 64-bit integer format, set largeBigIntToFloat to convert to float-64");a+=8}else if(S==="undefined")this.encodeUndefinedAsNil?f[a++]=192:(f[a++]=212,f[a++]=0,f[a++]=0);else if(S==="function")T(this.writeFunction&&this.writeFunction());else throw new Error("Unknown type: "+S)},Qe=this.useRecords===!1?this.variableMapSize?u=>{let S=Object.keys(u),c=S.length;c<16?f[a++]=128|c:c<65536?(f[a++]=222,f[a++]=c>>8,f[a++]=c&255):(f[a++]=223,O.setUint32(a,c),a+=4);let g;for(let x=0;x<c;x++)T(g=S[x]),T(u[g])}:(u,S)=>{f[a++]=222;let c=a-r;a+=2;let g=0;for(let x in u)(S||u.hasOwnProperty(x))&&(T(x),T(u[x]),g++);f[c+++r]=g>>8,f[c+r]=g&255}:u=>{let S=Object.keys(u),c,g=l.transitions||(l.transitions=Object.create(null)),x=0;for(let k=0,b=S.length;k<b;k++){let N=S[k];c=g[N],c||(c=g[N]=Object.create(null),x++),g=c}let p=g[ce];if(p)p>=96&&M?(f[a++]=((p-=96)&31)+96,f[a++]=p>>5):f[a++]=p;else{p=l.nextId,p||(p=64),p<V&&this.shouldShareStructure&&!this.shouldShareStructure(S)?(p=l.nextOwnId,p<K||(p=V),l.nextOwnId=p+1):(p>=K&&(p=V),l.nextId=p+1);let k=S.highByte=p>=96&&M?p-96>>5:-1;g[ce]=p,l[p-64]=S,p<V?(S.isShared=!0,l.sharedLength=p-63,i=!0,k>=0?(f[a++]=(p&31)+96,f[a++]=k):f[a++]=p):(k>=0?(f[a++]=213,f[a++]=114,f[a++]=(p&31)+96,f[a++]=k):(f[a++]=212,f[a++]=114,f[a++]=p),x&&(Y+=q*x),F.length>=P&&(F.shift()[ce]=0),F.push(g),T(S))}for(let k=0,b=S.length;k<b;k++)T(u[S[k]])},ie=u=>{let S;if(u>16777216){if(u-r>Mt)throw new Error("Packed buffer would be larger than maximum buffer size");S=Math.min(Mt,Math.round(Math.max((u-r)*(u>67108864?1.25:2),4194304)/4096)*4096)}else S=(Math.max(u-r<<2,f.length-1)>>12)+1<<12;let c=new qe(S);return O=new DataView(c.buffer,0,S),f.copy?f.copy(c,0,r,u):c.set(f.slice(r,u)),a-=r,r=0,H=c.length-10,f=c}}useBuffer(e){f=e,O=new DataView(f.buffer,f.byteOffset,f.byteLength),a=0}}Ct=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,vt];Ve=[{pack(t,e,r){let n=t.getTime()/1e3;if((this.useTimestamp32||t.getMilliseconds()===0)&&n>=0&&n<4294967296){let{target:i,targetView:l,position:o}=e(6);i[o++]=214,i[o++]=255,l.setUint32(o,n)}else if(n>0&&n<17179869184){let{target:i,targetView:l,position:o}=e(10);i[o++]=215,i[o++]=255,l.setUint32(o,t.getMilliseconds()*4e6+(n/1e3/4294967296>>0)),l.setUint32(o+4,n)}else if(isNaN(n)){if(this.onInvalidDate)return e(0),r(this.onInvalidDate());let{target:i,targetView:l,position:o}=e(3);i[o++]=212,i[o++]=255,i[o++]=255}else{let{target:i,targetView:l,position:o}=e(15);i[o++]=199,i[o++]=12,i[o++]=255,l.setUint32(o,t.getMilliseconds()*1e6),l.setBigInt64(o+4,BigInt(Math.floor(n)))}}},{pack(t,e,r){let n=Array.from(t),{target:i,position:l}=e(this.structuredClone?3:0);this.structuredClone&&(i[l++]=212,i[l++]=115,i[l++]=0),r(n)}},{pack(t,e,r){let{target:n,position:i}=e(this.structuredClone?3:0);this.structuredClone&&(n[i++]=212,n[i++]=101,n[i++]=0),r([t.name,t.message])}},{pack(t,e,r){let{target:n,position:i}=e(this.structuredClone?3:0);this.structuredClone&&(n[i++]=212,n[i++]=120,n[i++]=0),r([t.source,t.flags])}},{pack(t,e){this.structuredClone?Rt(t,16,e):zt(Ue?Buffer.from(t):new Uint8Array(t),e)}},{pack(t,e){let r=t.constructor;r!==Dt&&this.structuredClone?Rt(t,jt.indexOf(r.name),e):zt(t,e)}},{pack(t,e){let{target:r,position:n}=e(1);r[n]=193}}];function Rt(t,e,r,n){let i=t.byteLength;if(i+1<256){var{target:l,position:o}=r(4+i);l[o++]=199,l[o++]=i+1}else if(i+1<65536){var{target:l,position:o}=r(5+i);l[o++]=200,l[o++]=i+1>>8,l[o++]=i+1&255}else{var{target:l,position:o,targetView:h}=r(7+i);l[o++]=201,h.setUint32(o,i+1),o+=4}l[o++]=116,l[o++]=e,l.set(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),o)}function zt(t,e){let r=t.byteLength;var n,i;if(r<256){var{target:n,position:i}=e(r+2);n[i++]=196,n[i++]=r}else if(r<65536){var{target:n,position:i}=e(r+3);n[i++]=197,n[i++]=r>>8,n[i++]=r&255}else{var{target:n,position:i,targetView:l}=e(r+5);n[i++]=198,l.setUint32(i,r),i+=4}n.set(t,i)}function Fr(t,e,r,n){let i=t.length;switch(i){case 1:e[r++]=212;break;case 2:e[r++]=213;break;case 4:e[r++]=214;break;case 8:e[r++]=215;break;case 16:e[r++]=216;break;default:i<256?(e[r++]=199,e[r++]=i):i<65536?(e[r++]=200,e[r++]=i>>8,e[r++]=i&255):(e[r++]=201,e[r++]=i>>24,e[r++]=i>>16&255,e[r++]=i>>8&255,e[r++]=i&255)}return e[r++]=n,e.set(t,r),r+=i,r}function Nr(t,e){let r,n=e.length*6,i=t.length-n;for(e.sort((l,o)=>l.offset>o.offset?1:-1);r=e.pop();){let l=r.offset,o=r.id;t.copyWithin(l+n,l,i),n-=6;let h=l+n;t[h++]=214,t[h++]=105,t[h++]=o>>24,t[h++]=o>>16&255,t[h++]=o>>8&255,t[h++]=o&255,i=l}return t}let Lt=new Lr({useRecords:!1});Lt.pack;Lt.pack;const $r=512,Vr=1024,We="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Ft=We.split(""),Nt=new Array(123);for(let t=0;t<We.length;t++)Nt[We.charCodeAt(t)]=t;const $t=t=>{if(t<0)return`-${ntob(-t)}`;let e=t>>>0,r=t/4294967296>>>0,n="";for(;r>0;)n=Ft[63&e]+n,e>>>=6,e|=(63&r)<<26,r>>>=6;let i="";do i=Ft[63&e]+i,e>>>=6;while(e>0);return i+n},Vt=t=>{let e=0;const r=t.charAt(0)==="-"?1:0;for(let n=r;n<t.length;n++)e=e*64+Nt[t.charCodeAt(n)];return r?-e:e};var qt="https://i-ver.oss-cn-beijing.aliyuncs.com/",Wt,qr=async t=>{var e,r;return t=await t,r=[],e=r.push.bind(r),t.on("data",e),new Promise((n,i)=>(t.on("end",()=>{n(Buffer.concat(r))}),t.on("error",i)))},Wr=t=>qr(Ht(t));Wt=t=>{var e;return e=U.net.request(t),e.end(),new Promise((r,n)=>(e.on("error",i=>{n(i)}),e.on("response",i=>{if(i.statusCode!==200){n(i);return}r(i)})))};var Ht=t=>Wt(t),de={};de.version="1.0.0";de.encode=function(e){return e.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")};de.decode=function(e){return e+=Array(5-e.length%4).join("="),e=e.replace(/\-/g,"+").replace(/\_/g,"/"),new Buffer(e,"base64")};de.validate=function(e){return/^[A-Za-z0-9\-_]+$/.test(e)};var He=de,Jt=JSON.parse(ee.readFileSync(R.join(__dirname,"package.json"),"utf8"));var ne,Zt,Ee,Ie,Je,Be,xe,Oe,Gt,Kt,Ze,Ae,Qt,Ge,Xt,Ke;Kt=lr.promisify(rt.brotliDecompress);var Hr=()=>(U.app.relaunch(),U.app.exit());ne=R.join(fr.ROOT,"v");ee.mkdirSync(ne,{recursive:!0});Zt="sha512";Ae=t=>Wr(qt+t);Xt=t=>{var e,r,n;t=t.split("."),e=Buffer.allocUnsafe(2*t.length),n=0;for(r of t)e.writeUIntBE(r-0,n,2),n+=2;return e.readUintBE(0,6)};Qt=t=>{var e;return e=ar.createHash(Zt),new Promise(r=>ee.createReadStream(t).on("data",e.update.bind(e)).on("end",()=>{r(e.digest().slice(0,8))}))};Oe=(()=>{var t;return{v:t}=he.default,t&&Vt(t)})();Be=Xt(Jt.version);xe=0;Ke=async()=>{var t;return t=$t(parseInt(new Date/1e3)),xe=await Ae("v?"+t),xe};Gt=async t=>{var e,r,n,i,l,o,h,y,w,E,A,_,P,M,V,K,F,Y;if(t||(t=xe||await Ke()),E=t.readUintBE(0,6),Be!==Oe){if(n=$t(E),e=R.join(ne,n),E===Oe)return e;for(F=He.encode(await Ae(He.encode(t))),[r,i,h]=Mr(await Kt(await Ae(F))),P=q=>ae.mkdir(R.join(e,q),{recursive:!0}),await Promise.all(r.map(P)),V=R.dirname(__dirname),M=w=0,A=i.length;w<A;M=++w)if(y=i[M],l=R.join(e,y),o=h[M],K=async q=>Buffer.compare(o,await Qt(q))===0,!(ee.existsSync(l)&&await K(l))){if(await P(R.dirname(y)),_=R.join(V,y),ee.existsSync(_)&&await K(_)){await ae.copyFile(_,l);continue}if(Y=ee.createWriteStream(l),(await Ht(qt+He.encode(o))).pipe(rt.createBrotliDecompress()).pipe(Y),await new Promise(q=>{Y.on("finish",q)}),!await K(l))return}return he.default.v=n,Oe=E,e}};var Yt=async()=>{var t,e,r;try{t=await Ke()}catch(n){return e=n,console.trace(e),0}return r=Be<t.readUintBE(0,6),r?t:0},Jr=()=>Jt.version;Ze=async()=>{var t;(t=await Yt())&&await er(t)};setInterval(Ze,864e5);Ee=Ie=Je=void 0;Ge=()=>Ie=new Promise(t=>Je=t);Ge();var Zr=()=>Ie,er=(...t)=>(Ee||(Ee=Gt(...t).then(async e=>{e&&(Je([xe,JSON.parse(await ae.readFile(R.join(e,"package.json"),"utf8")).description]),Ge())}).finally(()=>{Ee=!1})),Ie);setTimeout(async()=>{var t,e,r,n;if(ee.existsSync(ne)){n=await ae.readdir(ne,{withFileTypes:!0});for(e of n)e.isDirectory()&&({name:r}=e,Vt(r)<Be&&await ae.rm(R.join(ne,r),{recursive:!0,force:!0}))}if(t=parseInt(new Date/864e5),t!==he.default.update_check)return he.default.update_check=t,await Ze()},15e3);var Gr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",relaunch:Hr,update_check:Yt,ver_now:Jr,update_promise:Zr,update:er}),Kr=t=>{xt.ID=t},Qr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",ID:Kr}),Xr=()=>U.app.getPath("userData"),Yr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",userData:Xr,close:ye,rec:Pr,count_down:pr,auto_update:Gr,recbar:Er,USER:Qr,area:Br});(()=>{var t,e,r,n,i,l,o;r=ur.default.platform(),we(),r==="darwin"&&(n=U.app.dock)!=null&&n.hide(),t=(h,y)=>{var w,E,A,_;y instanceof Function&&U.ipcMain.handle(h.join("."),(P,M)=>y(...M)),A=Object.entries(y);for(_ of A)[E,w]=_,t([...h,E],w)},i=Object.entries(Yr);for(o of i)[e,l]=o,t([e],l);xr(),hr()})();cr(U.app,{"window-all-closed":()=>{if(process.platform!=="darwin")return U.app.quit()},"second-instance":we,activate:we});U.app.requestSingleInstanceLock()||(U.app.quit(),process.exit(0));
