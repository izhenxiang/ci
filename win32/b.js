import{q as L}from"./_.js";import{i as N}from"./1.js";var l=(e,r)=>{var n,t;for(n in r)t=r[n],e.addEventListener(n,t);return()=>{var i;i=[];for(n in r)t=r[n],i.push(e.removeEventListener(n,t));return i}},B=(e,r)=>{var n;return n=l(e,r),L(n),n},_,m,p,u,T;({drag:{setBounds:T,getBounds:m}}=N);p="pointermove";_=new Set("SELECT BUTTON A INPUT TEXTAREA".split(" "));({round:u}=Math);var x=e=>{var r,n,t,i;e.style.appRegion="no-drag",t=!1,r=()=>{},n=async o=>{var v,d,f,E,c,g,s,a;if(!t&&o.button===0){for(a=o.target;;){if({nodeName:s}=a,_.has(s))return;if(s==="BODY")break;a=a.parentNode}t=!0,{screenX:c,screenY:g}=o,{x:d,y:f,height:v,width:E}=await m(),r=y=>{var h,w;({screenX:h,screenY:w}=y),T(u(h-c+d),u(w-g+f),E,v)},e.setPointerCapture(o.pointerId),e.addEventListener(p,r)}},i=async o=>{t&&(await r(o),e.releasePointerCapture(o.pointerId),e.removeEventListener(p,r),r=()=>{},t=!1)},B(e,{lostpointercapture:i,pointercancel:i,pointerdown:n,pointerup:i})};export{x as d};
