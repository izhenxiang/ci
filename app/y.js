import p from"./4.js";import{c as e}from"./n.js";import{a as n}from"./q.js";import{v as j}from"./x.js";import{i as w}from"./1.js";import{C as b,w as k}from"./u.js";import"./0.js";import"./e.js";import"./l.js";import"./..js";import"./i.js";import"./2.js";function l(){return new Worker("/v.js",{type:"module"})}var o,i,t,c,m,d,f,r;({camera:i}=w);m=await j();r=m.getVideoTracks()[0];e.area-1==0&&(f=new MediaStreamTrackProcessor({track:r}),r=new MediaStreamTrackGenerator({kind:"video"}),t=[f.readable,r.writable],c=()=>{new l().postMessage([...t,...JSON.parse(localStorage.area)],t)});o=(await n()).getTracks();d=new MediaStream([r,...o]);b(()=>{var a,s;a=!!e.audio;for(s of o)s.enabled=a});k(()=>e.video,async()=>{var a;({video:a}=e),a?await i.circle():await i.x()});p(d,c);
