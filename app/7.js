import{a as z,_ as V}from"./b.js";import{c as I}from"./l.js";import{m as b}from"./g.js";import{i as P}from"./1.js";import{s as B,e as A,C as L,k as O,u as r,D as f,F as S,o as D,z as F,A as N}from"./9.js";import"./v.js";import"./..js";import"./-.js";import"./d.js";import"./3.js";var E=/Win/.test(navigator.userAgent),h,k,j;({camera:k}=P);h="video";j=(o,t,i,v)=>Math.sqrt((o-i)**2+(t-v)**2);var R={setup:()=>{var o,t,i,v,_,y,w,m,g,x,n;return n=B(),E?(m=g=t=i=o=void 0,_=()=>o=requestAnimationFrame(async()=>{var e,l,c,d,s,a,u;if([s,a]=await P.mouse(),s!==m||a!==g){if([c,d]=await k.move(s-t,a-i),u=Math.round(outerHeight/2),e=c+u,l=d+u,j(s,a,e,l)>=u)return;m=s,g=a}_()}),y=e=>{console.log("down",e.button),e.target.tagName==="VIDEO"&&(w(e),n.value.setPointerCapture(e.pointerId),k.init(),t=m=e.screenX,i=g=e.screenY,_())},w=e=>{console.log("up",e.button),!!o&&(cancelAnimationFrame(o),o=void 0,n.value.releasePointerCapture(e.pointerId))}):y=w=()=>{},A(async()=>{var e,l,c,d,s;if(E&&(document.getElementsByTagName("nav")[0].style.appRegion=n.value.style.appRegion="no-drag"),I.src==="camera"){l=[],c=["audio",h];for(e of c)d=await b(e),e===h&&d&&(n.value.srcObject=d),l=l.concat(d.getTracks());s=new MediaStream(l),L(()=>{var a,u,C,M;({video:M,audio:a}=I),u={video:M,audio:a},C=s.getTracks();for(e of C)e.enabled=!!u[e.kind]}),(await z(()=>import("./$.js"),["$.js","..js","l.js","v.js","-.js","d.js","9.js","1.js","a.js"])).default(s)}else n.value.srcObject=await b(h)}),x=B(outerWidth),v=B(0),{v:n,size:x,mirror:v,mouseup:w,mousedown:y,w:e=>{x.value=e,k.size(e)},turn:()=>{v.value=!v.value},x:()=>{I.video=""}}}};const p=o=>(F("data-v-17b15923"),o=o(),N(),o),T=p(()=>r("svg",{fill:"none",height:"11",viewBox:"0 0 10 11",width:"10",xmlns:"http://www.w3.org/2000/svg"},[r("circle",{cx:"5",cy:"5.5",opacity:"0.6",r:"4.5",stroke:"var(--c)"})],-1)),H=p(()=>r("svg",{class:"now",fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},[r("circle",{cx:"12",cy:"12",fill:"var(--c)",opacity:"0.7",r:"4.5",stroke:"var(--c)"})],-1)),W=[T,H],$=p(()=>r("svg",{fill:"none",height:"15",viewBox:"0 0 14 15",width:"14",xmlns:"http://www.w3.org/2000/svg"},[r("circle",{cx:"7",cy:"7.5",opacity:"0.7",r:"6.5",stroke:"var(--c)"})],-1)),q=p(()=>r("svg",{class:"now",fill:"none",height:"25",viewBox:"0 0 24 25",width:"24",xmlns:"http://www.w3.org/2000/svg"},[r("circle",{cx:"12",cy:"12.5",fill:"var(--c)",opacity:"0.7",r:"6.5",stroke:"var(--c)"})],-1)),Z=[$,q],X=p(()=>r("svg",{fill:"none",height:"25",viewBox:"0 0 24 25",width:"24",xmlns:"http://www.w3.org/2000/svg"},[r("g",{opacity:"0.6"},[r("path",{d:"M10 18.5V6.5L3 18.5H10Z",fill:"var(--c)",stroke:"var(--c)","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"}),r("path",{d:"M14 18.5V6.5L21 18.5H14Z",stroke:"var(--c)","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"})])],-1)),Y=[X],G=p(()=>r("svg",{fill:"none",height:"25",viewBox:"0 0 24 25",width:"24",xmlns:"http://www.w3.org/2000/svg"},[r("g",{opacity:"0.6"},[r("path",{d:"M16 8.5L8 16.5",stroke:"var(--c)","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"}),r("path",{d:"M16 16.5L8 8.5",stroke:"var(--c)","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"})])],-1)),J=[G];function K(o,t){return D(),O(S,null,[r("video",{class:f({mirror:o.mirror}),onPointercancel:t[0]||(t[0]=(...i)=>o.mouseup&&o.mouseup(...i)),onPointerdown:t[1]||(t[1]=(...i)=>o.mousedown&&o.mousedown(...i)),onPointerup:t[2]||(t[2]=(...i)=>o.mouseup&&o.mouseup(...i)),autoplay:"",ref:"v"},null,34),r("nav",null,[r("a",{class:f({now:o.size==200}),onClick:t[3]||(t[3]=i=>o.w(200))},W,2),r("a",{class:f({now:o.size==320}),onClick:t[4]||(t[4]=i=>o.w(320))},Z,2),r("a",{class:f({mirror:o.mirror}),onClick:t[5]||(t[5]=(...i)=>o.turn&&o.turn(...i))},Y,2),r("a",{onClick:t[6]||(t[6]=(...i)=>o.x&&o.x(...i))},J)])],64)}var lo=V(R,[["render",K],["__scopeId","data-v-17b15923"]]);export{lo as default};
