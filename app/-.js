import n from"./y.js";import{c as e}from"./l.js";import{a as f}from"./h.js";import{v as w}from"./v.js";import{i as k}from"./0.js";import{C as l,w as u}from"./7.js";import"./..js";import"./9.js";import"./w.js";import"./$.js";import"./b.js";import"./1.js";function v(){return new Worker("/r.js",{type:"module"})}var t,i,o,s,p,d,c,a;({camera:i}=k);p=await w();a=p.getVideoTracks()[0];e.area-1===0&&(c=new MediaStreamTrackProcessor({track:a}),a=new MediaStreamTrackGenerator({kind:"video"}),o=[c.readable,a.writable],s=()=>{new v().postMessage([...o,...JSON.parse(localStorage.area)],o)});t=(await f()).getTracks();d=new MediaStream([a,...t]);l(()=>{var r,m;r=!!e.audio;for(m of t)m.enabled=r});u(()=>e.video,async()=>{var r;({video:r}=e),r?await i.circle(!0):await i.x()});n(d,s);
