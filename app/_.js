import{a as T,_ as V}from"./f.js";import{c as E}from"./5.js";import{m as A}from"./h.js";import{i as N}from"./3.js";import{s as v,e as R,C as W,k as L,D as Y,F as $,u as t,E as m,o as P,z as F,A as H}from"./l.js";import"./i.js";import"./2.js";import"./1.js";import"./g.js";import"./4.js";var O=/Win/.test(navigator.userAgent),X=e=>new Promise(r=>setTimeout(r,e)),w,c;({camera:c}=N);w="video";var Z={setup:()=>{var e,r,i,p,f,g,d,h,k,y,_,u,B,j,I,S;return S=v(),g=v(),r=void 0,O?(p=f=void 0,B="pointermove",_=async o=>{var a,s;return{screenX:a,screenY:s}=o,await c.move(a-p,s-f)},k=async o=>{await _(o)},u=!1,h=async o=>{if(o.button===0){for(;;){if(tagName==="A")return;if(tagName==="BODY")break}await c.init(),u=!0,p=o.screenX,f=o.screenY,r.setPointerCapture(o.pointerId),r.addEventListener(B,k)}},j=async o=>{u&&(await _(o),r.releasePointerCapture(o.pointerId),r.removeEventListener(B,k),u=!1)},y=o=>{j(o)}):h=y=()=>{},i=v(!1),e=async o=>{for(var a,s;;){try{s=await A(o)}catch(n){a=n,console.error(o,a),i.value={audio:"\u9EA6\u514B\u98CE",video:"\u6444\u50CF\u5934"}[o],await X(1e3);continue}return i.value=!1,s}},R(async()=>{var o,a,s,n,b;if(O&&(document.body.style.appRegion="no-drag",r=g.value),E.src==="camera"){a=[],s=["audio",w];for(o of s)n=await e(o),n&&(o===w&&(b=n),a=a.concat(n.getTracks()));setTimeout(async()=>{var C;C=new MediaStream(a),W(()=>{var z,M,x,D;({video:D,audio:z}=E),M={video:D,audio:z},x=C.getTracks();for(o of x)o.enabled=!!M[o.kind]}),(await T(()=>import("./e.js"),["e.js","2.js","$.js","3.js","5.js","i.js","1.js","g.js","l.js","b.js"])).default(C)})}else b=await e(w);S.value.srcObject=b}),I=v(outerWidth),d=v(localStorage.\u4EBA\u50CF\u955C\u50CF-0),{v:S,main:g,size:I,mirror:d,mouseup:y,mousedown:h,err:i,w:o=>{localStorage.\u4EBA\u50CF\u5C3A\u5BF8=o,I.value=o,c.size(o)},turn:()=>{localStorage.\u4EBA\u50CF\u955C\u50CF=(d.value=!d.value)-0},x:()=>{E.video=""}}}};const l=e=>(F("data-v-4bc47262"),e=e(),H(),e),q={key:0},G=l(()=>t("svg",{fill:"none",height:"11",viewBox:"0 0 10 11",width:"10",xmlns:"http://www.w3.org/2000/svg"},[t("circle",{cx:"5",cy:"5.5",opacity:"0.6",r:"4.5",stroke:"var(--c)"})],-1)),J=l(()=>t("svg",{class:"now",fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},[t("circle",{cx:"12",cy:"12",fill:"var(--c)",opacity:"0.7",r:"4.5",stroke:"var(--c)"})],-1)),K=[G,J],Q=l(()=>t("svg",{fill:"none",height:"15",viewBox:"0 0 14 15",width:"14",xmlns:"http://www.w3.org/2000/svg"},[t("circle",{cx:"7",cy:"7.5",opacity:"0.7",r:"6.5",stroke:"var(--c)"})],-1)),U=l(()=>t("svg",{class:"now",fill:"none",height:"25",viewBox:"0 0 24 25",width:"24",xmlns:"http://www.w3.org/2000/svg"},[t("circle",{cx:"12",cy:"12.5",fill:"var(--c)",opacity:"0.7",r:"6.5",stroke:"var(--c)"})],-1)),ee=[Q,U],oe=l(()=>t("svg",{fill:"none",height:"25",viewBox:"0 0 24 25",width:"24",xmlns:"http://www.w3.org/2000/svg"},[t("g",{opacity:"0.6"},[t("path",{d:"M10 18.5V6.5L3 18.5H10Z",fill:"var(--c)",stroke:"var(--c)","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"}),t("path",{d:"M14 18.5V6.5L21 18.5H14Z",stroke:"var(--c)","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"})])],-1)),re=[oe],te=l(()=>t("svg",{fill:"none",height:"25",viewBox:"0 0 24 25",width:"24",xmlns:"http://www.w3.org/2000/svg"},[t("g",{opacity:"0.6"},[t("path",{d:"M16 8.5L8 16.5",stroke:"var(--c)","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"}),t("path",{d:"M16 16.5L8 8.5",stroke:"var(--c)","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"})])],-1)),ie=[te];function ae(e,r){return P(),L("main",{onLostpointercapture:r[4]||(r[4]=(...i)=>e.mouseup&&e.mouseup(...i)),onPointercancel:r[5]||(r[5]=(...i)=>e.mouseup&&e.mouseup(...i)),onPointerdown:r[6]||(r[6]=(...i)=>e.mousedown&&e.mousedown(...i)),onPointerup:r[7]||(r[7]=(...i)=>e.mouseup&&e.mouseup(...i)),ref:"main"},[e.err?(P(),L("h3",q,"\u8BF7\u6388\u6743"+Y(e.err),1)):(P(),L($,{key:1},[t("video",{class:m({mirror:e.mirror}),autoplay:"",ref:"v"},null,2),t("nav",null,[t("a",{class:m({now:e.size<=250}),onClick:r[0]||(r[0]=i=>e.w(204))},K,2),t("a",{class:m({now:e.size>=310}),onClick:r[1]||(r[1]=i=>e.w(324))},ee,2),t("a",{class:m({mirror:e.mirror}),onClick:r[2]||(r[2]=(...i)=>e.turn&&e.turn(...i))},re,2),t("a",{onClick:r[3]||(r[3]=(...i)=>e.x&&e.x(...i))},ie)])],64))],544)}var fe=V(Z,[["render",ae],["__scopeId","data-v-4bc47262"]]);export{fe as default};
