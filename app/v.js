import p from"./w.js";import{c as e}from"./.js";import{a as n}from"./5.js";import{v as j}from"./q.js";import{i as w}from"./2.js";import{C as k,w as l}from"./-.js";import"./1.js";import"./g.js";import"./d.js";import"./..js";import"./b.js";import"./3.js";function b(){return new Worker("/n.js",{type:"module"})}var o,i,t,c,m,d,f,r;({camera:i}=w);m=await j();r=m.getVideoTracks()[0];e.area-1==0&&(f=new MediaStreamTrackProcessor({track:r}),r=new MediaStreamTrackGenerator({kind:"video"}),t=[f.readable,r.writable],c=()=>{new b().postMessage([...t,...JSON.parse(localStorage.area)],t)});o=(await n()).getTracks();d=new MediaStream([r,...o]);k(()=>{var a,s;a=!!e.audio;for(s of o)s.enabled=a});l(()=>e.video,async()=>{var a;({video:a}=e),a?await i.circle():await i.x()});p(d,c);
