"use strict";exports[Symbol.toStringTag]="Module";var A=require("fs"),jt=require("url"),cr=require("http"),fr=require("https"),lr=require("domain"),pr=require("util"),N=require("path"),Et=require("os"),k=require("electron"),dr=require("child_process"),hr=require("stream"),vr=require("zlib");function ot(e){if(e&&e.__esModule)return e;var t={__proto__:null,[Symbol.toStringTag]:"Module"};return e&&Object.keys(e).forEach(function(n){if(n!=="default"){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}}),t.default=e,Object.freeze(t)}var mr=ot(A),_r=ot(jt),Ae=ot(cr),De=ot(fr),gr=ot(lr),yr=ot(pr),br=ot(dr),Sr=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};var ie=function(e,t){return ie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},ie(e,t)};function me(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ie(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var y=function(){return y=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},y.apply(this,arguments)};function Er(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function b(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(l){o(l)}}function f(c){try{u(r.throw(c))}catch(l){o(l)}}function u(c){c.done?a(c.value):i(c.value).then(s,f)}u((r=r.apply(e,t||[])).next())})}function S(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(c){return f([u,c])}}function f(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function wr(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function _e(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function wt(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var Z;(function(e){e.Ok="ok",e.Exited="exited",e.Crashed="crashed",e.Abnormal="abnormal"})(Z||(Z={}));var J;(function(e){e.Ok="ok",e.Errored="errored",e.Crashed="crashed"})(J||(J={}));exports.Severity=void 0;(function(e){e.Fatal="fatal",e.Error="error",e.Warning="warning",e.Log="log",e.Info="info",e.Debug="debug",e.Critical="critical"})(exports.Severity||(exports.Severity={}));(function(e){function t(n){switch(n){case"debug":return e.Debug;case"info":return e.Info;case"warn":case"warning":return e.Warning;case"error":return e.Error;case"fatal":return e.Fatal;case"critical":return e.Critical;case"log":default:return e.Log}}e.fromString=t})(exports.Severity||(exports.Severity={}));exports.Status=void 0;(function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.Invalid="invalid",e.Failed="failed"})(exports.Status||(exports.Status={}));(function(e){function t(n){return n>=200&&n<300?e.Success:n===429?e.RateLimit:n>=400&&n<500?e.Invalid:n>=500?e.Failed:e.Unknown}e.fromHttpCode=t})(exports.Status||(exports.Status={}));var ft;(function(e){e.Explicit="explicitly_set",e.Sampler="client_sampler",e.Rate="client_rate",e.Inheritance="inheritance"})(ft||(ft={}));var ae=function(){return ae=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},ae.apply(this,arguments)};function Tr(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function xr(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Tr(arguments[t]));return e}var m=function(){return m=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},m.apply(this,arguments)};function Or(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function ct(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Or(arguments[t]));return e}function tt(e){e.then(null,function(t){console.error(t)})}function ge(e){switch(Object.prototype.toString.call(e)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return $(e,Error)}}function Ft(e){return Object.prototype.toString.call(e)==="[object String]"}function ye(e){return e===null||typeof e!="object"&&typeof e!="function"}function qt(e){return Object.prototype.toString.call(e)==="[object Object]"}function kr(e){return typeof Event!="undefined"&&$(e,Event)}function je(e){return typeof Element!="undefined"&&$(e,Element)}function Ir(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function xt(e){return Boolean(e&&e.then&&typeof e.then=="function")}function Nr(e){return qt(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function $(e,t){try{return e instanceof t}catch{return!1}}function oe(e,t){try{for(var n=e,r=5,i=80,a=[],o=0,s=0,f=" > ",u=f.length,c=void 0;n&&o++<r&&(c=Rr(n,t),!(c==="html"||o>1&&s+a.length*u+c.length>=i));)a.push(c),s+=c.length,n=n.parentNode;return a.reverse().join(f)}catch{return"<unknown>"}}function Rr(e,t){var n=e,r=[],i,a,o,s,f;if(!n||!n.tagName)return"";r.push(n.tagName.toLowerCase());var u=t?n.getAttribute(t):null;if(u)r.push("["+t+'="'+u+'"]');else if(n.id&&r.push("#"+n.id),i=n.className,i&&Ft(i))for(a=i.split(/\s+/),f=0;f<a.length;f++)r.push("."+a[f]);var c=["type","name","title","alt"];for(f=0;f<c.length;f++)o=c[f],s=n.getAttribute(o),s&&r.push("["+o+'="'+s+'"]');return r.join("")}var se=function(e,t){return se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},se(e,t)};function Pr(e,t){se(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var et=function(){return et=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},et.apply(this,arguments)};function cn(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Cr(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}var Mr=Object.setPrototypeOf||({__proto__:[]}instanceof Array?Ar:Dr);function Ar(e,t){return e.__proto__=t,e}function Dr(e,t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n]);return e}var T=function(e){Pr(t,e);function t(n){var r=this.constructor,i=e.call(this,n)||this;return i.message=n,i.name=r.prototype.constructor.name,Mr(i,r.prototype),i}return t}(Error),jr=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,dt="Invalid Dsn",Ht=function(){function e(t){typeof t=="string"?this._fromString(t):this._fromComponents(t),this._validate()}return e.prototype.toString=function(t){t===void 0&&(t=!1);var n=this,r=n.host,i=n.path,a=n.pass,o=n.port,s=n.projectId,f=n.protocol,u=n.publicKey;return f+"://"+u+(t&&a?":"+a:"")+("@"+r+(o?":"+o:"")+"/"+(i&&i+"/")+s)},e.prototype._fromString=function(t){var n=jr.exec(t);if(!n)throw new T(dt);var r=Cr(n.slice(1),6),i=r[0],a=r[1],o=r[2],s=o===void 0?"":o,f=r[3],u=r[4],c=u===void 0?"":u,l=r[5],d="",h=l,v=h.split("/");if(v.length>1&&(d=v.slice(0,-1).join("/"),h=v.pop()),h){var g=h.match(/^\d+/);g&&(h=g[0])}this._fromComponents({host:f,pass:s,path:d,projectId:h,port:c,protocol:i,publicKey:a})},e.prototype._fromComponents=function(t){"user"in t&&!("publicKey"in t)&&(t.publicKey=t.user),this.user=t.publicKey||"",this.protocol=t.protocol,this.publicKey=t.publicKey||"",this.pass=t.pass||"",this.host=t.host,this.port=t.port||"",this.path=t.path||"",this.projectId=t.projectId},e.prototype._validate=function(){var t=this;if(["protocol","publicKey","host","projectId"].forEach(function(n){if(!t[n])throw new T(dt+": "+n+" missing")}),!this.projectId.match(/^\d+$/))throw new T(dt+": Invalid projectId "+this.projectId);if(this.protocol!=="http"&&this.protocol!=="https")throw new T(dt+": Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new T(dt+": Invalid port "+this.port)},e}();function Ot(){return Object.prototype.toString.call(typeof process!="undefined"?process:0)==="[object process]"}function K(e,t){return e.require(t)}function Bt(e){var t;try{t=K(module,e)}catch{}try{var n=K(module,"process").cwd;t=K(module,n()+"/node_modules/"+e)}catch{}return t}function yt(e,t){return t===void 0&&(t=0),typeof e!="string"||t===0||e.length<=t?e:e.substr(0,t)+"..."}function Jt(e,t){var n=e,r=n.length;if(r<=150)return n;t>r&&(t=r);var i=Math.max(t-60,0);i<5&&(i=0);var a=Math.min(i+140,r);return a>r-5&&(a=r),a===r&&(i=Math.max(a-140,0)),n=n.slice(i,a),i>0&&(n="'{snip} "+n),a<r&&(n+=" {snip}"),n}function bt(e,t){return Ft(e)?Ir(t)?t.test(e):typeof t=="string"?e.indexOf(t)!==-1:!1:!1}var Fr={};function j(){return Ot()?global:typeof window!="undefined"?window:typeof self!="undefined"?self:Fr}function Q(){var e=j(),t=e.crypto||e.msCrypto;if(t!==void 0&&t.getRandomValues){var n=new Uint16Array(8);t.getRandomValues(n),n[3]=n[3]&4095|16384,n[4]=n[4]&16383|32768;var r=function(i){for(var a=i.toString(16);a.length<4;)a="0"+a;return a};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(i){var a=Math.random()*16|0,o=i==="x"?a:a&3|8;return o.toString(16)})}function ut(e){if(e.message)return e.message;if(e.exception&&e.exception.values&&e.exception.values[0]){var t=e.exception.values[0];return t.type&&t.value?t.type+": "+t.value:t.type||t.value||e.event_id||"<unknown>"}return e.event_id||"<unknown>"}function lt(e){var t=j(),n=["debug","info","warn","error","log","assert"];if(!("console"in t))return e();var r=t.console,i={};n.forEach(function(o){o in t.console&&r[o].__sentry_original__&&(i[o]=r[o],r[o]=r[o].__sentry_original__)});var a=e();return Object.keys(i).forEach(function(o){r[o]=i[o]}),a}function Ur(e,t,n){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].value=e.exception.values[0].value||t||"",e.exception.values[0].type=e.exception.values[0].type||n||"Error"}function Lr(e,t){t===void 0&&(t={});try{e.exception.values[0].mechanism=e.exception.values[0].mechanism||{},Object.keys(t).forEach(function(n){e.exception.values[0].mechanism[n]=t[n]})}catch{}}var qr=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;function fn(e){var t=e.match(qr)||[],n=parseInt(t[1],10),r=parseInt(t[2],10),i=parseInt(t[3],10);return{buildmetadata:t[5],major:isNaN(n)?void 0:n,minor:isNaN(r)?void 0:r,patch:isNaN(i)?void 0:i,prerelease:t[4]}}var Fe=60*1e3;function Hr(e,t){if(!t)return Fe;var n=parseInt(""+t,10);if(!isNaN(n))return n*1e3;var r=Date.parse(""+t);return isNaN(r)?Fe:r-e}function Br(e,t,n){n===void 0&&(n=5);var r=t.lineno||0,i=e.length,a=Math.max(Math.min(i,r-1),0);t.pre_context=e.slice(Math.max(0,a-n),a).map(function(o){return Jt(o,0)}),t.context_line=Jt(e[Math.min(i-1,a)],t.colno||0),t.post_context=e.slice(Math.min(a+1,i),a+1+n).map(function(o){return Jt(o,0)})}var nt=j(),Vt="Sentry Logger ",$r=function(){function e(){this._enabled=!1}return e.prototype.disable=function(){this._enabled=!1},e.prototype.enable=function(){this._enabled=!0},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];!this._enabled||lt(function(){nt.console.log(Vt+"[Log]: "+t.join(" "))})},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];!this._enabled||lt(function(){nt.console.warn(Vt+"[Warn]: "+t.join(" "))})},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];!this._enabled||lt(function(){nt.console.error(Vt+"[Error]: "+t.join(" "))})},e}();nt.__SENTRY__=nt.__SENTRY__||{};var p=nt.__SENTRY__.logger||(nt.__SENTRY__.logger=new $r),Wr=function(){function e(){this._hasWeakSet=typeof WeakSet=="function",this._inner=this._hasWeakSet?new WeakSet:[]}return e.prototype.memoize=function(t){if(this._hasWeakSet)return this._inner.has(t)?!0:(this._inner.add(t),!1);for(var n=0;n<this._inner.length;n++){var r=this._inner[n];if(r===t)return!0}return this._inner.push(t),!1},e.prototype.unmemoize=function(t){if(this._hasWeakSet)this._inner.delete(t);else for(var n=0;n<this._inner.length;n++)if(this._inner[n]===t){this._inner.splice(n,1);break}},e}(),Xt="<anonymous>";function ln(e){try{return!e||typeof e!="function"?Xt:e.name||Xt}catch{return Xt}}function M(e,t,n){if(t in e){var r=e[t],i=n(r);if(typeof i=="function")try{i.prototype=i.prototype||{},Object.defineProperties(i,{__sentry_original__:{enumerable:!1,value:r}})}catch{}e[t]=i}}function zr(e){return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}function pn(e){if(ge(e)){var t=e,n={message:t.message,name:t.name,stack:t.stack};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}if(kr(e)){var i=e,a={};a.type=i.type;try{a.target=je(i.target)?oe(i.target):Object.prototype.toString.call(i.target)}catch{a.target="<unknown>"}try{a.currentTarget=je(i.currentTarget)?oe(i.currentTarget):Object.prototype.toString.call(i.currentTarget)}catch{a.currentTarget="<unknown>"}typeof CustomEvent!="undefined"&&$(e,CustomEvent)&&(a.detail=i.detail);for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(a[r]=i);return a}return e}function Yr(e){return~-encodeURI(e).split(/%..|./).length}function Gr(e){return Yr(JSON.stringify(e))}function dn(e,t,n){t===void 0&&(t=3),n===void 0&&(n=100*1024);var r=gt(e,t);return Gr(r)>n?dn(e,t-1,n):r}function Jr(e){var t=Object.prototype.toString.call(e);if(typeof e=="string")return e;if(t==="[object Object]")return"[Object]";if(t==="[object Array]")return"[Array]";var n=hn(e);return ye(n)?n:t}function hn(e,t){return t==="domain"&&e&&typeof e=="object"&&e._events?"[Domain]":t==="domainEmitter"?"[DomainEmitter]":typeof global!="undefined"&&e===global?"[Global]":typeof window!="undefined"&&e===window?"[Window]":typeof document!="undefined"&&e===document?"[Document]":Nr(e)?"[SyntheticEvent]":typeof e=="number"&&e!==e?"[NaN]":e===void 0?"[undefined]":typeof e=="function"?"[Function: "+ln(e)+"]":typeof e=="symbol"?"["+String(e)+"]":typeof e=="bigint"?"[BigInt: "+String(e)+"]":e}function vn(e,t,n,r){if(n===void 0&&(n=1/0),r===void 0&&(r=new Wr),n===0)return Jr(t);if(t!=null&&typeof t.toJSON=="function")return t.toJSON();var i=hn(t,e);if(ye(i))return i;var a=pn(t),o=Array.isArray(t)?[]:{};if(r.memoize(t))return"[Circular ~]";for(var s in a)!Object.prototype.hasOwnProperty.call(a,s)||(o[s]=vn(s,a[s],n-1,r));return r.unmemoize(t),o}function gt(e,t){try{return JSON.parse(JSON.stringify(e,function(n,r){return vn(n,r,t)}))}catch{return"**non-serializable**"}}function Vr(e,t){t===void 0&&(t=40);var n=Object.keys(pn(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return yt(n[0],t);for(var r=n.length;r>0;r--){var i=n.slice(0,r).join(", ");if(!(i.length>t))return r===n.length?i:yt(i,t)}return""}function V(e){var t,n;if(qt(e)){var r=e,i={};try{for(var a=cn(Object.keys(r)),o=a.next();!o.done;o=a.next()){var s=o.value;typeof r[s]!="undefined"&&(i[s]=V(r[s]))}}catch(f){t={error:f}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return i}return Array.isArray(e)?e.map(V):e}function Xr(){if(!("fetch"in j()))return!1;try{return new Headers,new Request(""),new Response,!0}catch{return!1}}function Ue(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Kr(){if(!Xr())return!1;var e=j();if(Ue(e.fetch))return!0;var t=!1,n=e.document;if(n&&typeof n.createElement=="function")try{var r=n.createElement("iframe");r.hidden=!0,n.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(t=Ue(r.contentWindow.fetch)),n.head.removeChild(r)}catch(i){p.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return t}function Zr(){var e=j(),t=e.chrome,n=t&&t.app&&t.app.runtime,r="history"in e&&!!e.history.pushState&&!!e.history.replaceState;return!n&&r}var x=j(),St={},Le={};function Qr(e){if(!Le[e])switch(Le[e]=!0,e){case"console":ti();break;case"dom":ci();break;case"xhr":ii();break;case"fetch":ei();break;case"history":ai();break;case"error":fi();break;case"unhandledrejection":li();break;default:p.warn("unknown instrumentation type:",e)}}function Tt(e){!e||typeof e.type!="string"||typeof e.callback!="function"||(St[e.type]=St[e.type]||[],St[e.type].push(e.callback),Qr(e.type))}function L(e,t){var n,r;if(!(!e||!St[e]))try{for(var i=cn(St[e]||[]),a=i.next();!a.done;a=i.next()){var o=a.value;try{o(t)}catch(s){p.error(`Error while triggering instrumentation handler.
Type: `+e+`
Name: `+ln(o)+`
Error: `+s)}}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function ti(){"console"in x&&["debug","info","warn","error","log","assert"].forEach(function(e){e in x.console&&M(x.console,e,function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];L("console",{args:n,level:e}),t&&Function.prototype.apply.call(t,x.console,n)}})})}function ei(){!Kr()||M(x,"fetch",function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r={args:t,fetchData:{method:ni(t),url:ri(t)},startTimestamp:Date.now()};return L("fetch",et({},r)),e.apply(x,t).then(function(i){return L("fetch",et(et({},r),{endTimestamp:Date.now(),response:i})),i},function(i){throw L("fetch",et(et({},r),{endTimestamp:Date.now(),error:i})),i})}})}function ni(e){return e===void 0&&(e=[]),"Request"in x&&$(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}function ri(e){return e===void 0&&(e=[]),typeof e[0]=="string"?e[0]:"Request"in x&&$(e[0],Request)?e[0].url:String(e[0])}function ii(){if("XMLHttpRequest"in x){var e=[],t=[],n=XMLHttpRequest.prototype;M(n,"open",function(r){return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=this,s=i[1];o.__sentry_xhr__={method:Ft(i[0])?i[0].toUpperCase():i[0],url:i[1]},Ft(s)&&o.__sentry_xhr__.method==="POST"&&s.match(/sentry_key/)&&(o.__sentry_own_request__=!0);var f=function(){if(o.readyState===4){try{o.__sentry_xhr__&&(o.__sentry_xhr__.status_code=o.status)}catch{}try{var u=e.indexOf(o);if(u!==-1){e.splice(u);var c=t.splice(u)[0];o.__sentry_xhr__&&c[0]!==void 0&&(o.__sentry_xhr__.body=c[0])}}catch{}L("xhr",{args:i,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:o})}};return"onreadystatechange"in o&&typeof o.onreadystatechange=="function"?M(o,"onreadystatechange",function(u){return function(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];return f(),u.apply(o,c)}}):o.addEventListener("readystatechange",f),r.apply(o,i)}}),M(n,"send",function(r){return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return e.push(this),t.push(i),L("xhr",{args:i,startTimestamp:Date.now(),xhr:this}),r.apply(this,i)}})}}var It;function ai(){if(!Zr())return;var e=x.onpopstate;x.onpopstate=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=x.location.href,a=It;if(It=i,L("history",{from:a,to:i}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var a=r.length>2?r[2]:void 0;if(a){var o=It,s=String(a);It=s,L("history",{from:o,to:s})}return n.apply(this,r)}}M(x.history,"pushState",t),M(x.history,"replaceState",t)}var oi=1e3,Nt,Rt;function si(e,t){if(!e||e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch{}return!1}function ui(e){if(e.type!=="keypress")return!1;try{var t=e.target;if(!t||!t.tagName)return!0;if(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)return!1}catch{}return!0}function qe(e,t){return t===void 0&&(t=!1),function(n){if(!(!n||Rt===n)&&!ui(n)){var r=n.type==="keypress"?"input":n.type;Nt===void 0?(e({event:n,name:r,global:t}),Rt=n):si(Rt,n)&&(e({event:n,name:r,global:t}),Rt=n),clearTimeout(Nt),Nt=x.setTimeout(function(){Nt=void 0},oi)}}}function ci(){if("document"in x){var e=L.bind(null,"dom"),t=qe(e,!0);x.document.addEventListener("click",t,!1),x.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(function(n){var r=x[n]&&x[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(M(r,"addEventListener",function(i){return function(a,o,s){if(a==="click"||a=="keypress")try{var f=this,u=f.__sentry_instrumentation_handlers__=f.__sentry_instrumentation_handlers__||{},c=u[a]=u[a]||{refCount:0};if(!c.handler){var l=qe(e);c.handler=l,i.call(this,a,l,s)}c.refCount+=1}catch{}return i.call(this,a,o,s)}}),M(r,"removeEventListener",function(i){return function(a,o,s){if(a==="click"||a=="keypress")try{var f=this,u=f.__sentry_instrumentation_handlers__||{},c=u[a];c&&(c.refCount-=1,c.refCount<=0&&(i.call(this,a,c.handler,s),c.handler=void 0,delete u[a]),Object.keys(u).length===0&&delete f.__sentry_instrumentation_handlers__)}catch{}return i.call(this,a,o,s)}}))})}}var Kt=null;function fi(){Kt=x.onerror,x.onerror=function(e,t,n,r,i){return L("error",{column:r,error:i,line:n,msg:e,url:t}),Kt?Kt.apply(this,arguments):!1}}var Zt=null;function li(){Zt=x.onunhandledrejection,x.onunhandledrejection=function(e){return L("unhandledrejection",e),Zt?Zt.apply(this,arguments):!0}}var pi=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^/]+?|)(\.[^./]*|))(?:[/]*)$/;function mn(e){var t=pi.exec(e);return t?t.slice(1):[]}function _n(e){var t=mn(e),n=t[0],r=t[1];return!n&&!r?".":(r&&(r=r.substr(0,r.length-1)),n+r)}function di(e,t){var n=mn(e)[2];return t&&n.substr(t.length*-1)===t&&(n=n.substr(0,n.length-t.length)),n}var Y;(function(e){e.PENDING="PENDING",e.RESOLVED="RESOLVED",e.REJECTED="REJECTED"})(Y||(Y={}));var O=function(){function e(t){var n=this;this._state=Y.PENDING,this._handlers=[],this._resolve=function(r){n._setResult(Y.RESOLVED,r)},this._reject=function(r){n._setResult(Y.REJECTED,r)},this._setResult=function(r,i){if(n._state===Y.PENDING){if(xt(i)){i.then(n._resolve,n._reject);return}n._state=r,n._value=i,n._executeHandlers()}},this._attachHandler=function(r){n._handlers=n._handlers.concat(r),n._executeHandlers()},this._executeHandlers=function(){if(n._state!==Y.PENDING){var r=n._handlers.slice();n._handlers=[],r.forEach(function(i){i.done||(n._state===Y.RESOLVED&&i.onfulfilled&&i.onfulfilled(n._value),n._state===Y.REJECTED&&i.onrejected&&i.onrejected(n._value),i.done=!0)})}};try{t(this._resolve,this._reject)}catch(r){this._reject(r)}}return e.resolve=function(t){return new e(function(n){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.all=function(t){return new e(function(n,r){if(!Array.isArray(t)){r(new TypeError("Promise.all requires an array as input."));return}if(t.length===0){n([]);return}var i=t.length,a=[];t.forEach(function(o,s){e.resolve(o).then(function(f){a[s]=f,i-=1,i===0&&n(a)}).then(null,r)})})},e.prototype.then=function(t,n){var r=this;return new e(function(i,a){r._attachHandler({done:!1,onfulfilled:function(o){if(!t){i(o);return}try{i(t(o));return}catch(s){a(s);return}},onrejected:function(o){if(!n){a(o);return}try{i(n(o));return}catch(s){a(s);return}}})})},e.prototype.catch=function(t){return this.then(function(n){return n},t)},e.prototype.finally=function(t){var n=this;return new e(function(r,i){var a,o;return n.then(function(s){o=!1,a=s,t&&t()},function(s){o=!0,a=s,t&&t()}).then(function(){if(o){i(a);return}r(a)})})},e.prototype.toString=function(){return"[object SyncPromise]"},e}(),gn=function(){function e(t){this._limit=t,this._buffer=[]}return e.prototype.isReady=function(){return this._limit===void 0||this.length()<this._limit},e.prototype.add=function(t){var n=this;return this.isReady()?(this._buffer.indexOf(t)===-1&&this._buffer.push(t),t.then(function(){return n.remove(t)}).then(null,function(){return n.remove(t).then(null,function(){})}),t):O.reject(new T("Not adding Promise due to buffer limit reached."))},e.prototype.remove=function(t){var n=this._buffer.splice(this._buffer.indexOf(t),1)[0];return n},e.prototype.length=function(){return this._buffer.length},e.prototype.drain=function(t){var n=this;return new O(function(r){var i=setTimeout(function(){t&&t>0&&r(!1)},t);O.all(n._buffer).then(function(){clearTimeout(i),r(!0)}).then(null,function(){r(!0)})})},e}(),ue={nowSeconds:function(){return Date.now()/1e3}};function hi(){var e=j().performance;if(!(!e||!e.now)){var t=Date.now()-e.now();return{now:function(){return e.now()},timeOrigin:t}}}function vi(){try{var e=K(module,"perf_hooks");return e.performance}catch{return}}var Qt=Ot()?vi():hi(),He=Qt===void 0?ue:{nowSeconds:function(){return(Qt.timeOrigin+Qt.now())/1e3}},be=ue.nowSeconds.bind(ue),ce=He.nowSeconds.bind(He),rt=ce,ht=function(){var e=j().performance;if(!(!e||!e.now)){var t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,a=i<t,o=e.timing&&e.timing.navigationStart,s=typeof o=="number",f=s?Math.abs(o+n-r):t,u=f<t;return a||u?i<=f?e.timeOrigin:o:r}}(),Be=100,H=function(){function e(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return e.clone=function(t){var n=new e;return t&&(n._breadcrumbs=ct(t._breadcrumbs),n._tags=m({},t._tags),n._extra=m({},t._extra),n._contexts=m({},t._contexts),n._user=t._user,n._level=t._level,n._span=t._span,n._session=t._session,n._transactionName=t._transactionName,n._fingerprint=t._fingerprint,n._eventProcessors=ct(t._eventProcessors),n._requestSession=t._requestSession),n},e.prototype.addScopeListener=function(t){this._scopeListeners.push(t)},e.prototype.addEventProcessor=function(t){return this._eventProcessors.push(t),this},e.prototype.setUser=function(t){return this._user=t||{},this._session&&this._session.update({user:t}),this._notifyScopeListeners(),this},e.prototype.getUser=function(){return this._user},e.prototype.getRequestSession=function(){return this._requestSession},e.prototype.setRequestSession=function(t){return this._requestSession=t,this},e.prototype.setTags=function(t){return this._tags=m(m({},this._tags),t),this._notifyScopeListeners(),this},e.prototype.setTag=function(t,n){var r;return this._tags=m(m({},this._tags),(r={},r[t]=n,r)),this._notifyScopeListeners(),this},e.prototype.setExtras=function(t){return this._extra=m(m({},this._extra),t),this._notifyScopeListeners(),this},e.prototype.setExtra=function(t,n){var r;return this._extra=m(m({},this._extra),(r={},r[t]=n,r)),this._notifyScopeListeners(),this},e.prototype.setFingerprint=function(t){return this._fingerprint=t,this._notifyScopeListeners(),this},e.prototype.setLevel=function(t){return this._level=t,this._notifyScopeListeners(),this},e.prototype.setTransactionName=function(t){return this._transactionName=t,this._notifyScopeListeners(),this},e.prototype.setTransaction=function(t){return this.setTransactionName(t)},e.prototype.setContext=function(t,n){var r;return n===null?delete this._contexts[t]:this._contexts=m(m({},this._contexts),(r={},r[t]=n,r)),this._notifyScopeListeners(),this},e.prototype.setSpan=function(t){return this._span=t,this._notifyScopeListeners(),this},e.prototype.getSpan=function(){return this._span},e.prototype.getTransaction=function(){var t,n,r,i,a=this.getSpan();if((t=a)===null||t===void 0?void 0:t.transaction)return(n=a)===null||n===void 0?void 0:n.transaction;if((i=(r=a)===null||r===void 0?void 0:r.spanRecorder)===null||i===void 0?void 0:i.spans[0])return a.spanRecorder.spans[0]},e.prototype.setSession=function(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this},e.prototype.getSession=function(){return this._session},e.prototype.update=function(t){if(!t)return this;if(typeof t=="function"){var n=t(this);return n instanceof e?n:this}return t instanceof e?(this._tags=m(m({},this._tags),t._tags),this._extra=m(m({},this._extra),t._extra),this._contexts=m(m({},this._contexts),t._contexts),t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession)):qt(t)&&(t=t,this._tags=m(m({},this._tags),t.tags),this._extra=m(m({},this._extra),t.extra),this._contexts=m(m({},this._contexts),t.contexts),t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession)),this},e.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},e.prototype.addBreadcrumb=function(t,n){var r=typeof n=="number"?Math.min(n,Be):Be;if(r<=0)return this;var i=m({timestamp:be()},t);return this._breadcrumbs=ct(this._breadcrumbs,[i]).slice(-r),this._notifyScopeListeners(),this},e.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},e.prototype.applyToEvent=function(t,n){var r;if(this._extra&&Object.keys(this._extra).length&&(t.extra=m(m({},this._extra),t.extra)),this._tags&&Object.keys(this._tags).length&&(t.tags=m(m({},this._tags),t.tags)),this._user&&Object.keys(this._user).length&&(t.user=m(m({},this._user),t.user)),this._contexts&&Object.keys(this._contexts).length&&(t.contexts=m(m({},this._contexts),t.contexts)),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts=m({trace:this._span.getTraceContext()},t.contexts);var i=(r=this._span.transaction)===null||r===void 0?void 0:r.name;i&&(t.tags=m({transaction:i},t.tags))}return this._applyFingerprint(t),t.breadcrumbs=ct(t.breadcrumbs||[],this._breadcrumbs),t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,this._notifyEventProcessors(ct(yn(),this._eventProcessors),t,n)},e.prototype._notifyEventProcessors=function(t,n,r,i){var a=this;return i===void 0&&(i=0),new O(function(o,s){var f=t[i];if(n===null||typeof f!="function")o(n);else{var u=f(m({},n),r);xt(u)?u.then(function(c){return a._notifyEventProcessors(t,c,r,i+1).then(o)}).then(null,s):a._notifyEventProcessors(t,u,r,i+1).then(o).then(null,s)}})},e.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(n){n(t)}),this._notifyingListeners=!1)},e.prototype._applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},e}();function yn(){var e=j();return e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.globalEventProcessors=e.__SENTRY__.globalEventProcessors||[],e.__SENTRY__.globalEventProcessors}function $t(e){yn().push(e)}var mi=function(){function e(t){this.errors=0,this.sid=Q(),this.duration=0,this.status=Z.Ok,this.init=!0,this.ignoreDuration=!1;var n=ce();this.timestamp=n,this.started=n,t&&this.update(t)}return e.prototype.update=function(t){if(t===void 0&&(t={}),t.user&&(t.user.ip_address&&(this.ipAddress=t.user.ip_address),t.did||(this.did=t.user.id||t.user.email||t.user.username)),this.timestamp=t.timestamp||ce(),t.ignoreDuration&&(this.ignoreDuration=t.ignoreDuration),t.sid&&(this.sid=t.sid.length===32?t.sid:Q()),t.init!==void 0&&(this.init=t.init),t.did&&(this.did=""+t.did),typeof t.started=="number"&&(this.started=t.started),this.ignoreDuration)this.duration=void 0;else if(typeof t.duration=="number")this.duration=t.duration;else{var n=this.timestamp-this.started;this.duration=n>=0?n:0}t.release&&(this.release=t.release),t.environment&&(this.environment=t.environment),t.ipAddress&&(this.ipAddress=t.ipAddress),t.userAgent&&(this.userAgent=t.userAgent),typeof t.errors=="number"&&(this.errors=t.errors),t.status&&(this.status=t.status)},e.prototype.close=function(t){t?this.update({status:t}):this.status===Z.Ok?this.update({status:Z.Exited}):this.update()},e.prototype.toJSON=function(){return V({sid:""+this.sid,init:this.init,started:new Date(this.started*1e3).toISOString(),timestamp:new Date(this.timestamp*1e3).toISOString(),status:this.status,errors:this.errors,did:typeof this.did=="number"||typeof this.did=="string"?""+this.did:void 0,duration:this.duration,attrs:V({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},e}(),Se=4,_i=100,kt=function(){function e(t,n,r){n===void 0&&(n=new H),r===void 0&&(r=Se),this._version=r,this._stack=[{}],this.getStackTop().scope=n,this.bindClient(t)}return e.prototype.isOlderThan=function(t){return this._version<t},e.prototype.bindClient=function(t){var n=this.getStackTop();n.client=t,t&&t.setupIntegrations&&t.setupIntegrations()},e.prototype.pushScope=function(){var t=H.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t},e.prototype.popScope=function(){return this.getStack().length<=1?!1:!!this.getStack().pop()},e.prototype.withScope=function(t){var n=this.pushScope();try{t(n)}finally{this.popScope()}},e.prototype.getClient=function(){return this.getStackTop().client},e.prototype.getScope=function(){return this.getStackTop().scope},e.prototype.getStack=function(){return this._stack},e.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},e.prototype.captureException=function(t,n){var r=this._lastEventId=Q(),i=n;if(!n){var a=void 0;try{throw new Error("Sentry syntheticException")}catch(o){a=o}i={originalException:t,syntheticException:a}}return this._invokeClient("captureException",t,m(m({},i),{event_id:r})),r},e.prototype.captureMessage=function(t,n,r){var i=this._lastEventId=Q(),a=r;if(!r){var o=void 0;try{throw new Error(t)}catch(s){o=s}a={originalException:t,syntheticException:o}}return this._invokeClient("captureMessage",t,n,m(m({},a),{event_id:i})),i},e.prototype.captureEvent=function(t,n){var r=this._lastEventId=Q();return this._invokeClient("captureEvent",t,m(m({},n),{event_id:r})),r},e.prototype.lastEventId=function(){return this._lastEventId},e.prototype.addBreadcrumb=function(t,n){var r=this.getStackTop(),i=r.scope,a=r.client;if(!(!i||!a)){var o=a.getOptions&&a.getOptions()||{},s=o.beforeBreadcrumb,f=s===void 0?null:s,u=o.maxBreadcrumbs,c=u===void 0?_i:u;if(!(c<=0)){var l=be(),d=m({timestamp:l},t),h=f?lt(function(){return f(d,n)}):d;h!==null&&i.addBreadcrumb(h,c)}}},e.prototype.setUser=function(t){var n=this.getScope();n&&n.setUser(t)},e.prototype.setTags=function(t){var n=this.getScope();n&&n.setTags(t)},e.prototype.setExtras=function(t){var n=this.getScope();n&&n.setExtras(t)},e.prototype.setTag=function(t,n){var r=this.getScope();r&&r.setTag(t,n)},e.prototype.setExtra=function(t,n){var r=this.getScope();r&&r.setExtra(t,n)},e.prototype.setContext=function(t,n){var r=this.getScope();r&&r.setContext(t,n)},e.prototype.configureScope=function(t){var n=this.getStackTop(),r=n.scope,i=n.client;r&&i&&t(r)},e.prototype.run=function(t){var n=$e(this);try{t(this)}finally{$e(n)}},e.prototype.getIntegration=function(t){var n=this.getClient();if(!n)return null;try{return n.getIntegration(t)}catch{return p.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},e.prototype.startSpan=function(t){return this._callExtensionMethod("startSpan",t)},e.prototype.startTransaction=function(t,n){return this._callExtensionMethod("startTransaction",t,n)},e.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},e.prototype.captureSession=function(t){if(t===void 0&&(t=!1),t)return this.endSession();this._sendSessionUpdate()},e.prototype.endSession=function(){var t,n,r,i,a;(r=(n=(t=this.getStackTop())===null||t===void 0?void 0:t.scope)===null||n===void 0?void 0:n.getSession())===null||r===void 0||r.close(),this._sendSessionUpdate(),(a=(i=this.getStackTop())===null||i===void 0?void 0:i.scope)===null||a===void 0||a.setSession()},e.prototype.startSession=function(t){var n=this.getStackTop(),r=n.scope,i=n.client,a=i&&i.getOptions()||{},o=a.release,s=a.environment,f=new mi(m(m({release:o,environment:s},r&&{user:r.getUser()}),t));if(r){var u=r.getSession&&r.getSession();u&&u.status===Z.Ok&&u.update({status:Z.Exited}),this.endSession(),r.setSession(f)}return f},e.prototype._sendSessionUpdate=function(){var t=this.getStackTop(),n=t.scope,r=t.client;if(!!n){var i=n.getSession&&n.getSession();i&&r&&r.captureSession&&r.captureSession(i)}},e.prototype._invokeClient=function(t){for(var n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var a=this.getStackTop(),o=a.scope,s=a.client;s&&s[t]&&(n=s)[t].apply(n,ct(r,[o]))},e.prototype._callExtensionMethod=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=st(),a=i.__SENTRY__;if(a&&a.extensions&&typeof a.extensions[t]=="function")return a.extensions[t].apply(this,n);p.warn("Extension method "+t+" couldn't be found, doing nothing.")},e}();function st(){var e=j();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}function $e(e){var t=st(),n=G(t);return Ee(t,e),n}function w(){var e=st();return(!bn(e)||G(e).isOlderThan(Se))&&Ee(e,new kt),Ot()?gi(e):G(e)}function gi(e){var t,n,r;try{var i=(r=(n=(t=st().__SENTRY__)===null||t===void 0?void 0:t.extensions)===null||n===void 0?void 0:n.domain)===null||r===void 0?void 0:r.active;if(!i)return G(e);if(!bn(i)||G(i).isOlderThan(Se)){var a=G(e).getStackTop();Ee(i,new kt(a.client,H.clone(a.scope)))}return G(i)}catch{return G(e)}}function bn(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function G(e){return e&&e.__SENTRY__&&e.__SENTRY__.hub||(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=new kt),e.__SENTRY__.hub}function Ee(e,t){return e?(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=t,!0):!1}var yi=function(){function e(t,n){var r=this;this.flushTimeout=60,this._pendingAggregates={},this._isEnabled=!0,this._transport=t,this._intervalId=setInterval(function(){return r.flush()},this.flushTimeout*1e3),this._sessionAttrs=n}return e.prototype.sendSessionAggregates=function(t){if(!this._transport.sendSession){p.warn("Dropping session because custom transport doesn't implement sendSession");return}this._transport.sendSession(t).then(null,function(n){p.error("Error while sending session: "+n)})},e.prototype.flush=function(){var t=this.getSessionAggregates();t.aggregates.length!==0&&(this._pendingAggregates={},this.sendSessionAggregates(t))},e.prototype.getSessionAggregates=function(){var t=this,n=Object.keys(this._pendingAggregates).map(function(i){return t._pendingAggregates[parseInt(i)]}),r={attrs:this._sessionAttrs,aggregates:n};return V(r)},e.prototype.close=function(){clearInterval(this._intervalId),this._isEnabled=!1,this.flush()},e.prototype.incrementSessionStatusCount=function(){var t,n;if(!!this._isEnabled){var r=w().getScope(),i=(t=r)===null||t===void 0?void 0:t.getRequestSession();i&&i.status&&(this._incrementSessionStatusCount(i.status,new Date),(n=r)===null||n===void 0||n.setRequestSession(void 0))}},e.prototype._incrementSessionStatusCount=function(t,n){var r=new Date(n).setSeconds(0,0);this._pendingAggregates[r]=this._pendingAggregates[r]||{};var i=this._pendingAggregates[r];switch(i.started||(i.started=new Date(r).toISOString()),t){case J.Errored:return i.errored=(i.errored||0)+1,i.errored;case J.Ok:return i.exited=(i.exited||0)+1,i.exited;case J.Crashed:return i.crashed=(i.crashed||0)+1,i.crashed}},e}();function F(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=w();if(r&&r[e])return r[e].apply(r,xr(t));throw new Error("No hub defined or "+e+" was not found on the hub, please open a bug report.")}function bi(e,t){var n;try{throw new Error("Sentry syntheticException")}catch(r){n=r}return F("captureException",e,{captureContext:t,originalException:e,syntheticException:n})}function Sn(e,t){var n;try{throw new Error(e)}catch(a){n=a}var r=typeof t=="string"?t:void 0,i=typeof t!="string"?{captureContext:t}:void 0;return F("captureMessage",e,r,ae({originalException:e,syntheticException:n},i))}function En(e){return F("captureEvent",e)}function wn(e){F("configureScope",e)}function Tn(e){F("addBreadcrumb",e)}function Si(e,t){F("setContext",e,t)}function Ei(e){F("setExtras",e)}function wi(e){F("setTags",e)}function Ti(e,t){F("setExtra",e,t)}function xi(e,t){F("setTag",e,t)}function Oi(e){F("setUser",e)}function ki(e){F("withScope",e)}var We="7",xn=function(){function e(t,n,r){n===void 0&&(n={}),this.dsn=t,this._dsnObject=new Ht(t),this.metadata=n,this._tunnel=r}return e.prototype.getDsn=function(){return this._dsnObject},e.prototype.forceEnvelope=function(){return!!this._tunnel},e.prototype.getBaseApiEndpoint=function(){var t=this.getDsn(),n=t.protocol?t.protocol+":":"",r=t.port?":"+t.port:"";return n+"//"+t.host+r+(t.path?"/"+t.path:"")+"/api/"},e.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},e.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},e.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this.forceEnvelope()?this._tunnel:this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},e.prototype.getStoreEndpointPath=function(){var t=this.getDsn();return(t.path?"/"+t.path:"")+"/api/"+t.projectId+"/store/"},e.prototype.getRequestHeaders=function(t,n){var r=this.getDsn(),i=["Sentry sentry_version="+We];return i.push("sentry_client="+t+"/"+n),i.push("sentry_key="+r.publicKey),r.pass&&i.push("sentry_secret="+r.pass),{"Content-Type":"application/json","X-Sentry-Auth":i.join(", ")}},e.prototype.getReportDialogEndpoint=function(t){t===void 0&&(t={});var n=this.getDsn(),r=this.getBaseApiEndpoint()+"embed/error-page/",i=[];i.push("dsn="+n.toString());for(var a in t)if(a!=="dsn")if(a==="user"){if(!t.user)continue;t.user.name&&i.push("name="+encodeURIComponent(t.user.name)),t.user.email&&i.push("email="+encodeURIComponent(t.user.email))}else i.push(encodeURIComponent(a)+"="+encodeURIComponent(t[a]));return i.length?r+"?"+i.join("&"):r},e.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},e.prototype._getIngestEndpoint=function(t){if(this._tunnel)return this._tunnel;var n=this.getBaseApiEndpoint(),r=this.getDsn();return""+n+r.projectId+"/"+t+"/"},e.prototype._encodedAuth=function(){var t=this.getDsn(),n={sentry_key:t.publicKey,sentry_version:We};return zr(n)},e}();var C=function(){return C=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},C.apply(this,arguments)};function Ii(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Ni(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ri(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function B(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ri(arguments[t]));return e}var ze=[];function Ye(e){return e.reduce(function(t,n){return t.every(function(r){return n.name!==r.name})&&t.push(n),t},[])}function Pi(e){var t=e.defaultIntegrations&&B(e.defaultIntegrations)||[],n=e.integrations,r=B(Ye(t));Array.isArray(n)?r=B(r.filter(function(o){return n.every(function(s){return s.name!==o.name})}),Ye(n)):typeof n=="function"&&(r=n(r),r=Array.isArray(r)?r:[r]);var i=r.map(function(o){return o.name}),a="Debug";return i.indexOf(a)!==-1&&r.push.apply(r,B(r.splice(i.indexOf(a),1))),r}function Ci(e){ze.indexOf(e.name)===-1&&(e.setupOnce($t,w),ze.push(e.name),p.log("Integration installed: "+e.name))}function Mi(e){var t={};return Pi(e).forEach(function(n){t[n.name]=n,Ci(n)}),t}var On=function(){function e(t,n){this._integrations={},this._processing=0,this._backend=new t(n),this._options=n,n.dsn&&(this._dsn=new Ht(n.dsn))}return e.prototype.captureException=function(t,n,r){var i=this,a=n&&n.event_id;return this._process(this._getBackend().eventFromException(t,n).then(function(o){return i._captureEvent(o,n,r)}).then(function(o){a=o})),a},e.prototype.captureMessage=function(t,n,r,i){var a=this,o=r&&r.event_id,s=ye(t)?this._getBackend().eventFromMessage(String(t),n,r):this._getBackend().eventFromException(t,r);return this._process(s.then(function(f){return a._captureEvent(f,r,i)}).then(function(f){o=f})),o},e.prototype.captureEvent=function(t,n,r){var i=n&&n.event_id;return this._process(this._captureEvent(t,n,r).then(function(a){i=a})),i},e.prototype.captureSession=function(t){typeof t.release!="string"?p.warn("Discarded session because of missing or non-string release"):(this._sendSession(t),t.update({init:!1}))},e.prototype.getDsn=function(){return this._dsn},e.prototype.getOptions=function(){return this._options},e.prototype.flush=function(t){var n=this;return this._isClientProcessing(t).then(function(r){return n._getBackend().getTransport().close(t).then(function(i){return r&&i})})},e.prototype.close=function(t){var n=this;return this.flush(t).then(function(r){return n.getOptions().enabled=!1,r})},e.prototype.setupIntegrations=function(){this._isEnabled()&&(this._integrations=Mi(this._options))},e.prototype.getIntegration=function(t){try{return this._integrations[t.id]||null}catch{return p.warn("Cannot retrieve integration "+t.id+" from the current Client"),null}},e.prototype._updateSessionFromEvent=function(t,n){var r,i,a=!1,o=!1,s,f=n.exception&&n.exception.values;if(f){o=!0;try{for(var u=Ni(f),c=u.next();!c.done;c=u.next()){var l=c.value,d=l.mechanism;if(d&&d.handled===!1){a=!0;break}}}catch(_){r={error:_}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}}var h=n.user;if(!t.userAgent){var v=n.request?n.request.headers:{};for(var g in v)if(g.toLowerCase()==="user-agent"){s=v[g];break}}t.update(C(C({},a&&{status:Z.Crashed}),{user:h,userAgent:s,errors:t.errors+Number(o||a)})),this.captureSession(t)},e.prototype._sendSession=function(t){this._getBackend().sendSession(t)},e.prototype._isClientProcessing=function(t){var n=this;return new O(function(r){var i=0,a=1,o=setInterval(function(){n._processing==0?(clearInterval(o),r(!0)):(i+=a,t&&i>=t&&(clearInterval(o),r(!1)))},a)})},e.prototype._getBackend=function(){return this._backend},e.prototype._isEnabled=function(){return this.getOptions().enabled!==!1&&this._dsn!==void 0},e.prototype._prepareEvent=function(t,n,r){var i=this,a=this.getOptions().normalizeDepth,o=a===void 0?3:a,s=C(C({},t),{event_id:t.event_id||(r&&r.event_id?r.event_id:Q()),timestamp:t.timestamp||be()});this._applyClientOptions(s),this._applyIntegrationsMetadata(s);var f=n;r&&r.captureContext&&(f=H.clone(f).update(r.captureContext));var u=O.resolve(s);return f&&(u=f.applyToEvent(s,r)),u.then(function(c){return typeof o=="number"&&o>0?i._normalizeEvent(c,o):c})},e.prototype._normalizeEvent=function(t,n){if(!t)return null;var r=C(C(C(C(C({},t),t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(function(i){return C(C({},i),i.data&&{data:gt(i.data,n)})})}),t.user&&{user:gt(t.user,n)}),t.contexts&&{contexts:gt(t.contexts,n)}),t.extra&&{extra:gt(t.extra,n)});return t.contexts&&t.contexts.trace&&(r.contexts.trace=t.contexts.trace),r},e.prototype._applyClientOptions=function(t){var n=this.getOptions(),r=n.environment,i=n.release,a=n.dist,o=n.maxValueLength,s=o===void 0?250:o;"environment"in t||(t.environment="environment"in n?r:"production"),t.release===void 0&&i!==void 0&&(t.release=i),t.dist===void 0&&a!==void 0&&(t.dist=a),t.message&&(t.message=yt(t.message,s));var f=t.exception&&t.exception.values&&t.exception.values[0];f&&f.value&&(f.value=yt(f.value,s));var u=t.request;u&&u.url&&(u.url=yt(u.url,s))},e.prototype._applyIntegrationsMetadata=function(t){var n=Object.keys(this._integrations);n.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=B(t.sdk.integrations||[],n))},e.prototype._sendEvent=function(t){this._getBackend().sendEvent(t)},e.prototype._captureEvent=function(t,n,r){return this._processEvent(t,n,r).then(function(i){return i.event_id},function(i){p.error(i)})},e.prototype._processEvent=function(t,n,r){var i=this,a=this.getOptions(),o=a.beforeSend,s=a.sampleRate;if(!this._isEnabled())return O.reject(new T("SDK not enabled, will not send event."));var f=t.type==="transaction";return!f&&typeof s=="number"&&Math.random()>s?O.reject(new T("Discarding event because it's not included in the random sample (sampling rate = "+s+")")):this._prepareEvent(t,r,n).then(function(u){if(u===null)throw new T("An event processor returned null, will not send event.");var c=n&&n.data&&n.data.__sentry__===!0;if(c||f||!o)return u;var l=o(u,n);if(typeof l=="undefined")throw new T("`beforeSend` method has to return `null` or a valid event.");return xt(l)?l.then(function(d){return d},function(d){throw new T("beforeSend rejected with "+d)}):l}).then(function(u){if(u===null)throw new T("`beforeSend` returned `null`, will not send event.");var c=r&&r.getSession&&r.getSession();return!f&&c&&i._updateSessionFromEvent(c,u),i._sendEvent(u),u}).then(null,function(u){throw u instanceof T?u:(i.captureException(u,{data:{__sentry__:!0},originalException:u}),new T(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: `+u))})},e.prototype._process=function(t){var n=this;this._processing+=1,t.then(function(r){return n._processing-=1,r},function(r){return n._processing-=1,r})},e}(),Ai=function(){function e(){}return e.prototype.sendEvent=function(t){return O.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:exports.Status.Skipped})},e.prototype.close=function(t){return O.resolve(!0)},e}(),kn=function(){function e(t){this._options=t,this._options.dsn||p.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return e.prototype.eventFromException=function(t,n){throw new T("Backend has to implement `eventFromException` method")},e.prototype.eventFromMessage=function(t,n,r){throw new T("Backend has to implement `eventFromMessage` method")},e.prototype.sendEvent=function(t){this._transport.sendEvent(t).then(null,function(n){p.error("Error while sending event: "+n)})},e.prototype.sendSession=function(t){if(!this._transport.sendSession){p.warn("Dropping session because custom transport doesn't implement sendSession");return}this._transport.sendSession(t).then(null,function(n){p.error("Error while sending session: "+n)})},e.prototype.getTransport=function(){return this._transport},e.prototype._setupTransport=function(){return new Ai},e}();function In(e){if(!(!e.metadata||!e.metadata.sdk)){var t=e.metadata.sdk,n=t.name,r=t.version;return{name:n,version:r}}}function Di(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=B(e.sdk.integrations||[],t.integrations||[]),e.sdk.packages=B(e.sdk.packages||[],t.packages||[])),e}function Nn(e,t){var n=In(t),r=JSON.stringify(C(C({sent_at:new Date().toISOString()},n&&{sdk:n}),t.forceEnvelope()&&{dsn:t.getDsn().toString()})),i="aggregates"in e?"sessions":"session",a=JSON.stringify({type:i});return{body:r+`
`+a+`
`+JSON.stringify(e),type:i,url:t.getEnvelopeEndpointWithUrlEncodedAuth()}}function Rn(e,t){var n=In(t),r=e.type||"event",i=r==="transaction"||t.forceEnvelope(),a=e.debug_meta||{},o=a.transactionSampling,s=Ii(a,["transactionSampling"]),f=o||{},u=f.method,c=f.rate;Object.keys(s).length===0?delete e.debug_meta:e.debug_meta=s;var l={body:JSON.stringify(n?Di(e,t.metadata.sdk):e),type:r,url:i?t.getEnvelopeEndpointWithUrlEncodedAuth():t.getStoreEndpointWithUrlEncodedAuth()};if(i){var d=JSON.stringify(C(C({event_id:e.event_id,sent_at:new Date().toISOString()},n&&{sdk:n}),t.forceEnvelope()&&{dsn:t.getDsn().toString()})),h=JSON.stringify({type:r,sample_rates:[{id:u,rate:c}]}),v=d+`
`+h+`
`+l.body;l.body=v}return l}function ji(e,t){var n;t.debug===!0&&p.enable();var r=w();(n=r.getScope())===null||n===void 0||n.update(t.initialScope);var i=new e(t);r.bindClient(i)}var fe="6.7.1",Ge,Pn=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){Ge=Function.prototype.toString,Function.prototype.toString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this.__sentry_original__||this;return Ge.apply(r,t)}},e.id="FunctionToString",e}(),Fi=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],Cn=function(){function e(t){t===void 0&&(t={}),this._options=t,this.name=e.id}return e.prototype.setupOnce=function(){$t(function(t){var n=w();if(!n)return t;var r=n.getIntegration(e);if(r){var i=n.getClient(),a=i?i.getOptions():{},o=typeof r._mergeOptions=="function"?r._mergeOptions(a):{};return typeof r._shouldDropEvent!="function"?t:r._shouldDropEvent(t,o)?null:t}return t})},e.prototype._shouldDropEvent=function(t,n){return this._isSentryError(t,n)?(p.warn(`Event dropped due to being internal Sentry Error.
Event: `+ut(t)),!0):this._isIgnoredError(t,n)?(p.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+ut(t)),!0):this._isDeniedUrl(t,n)?(p.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+ut(t)+`.
Url: `+this._getEventFilterUrl(t)),!0):this._isAllowedUrl(t,n)?!1:(p.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+ut(t)+`.
Url: `+this._getEventFilterUrl(t)),!0)},e.prototype._isSentryError=function(t,n){if(!n.ignoreInternal)return!1;try{return t&&t.exception&&t.exception.values&&t.exception.values[0]&&t.exception.values[0].type==="SentryError"||!1}catch{return!1}},e.prototype._isIgnoredError=function(t,n){return!n.ignoreErrors||!n.ignoreErrors.length?!1:this._getPossibleEventMessages(t).some(function(r){return n.ignoreErrors.some(function(i){return bt(r,i)})})},e.prototype._isDeniedUrl=function(t,n){if(!n.denyUrls||!n.denyUrls.length)return!1;var r=this._getEventFilterUrl(t);return r?n.denyUrls.some(function(i){return bt(r,i)}):!1},e.prototype._isAllowedUrl=function(t,n){if(!n.allowUrls||!n.allowUrls.length)return!0;var r=this._getEventFilterUrl(t);return r?n.allowUrls.some(function(i){return bt(r,i)}):!0},e.prototype._mergeOptions=function(t){return t===void 0&&(t={}),{allowUrls:B(this._options.whitelistUrls||[],this._options.allowUrls||[],t.whitelistUrls||[],t.allowUrls||[]),denyUrls:B(this._options.blacklistUrls||[],this._options.denyUrls||[],t.blacklistUrls||[],t.denyUrls||[]),ignoreErrors:B(this._options.ignoreErrors||[],t.ignoreErrors||[],Fi),ignoreInternal:typeof this._options.ignoreInternal!="undefined"?this._options.ignoreInternal:!0}},e.prototype._getPossibleEventMessages=function(t){if(t.message)return[t.message];if(t.exception)try{var n=t.exception.values&&t.exception.values[0]||{},r=n.type,i=r===void 0?"":r,a=n.value,o=a===void 0?"":a;return[""+o,i+": "+o]}catch{return p.error("Cannot extract message for event "+ut(t)),[]}return[]},e.prototype._getEventFilterUrl=function(t){try{if(t.stacktrace){var n=t.stacktrace.frames;return n&&n[n.length-1].filename||null}if(t.exception){var r=t.exception.values&&t.exception.values[0].stacktrace&&t.exception.values[0].stacktrace.frames;return r&&r[r.length-1].filename||null}return null}catch{return p.error("Cannot extract url for event "+ut(t)),null}},e.id="InboundFilters",e}(),Ui=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",FunctionToString:Pn,InboundFilters:Cn});function Li(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function Mn(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Li(arguments[t]));return e}function qi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=w();if(r&&r[e])return r[e].apply(r,Mn(t));throw new Error("No hub defined or "+e+" was not found on the hub, please open a bug report.")}function Hi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];qi.apply(void 0,Mn(["_invokeClient",e],t))}var le=function(e,t){return le=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},le(e,t)};function Wt(e,t){le(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var I=function(){return I=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},I.apply(this,arguments)};function Bi(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(l){o(l)}}function f(c){try{u(r.throw(c))}catch(l){o(l)}}function u(c){c.done?a(c.value):i(c.value).then(s,f)}u((r=r.apply(e,t||[])).next())})}function $i(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(c){return f([u,c])}}function f(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Dt(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function An(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function Ut(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(An(arguments[t]));return e}var Dn={};(function(e){(function(t,n){n(e)})(Sr,function(t){const n=Symbol("newer"),r=Symbol("older");function i(u,c){typeof u!="number"&&(c=u,u=0),this.size=0,this.limit=u,this.oldest=this.newest=void 0,this._keymap=new Map,c&&(this.assign(c),u<1&&(this.limit=this.size))}t.LRUMap=i;function a(u,c){this.key=u,this.value=c,this[n]=void 0,this[r]=void 0}i.prototype._markEntryAsUsed=function(u){u!==this.newest&&(u[n]&&(u===this.oldest&&(this.oldest=u[n]),u[n][r]=u[r]),u[r]&&(u[r][n]=u[n]),u[n]=void 0,u[r]=this.newest,this.newest&&(this.newest[n]=u),this.newest=u)},i.prototype.assign=function(u){let c,l=this.limit||Number.MAX_VALUE;this._keymap.clear();let d=u[Symbol.iterator]();for(let h=d.next();!h.done;h=d.next()){let v=new a(h.value[0],h.value[1]);if(this._keymap.set(v.key,v),c?(c[n]=v,v[r]=c):this.oldest=v,c=v,l--==0)throw new Error("overflow")}this.newest=c,this.size=this._keymap.size},i.prototype.get=function(u){var c=this._keymap.get(u);if(!!c)return this._markEntryAsUsed(c),c.value},i.prototype.set=function(u,c){var l=this._keymap.get(u);return l?(l.value=c,this._markEntryAsUsed(l),this):(this._keymap.set(u,l=new a(u,c)),this.newest?(this.newest[n]=l,l[r]=this.newest):this.oldest=l,this.newest=l,++this.size,this.size>this.limit&&this.shift(),this)},i.prototype.shift=function(){var u=this.oldest;if(u)return this.oldest[n]?(this.oldest=this.oldest[n],this.oldest[r]=void 0):(this.oldest=void 0,this.newest=void 0),u[n]=u[r]=void 0,this._keymap.delete(u.key),--this.size,[u.key,u.value]},i.prototype.find=function(u){let c=this._keymap.get(u);return c?c.value:void 0},i.prototype.has=function(u){return this._keymap.has(u)},i.prototype.delete=function(u){var c=this._keymap.get(u);if(!!c)return this._keymap.delete(c.key),c[n]&&c[r]?(c[r][n]=c[n],c[n][r]=c[r]):c[n]?(c[n][r]=void 0,this.oldest=c[n]):c[r]?(c[r][n]=void 0,this.newest=c[r]):this.oldest=this.newest=void 0,this.size--,c.value},i.prototype.clear=function(){this.oldest=this.newest=void 0,this.size=0,this._keymap.clear()};function o(u){this.entry=u}o.prototype[Symbol.iterator]=function(){return this},o.prototype.next=function(){let u=this.entry;return u?(this.entry=u[n],{done:!1,value:[u.key,u.value]}):{done:!0,value:void 0}};function s(u){this.entry=u}s.prototype[Symbol.iterator]=function(){return this},s.prototype.next=function(){let u=this.entry;return u?(this.entry=u[n],{done:!1,value:u.key}):{done:!0,value:void 0}};function f(u){this.entry=u}f.prototype[Symbol.iterator]=function(){return this},f.prototype.next=function(){let u=this.entry;return u?(this.entry=u[n],{done:!1,value:u.value}):{done:!0,value:void 0}},i.prototype.keys=function(){return new s(this.oldest)},i.prototype.values=function(){return new f(this.oldest)},i.prototype.entries=function(){return this},i.prototype[Symbol.iterator]=function(){return new o(this.oldest)},i.prototype.forEach=function(u,c){typeof c!="object"&&(c=this);let l=this.oldest;for(;l;)u.call(c,l.value,l.key,this),l=l[n]},i.prototype.toJSON=function(){for(var u=new Array(this.size),c=0,l=this.oldest;l;)u[c++]={key:l.key,value:l.value},l=l[n];return u},i.prototype.toString=function(){for(var u="",c=this.oldest;c;)u+=String(c.key)+":"+c.value,c=c[n],c&&(u+=" < ");return u}})})(Dn);function Wi(e){if(!e.stack)return[];var t=e.stack.split(`
`).slice(1);return t.map(function(n){if(n.match(/^\s*[-]{4,}$/))return{columnNumber:null,fileName:n,functionName:null,lineNumber:null,methodName:null,native:null,typeName:null};var r=n.match(/at (?:(.+?)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(!!r){var i=null,a=null,o=null,s=null,f=null,u=r[5]==="native";if(r[1]){o=r[1];var c=o.lastIndexOf(".");if(o[c-1]==="."&&c--,c>0){i=o.substr(0,c),a=o.substr(c+1);var l=i.indexOf(".Module");l>0&&(o=o.substr(l+1),i=i.substr(0,l))}s=null}a&&(s=i,f=a),a==="<anonymous>"&&(f=null,o=null);var d={columnNumber:parseInt(r[4],10)||null,fileName:r[2]||null,functionName:o,lineNumber:parseInt(r[3],10)||null,methodName:f,native:u,typeName:s};return d}}).filter(function(n){return!!n})}var zi=7,Je=new Dn.LRUMap(100);function Yi(e){try{return e.functionName||e.typeName+"."+(e.methodName||"<anonymous>")}catch{return"<anonymous>"}}var Gi=(require.main&&require.main.filename&&_n(require.main.filename)||global.process.cwd())+"/";function Ji(e,t){t||(t=Gi);var n=di(e,".js");e=_n(e);var r=e.lastIndexOf("/node_modules/");if(r>-1)return e.substr(r+14).replace(/\//g,".")+":"+n;if(r=(e+"/").lastIndexOf(t,0),r===0){var i=e.substr(t.length).replace(/\//g,".");return i&&(i+=":"),i+=n,i}return n}function Vi(e){return e.length===0?O.resolve({}):new O(function(t){for(var n={},r=0,i=function(o){var s=e[o],f=Je.get(s);if(f!==void 0)return f!==null&&(n[s]=f),r++,r===e.length&&t(n),"continue";A.readFile(s,function(u,c){var l=u?null:c.toString();n[s]=l,Je.set(s,l),r++,r===e.length&&t(n)})},a=0;a<e.length;a++)i(a)})}function jn(e){var t=Wi(e);return t||[]}function Fn(e,t){var n=[],r=t&&t.frameContextLines!==void 0?t.frameContextLines:zi,i=e.map(function(a){var o,s={colno:a.columnNumber,filename:((o=a.fileName)===null||o===void 0?void 0:o.startsWith("file://"))?a.fileName.substr(7):a.fileName||"",function:Yi(a),lineno:a.lineNumber},f=a.native||s.filename&&!s.filename.startsWith("/")&&!s.filename.startsWith(".")&&s.filename.indexOf(":\\")!==1;return s.in_app=!f&&s.filename!==void 0&&s.filename.indexOf("node_modules/")===-1,s.filename&&(s.module=Ji(s.filename),!f&&r>0&&n.indexOf(s.filename)===-1&&n.push(s.filename)),s});if(r<=0)return O.resolve(i);try{return Xi(n,i,r)}catch{return O.resolve(i)}}function Xi(e,t,n){return new O(function(r){return Vi(e).then(function(i){var a=t.map(function(o){if(o.filename&&i[o.filename])try{var s=i[o.filename].split(`
`);Br(s,o,n)}catch{}return o});r(a)})})}function Un(e,t){var n=e.name||e.constructor.name,r=jn(e);return new O(function(i){return Fn(r,t).then(function(a){var o={stacktrace:{frames:Ln(a)},type:n,value:e.message};i(o)})})}function Ki(e,t){return new O(function(n){return Un(e,t).then(function(r){n({exception:{values:[r]}})})})}function Ln(e){if(!e||!e.length)return[];var t=e,n=t[0].function||"";return(n.indexOf("captureMessage")!==-1||n.indexOf("captureException")!==-1)&&(t=t.slice(1)),t.reverse()}var Zi="sentry.javascript.node",te={event:"error",transaction:"transaction",session:"session",attachment:"attachment"},we=function(){function e(t){this.options=t,this._buffer=new gn(30),this._rateLimits={},this.urlParser=function(n){return new jt.URL(n)},this._api=new xn(t.dsn,t._metadata,t.tunnel)}return e.prototype.sendEvent=function(t){throw new T("Transport Class has to implement `sendEvent` method.")},e.prototype.close=function(t){return this._buffer.drain(t)},e.prototype._getProxy=function(t){var n,r,i=process.env,a=i.no_proxy,o=i.http_proxy,s=i.https_proxy,f=this.options,u=f.httpProxy,c=f.httpsProxy,l=t==="http"?u||o:c||u||s||o;if(!a)return l;var d=this._api.getDsn(),h=d.host,v=d.port;try{for(var g=Dt(a.split(",")),_=g.next();!_.done;_=g.next()){var R=_.value;if(h.endsWith(R)||(h+":"+v).endsWith(R))return}}catch(W){n={error:W}}finally{try{_&&!_.done&&(r=g.return)&&r.call(g)}finally{if(n)throw n.error}}return l},e.prototype._getRequestOptions=function(t){var n=I(I({},this._api.getRequestHeaders(Zi,fe)),this.options.headers),r=t.hostname,i=t.pathname,a=t.port,o=t.protocol,s=""+i;return I({agent:this.client,headers:n,hostname:r,method:"POST",path:s,port:a,protocol:o},this.options.caCerts&&{ca:mr.readFileSync(this.options.caCerts)})},e.prototype._disabledUntil=function(t){var n=te[t];return this._rateLimits[n]||this._rateLimits.all},e.prototype._isRateLimited=function(t){return this._disabledUntil(t)>new Date(Date.now())},e.prototype._handleRateLimit=function(t){var n,r,i,a,o=Date.now(),s=t["x-sentry-rate-limits"],f=t["retry-after"];if(s){try{for(var u=Dt(s.trim().split(",")),c=u.next();!c.done;c=u.next()){var l=c.value,d=l.split(":",2),h=parseInt(d[0],10),v=(isNaN(h)?60:h)*1e3;try{for(var g=(i=void 0,Dt(d[1]&&d[1].split(";")||["all"])),_=g.next();!_.done;_=g.next()){var R=_.value,W=Ut(Object.keys(te).map(function(U){return te[U]}),["all"]);W.includes(R)&&(this._rateLimits[R]=new Date(o+v))}}catch(U){i={error:U}}finally{try{_&&!_.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}}}catch(U){n={error:U}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return!0}else if(f)return this._rateLimits.all=new Date(o+Hr(o,f)),!0;return!1},e.prototype._send=function(t,n){return Bi(this,void 0,void 0,function(){var r=this;return $i(this,function(i){if(!this.module)throw new T("No module available");return n&&this._isRateLimited(t.type)?[2,Promise.reject({payload:n,type:t.type,reason:"Transport locked till "+this._disabledUntil(t.type)+" due to too many requests.",status:429})]:this._buffer.isReady()?[2,this._buffer.add(new Promise(function(a,o){if(!r.module)throw new T("No module available");var s=r._getRequestOptions(r.urlParser(t.url)),f=r.module.request(s,function(u){var c=u.statusCode||500,l=exports.Status.fromHttpCode(c);u.setEncoding("utf8");var d=u.headers?u.headers["retry-after"]:"";d=Array.isArray(d)?d[0]:d;var h=u.headers?u.headers["x-sentry-rate-limits"]:"";h=Array.isArray(h)?h[0]:h;var v={"x-sentry-rate-limits":h,"retry-after":d},g=r._handleRateLimit(v);if(g&&p.warn("Too many requests, backing off until: "+r._disabledUntil(t.type)),l===exports.Status.Success)a({status:l});else{var _="HTTP Error ("+c+")";u.headers&&u.headers["x-sentry-error"]&&(_+=": "+u.headers["x-sentry-error"]),o(new T(_))}u.on("data",function(){}),u.on("end",function(){})});f.on("error",o),f.end(t.body)}))]:[2,Promise.reject(new T("Not adding Promise due to buffer limit reached."))]})})},e}(),Qi=function(e){Wt(t,e);function t(n){var r=e.call(this,n)||this;r.options=n;var i=r._getProxy("http");return r.module=Ae,r.client=i?new(require("https-proxy-agent"))(i):new Ae.Agent({keepAlive:!1,maxSockets:30,timeout:2e3}),r}return t.prototype.sendEvent=function(n){return this._send(Rn(n,this._api),n)},t.prototype.sendSession=function(n){return this._send(Nn(n,this._api),n)},t}(we),ta=function(e){Wt(t,e);function t(n){var r=e.call(this,n)||this;r.options=n;var i=r._getProxy("https");return r.module=De,r.client=i?new(require("https-proxy-agent"))(i):new De.Agent({keepAlive:!1,maxSockets:30,timeout:2e3}),r}return t.prototype.sendEvent=function(n){return this._send(Rn(n,this._api),n)},t.prototype.sendSession=function(n){return this._send(Nn(n,this._api),n)},t}(we),qn=function(e){Wt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.eventFromException=function(n,r){var i=this,a=n,o=r&&r.data&&r.data.mechanism,s=o||{handled:!0,type:"generic"};if(!ge(n)){if(qt(n)){var f="Non-Error exception captured with keys: "+Vr(n);w().configureScope(function(u){u.setExtra("__serialized__",dn(n))}),a=r&&r.syntheticException||new Error(f),a.message=f}else a=r&&r.syntheticException||new Error(n),a.message=n;s.synthetic=!0}return new O(function(u,c){return Ki(a,i._options).then(function(l){Ur(l,void 0,void 0),Lr(l,s),u(I(I({},l),{event_id:r&&r.event_id}))}).then(null,c)})},t.prototype.eventFromMessage=function(n,r,i){var a=this;r===void 0&&(r=exports.Severity.Info);var o={event_id:i&&i.event_id,level:r,message:n};return new O(function(s){if(a._options.attachStacktrace&&i&&i.syntheticException){var f=i.syntheticException?jn(i.syntheticException):[];Fn(f,a._options).then(function(u){o.stacktrace={frames:Ln(u)},s(o)}).then(null,function(){s(o)})}else s(o)})},t.prototype._setupTransport=function(){if(!this._options.dsn)return e.prototype._setupTransport.call(this);var n=new Ht(this._options.dsn),r=I(I(I(I(I({},this._options.transportOptions),this._options.httpProxy&&{httpProxy:this._options.httpProxy}),this._options.httpsProxy&&{httpsProxy:this._options.httpsProxy}),this._options.caCerts&&{caCerts:this._options.caCerts}),{dsn:this._options.dsn,tunnel:this._options.tunnel,_metadata:this._options._metadata});return this._options.transport?new this._options.transport(r):n.protocol==="http"?new Qi(r):new ta(r)},t}(kn);(function(e){Wt(t,e);function t(n){var r=this;return n._metadata=n._metadata||{},n._metadata.sdk=n._metadata.sdk||{name:"sentry.javascript.node",packages:[{name:"npm:@sentry/node",version:fe}],version:fe},r=e.call(this,qn,n)||this,r}return t.prototype.captureException=function(n,r,i){if(this._options.autoSessionTracking&&this._sessionFlusher&&i){var a=i.getRequestSession();a&&a.status===J.Ok&&(a.status=J.Errored)}return e.prototype.captureException.call(this,n,r,i)},t.prototype.captureEvent=function(n,r,i){if(this._options.autoSessionTracking&&this._sessionFlusher&&i){var a=n.type||"exception",o=a==="exception"&&n.exception&&n.exception.values&&n.exception.values.length>0;if(o){var s=i.getRequestSession();s&&s.status===J.Ok&&(s.status=J.Errored)}}return e.prototype.captureEvent.call(this,n,r,i)},t.prototype.close=function(n){var r;return(r=this._sessionFlusher)===null||r===void 0||r.close(),e.prototype.close.call(this,n)},t.prototype.initSessionFlusher=function(){var n=this._options,r=n.release,i=n.environment;r?this._sessionFlusher=new yi(this._backend.getTransport(),{release:r,environment:i}):p.warn("Cannot initialise an instance of SessionFlusher if no release is provided!")},t.prototype._prepareEvent=function(n,r,i){return n.platform=n.platform||"node",this.getOptions().serverName&&(n.server_name=this.getOptions().serverName),e.prototype._prepareEvent.call(this,n,r,i)},t.prototype._captureRequestSession=function(){this._sessionFlusher?this._sessionFlusher.incrementSessionStatusCount():p.warn("Discarded request mode session because autoSessionTracking option was disabled")},t})(On);var Te=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){var t,n;try{for(var r=Dt(["debug","info","warn","error","log"]),i=r.next();!i.done;i=r.next()){var a=i.value;M(console,a,ea(a))}}catch(o){t={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.id="Console",e}();function ea(e){return function(n){var r;switch(e){case"debug":r=exports.Severity.Debug;break;case"error":r=exports.Severity.Error;break;case"info":r=exports.Severity.Info;break;case"warn":r=exports.Severity.Warning;break;default:r=exports.Severity.Log}return function(){w().getIntegration(Te)&&w().addBreadcrumb({category:"console",level:r,message:yr.format.apply(void 0,arguments)},{input:Ut(arguments),level:e}),n.apply(this,arguments)}}}function na(e){var t,n=(t=w().getClient())===null||t===void 0?void 0:t.getDsn();return n?e.includes(n.host):!1}function Hn(e){var t=e.protocol||"",n=e.hostname||e.host||"",r=!e.port||e.port===80||e.port===443?"":":"+e.port,i=e.path?e.path:"/";return t+"//"+n+r+i}function Ve(e,t,n){var r,i,a;if(!e)return e;var o=An(e.split(" "),2),s=o[0],f=o[1];return t.host&&!t.protocol&&(t.protocol=(i=(r=n)===null||r===void 0?void 0:r.agent)===null||i===void 0?void 0:i.protocol,f=Hn(t)),((a=f)===null||a===void 0?void 0:a.startsWith("///"))&&(f=f.slice(2)),s+" "+f}function Xe(e){var t={protocol:e.protocol,hostname:typeof e.hostname=="string"&&e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:""+(e.pathname||"")+(e.search||""),href:e.href};return e.port!==""&&(t.port=Number(e.port)),(e.username||e.password)&&(t.auth=e.username+":"+e.password),t}function ra(e){var t,n;return typeof e[e.length-1]=="function"&&(t=e.pop()),typeof e[0]=="string"?n=Xe(new jt.URL(e[0])):e[0]instanceof jt.URL?n=Xe(e[0]):n=e[0],e.length===2&&(n=I(I({},n),e[1])),t?[n,t]:[n]}var Ke=fn(process.versions.node),xe=function(){function e(t){t===void 0&&(t={}),this.name=e.id,this._breadcrumbs=typeof t.breadcrumbs=="undefined"?!0:t.breadcrumbs,this._tracing=typeof t.tracing=="undefined"?!1:t.tracing}return e.prototype.setupOnce=function(){if(!(!this._breadcrumbs&&!this._tracing)){var t=ia(this._breadcrumbs,this._tracing),n=require("http");if(M(n,"get",t),M(n,"request",t),Ke.major&&Ke.major>8){var r=require("https");M(r,"get",t),M(r,"request",t)}}},e.id="Http",e}();function ia(e,t){return function(r){return function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];var s=this,f=ra(a),u=f[0],c=Hn(u);if(na(c))return r.apply(s,f);var l,d,h=w().getScope();if(h&&t&&(d=h.getSpan(),d)){l=d.startChild({description:(u.method||"GET")+" "+c,op:"request"});var v=l.toTraceparent();p.log("[Tracing] Adding sentry-trace header "+v+" to outgoing request to "+c+": "),u.headers=I(I({},u.headers),{"sentry-trace":v})}return r.apply(s,f).once("response",function(g){var _=this;e&&Ze("response",c,_,g),t&&l&&(g.statusCode&&l.setHttpStatus(g.statusCode),l.description=Ve(l.description,u,_),l.finish())}).once("error",function(){var g=this;e&&Ze("error",c,g),t&&l&&(l.setHttpStatus(500),l.description=Ve(l.description,u,g),l.finish())})}}}function Ze(e,t,n,r){!w().getIntegration(xe)||w().addBreadcrumb({category:"http",data:{method:n.method,status_code:r&&r.statusCode,url:t},type:"http"},{event:e,request:n,response:r})}var aa=2e3;function pe(e){console.error(e&&e.stack?e.stack:e);var t=w().getClient();if(t===void 0){p.warn("No NodeClient was defined, we are exiting the process now."),global.process.exit(1);return}var n=t.getOptions(),r=n&&n.shutdownTimeout&&n.shutdownTimeout>0&&n.shutdownTimeout||aa;tt(t.close(r).then(function(i){i||p.warn("We reached the timeout for emptying the request buffer, still exiting now!"),global.process.exit(1)}))}var Bn=function(){function e(t){t===void 0&&(t={}),this._options=t,this.name=e.id,this.handler=this._makeErrorHandler()}return e.prototype.setupOnce=function(){global.process.on("uncaughtException",this.handler.bind(this))},e.prototype._makeErrorHandler=function(){var t=this,n=2e3,r=!1,i=!1,a=!1,o;return function(s){var f=pe,u=w().getClient();if(t._options.onFatalError?f=t._options.onFatalError:u&&u.getOptions().onFatalError&&(f=u.getOptions().onFatalError),r)a?(p.warn("uncaught exception after calling fatal error shutdown callback - this is bad! forcing shutdown"),pe(s)):i||(i=!0,setTimeout(function(){a||(a=!0,f(o,s))},n));else{var c=w();o=s,r=!0,c.getIntegration(e)?c.withScope(function(l){l.setLevel(exports.Severity.Fatal),c.captureException(s,{originalException:s,data:{mechanism:{handled:!1,type:"onuncaughtexception"}}}),a||(a=!0,f(s))}):a||(a=!0,f(s))}}},e.id="OnUncaughtException",e}(),$n=function(){function e(t){t===void 0&&(t={mode:"warn"}),this._options=t,this.name=e.id}return e.prototype.setupOnce=function(){global.process.on("unhandledRejection",this.sendUnhandledPromise.bind(this))},e.prototype.sendUnhandledPromise=function(t,n){var r=w();if(!r.getIntegration(e)){this._handleRejection(t);return}var i=n.domain&&n.domain.sentryContext||{};r.withScope(function(a){a.setExtra("unhandledPromiseRejection",!0),i.user&&a.setUser(i.user),i.tags&&a.setTags(i.tags),i.extra&&a.setExtras(i.extra),r.captureException(t,{originalException:n,data:{mechanism:{handled:!1,type:"onunhandledrejection"}}})}),this._handleRejection(t)},e.prototype._handleRejection=function(t){var n="This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). The promise rejected with the reason:";this._options.mode==="warn"?lt(function(){console.warn(n),console.error(t&&t.stack?t.stack:t)}):this._options.mode==="strict"&&(lt(function(){console.warn(n)}),pe(t))},e.id="OnUnhandledRejection",e}(),oa="cause",sa=5,Wn=function(){function e(t){t===void 0&&(t={}),this.name=e.id,this._key=t.key||oa,this._limit=t.limit||sa}return e.prototype.setupOnce=function(){$t(function(t,n){var r=w().getIntegration(e);if(r){var i=r._handler&&r._handler.bind(r);return typeof i=="function"?i(t,n):t}return t})},e.prototype._handler=function(t,n){var r=this;return!t.exception||!t.exception.values||!n||!$(n.originalException,Error)?O.resolve(t):new O(function(i){r._walkErrorTree(n.originalException,r._key).then(function(a){t&&t.exception&&t.exception.values&&(t.exception.values=Ut(a,t.exception.values)),i(t)}).then(null,function(){i(t)})})},e.prototype._walkErrorTree=function(t,n,r){var i=this;return r===void 0&&(r=[]),!$(t[n],Error)||r.length+1>=this._limit?O.resolve(r):new O(function(a,o){Un(t[n]).then(function(s){i._walkErrorTree(t[n],n,Ut([s],r)).then(a).then(null,function(){o()})}).then(null,function(){o()})})},e.id="LinkedErrors",e}(),ee;function ua(){try{return require.cache?Object.keys(require.cache):[]}catch{return[]}}function ca(){var e=require.main&&require.main.paths||[],t=ua(),n={},r={};return t.forEach(function(i){var a=i,o=function(){var s=a;if(a=N.dirname(s),!(!a||s===a||r[s])){if(e.indexOf(a)<0)return o();var f=N.join(s,"package.json");if(r[s]=!0,!A.existsSync(f))return o();try{var u=JSON.parse(A.readFileSync(f,"utf8"));n[u.name]=u.version}catch{}}};o()}),n}var fa=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(t,n){var r=this;t(function(i){return n().getIntegration(e)?I(I({},i),{modules:r._getModules()}):i})},e.prototype._getModules=function(){return ee||(ee=ca()),ee},e.id="Modules",e}(),la=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Console:Te,Http:xe,OnUncaughtException:Bn,OnUnhandledRejection:$n,LinkedErrors:Wn,Modules:fa}),pa=[new Cn,new Pn,new Te,new xe,new Bn,new $n,new Wn];var de=function(e,t){return de=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},de(e,t)};function Oe(e,t){de(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var E=function(){return E=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},E.apply(this,arguments)};function da(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function ha(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function zn(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function it(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(zn(arguments[t]));return e}var D;(function(e){e.Ok="ok",e.DeadlineExceeded="deadline_exceeded",e.Unauthenticated="unauthenticated",e.PermissionDenied="permission_denied",e.NotFound="not_found",e.ResourceExhausted="resource_exhausted",e.InvalidArgument="invalid_argument",e.Unimplemented="unimplemented",e.Unavailable="unavailable",e.InternalError="internal_error",e.UnknownError="unknown_error",e.Cancelled="cancelled",e.AlreadyExists="already_exists",e.FailedPrecondition="failed_precondition",e.Aborted="aborted",e.OutOfRange="out_of_range",e.DataLoss="data_loss"})(D||(D={}));(function(e){function t(n){if(n<400)return e.Ok;if(n>=400&&n<500)switch(n){case 401:return e.Unauthenticated;case 403:return e.PermissionDenied;case 404:return e.NotFound;case 409:return e.AlreadyExists;case 413:return e.FailedPrecondition;case 429:return e.ResourceExhausted;default:return e.InvalidArgument}if(n>=500&&n<600)switch(n){case 501:return e.Unimplemented;case 503:return e.Unavailable;case 504:return e.DeadlineExceeded;default:return e.InternalError}return e.UnknownError}e.fromHttpCode=t})(D||(D={}));var va=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function ke(e){e===void 0&&(e=(t=w().getClient())===null||t===void 0?void 0:t.getOptions());var t;return e?"tracesSampleRate"in e||"tracesSampler"in e:!1}function ma(e){var t=e.match(va);if(t){var n=void 0;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}}function zt(e){e===void 0&&(e=w());var t,n;return(n=(t=e)===null||t===void 0?void 0:t.getScope())===null||n===void 0?void 0:n.getTransaction()}function P(e){return e/1e3}function _a(e){return e*1e3}function ga(){Tt({callback:Qe,type:"error"}),Tt({callback:Qe,type:"unhandledrejection"})}function Qe(){var e=zt();e&&(p.log("[Tracing] Transaction: "+D.InternalError+" -> Global error occured"),e.setStatus(D.InternalError))}var Yn=function(){function e(t){t===void 0&&(t=1e3),this.spans=[],this._maxlen=t}return e.prototype.add=function(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)},e}(),ya=function(){function e(t){if(this.traceId=Q(),this.spanId=Q().substring(16),this.startTimestamp=rt(),this.tags={},this.data={},!t)return this;t.traceId&&(this.traceId=t.traceId),t.spanId&&(this.spanId=t.spanId),t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.data&&(this.data=t.data),t.tags&&(this.tags=t.tags),t.status&&(this.status=t.status),t.startTimestamp&&(this.startTimestamp=t.startTimestamp),t.endTimestamp&&(this.endTimestamp=t.endTimestamp)}return e.prototype.child=function(t){return this.startChild(t)},e.prototype.startChild=function(t){var n=new e(E(E({},t),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,n},e.prototype.setTag=function(t,n){var r;return this.tags=E(E({},this.tags),(r={},r[t]=n,r)),this},e.prototype.setData=function(t,n){var r;return this.data=E(E({},this.data),(r={},r[t]=n,r)),this},e.prototype.setStatus=function(t){return this.status=t,this},e.prototype.setHttpStatus=function(t){this.setTag("http.status_code",String(t));var n=D.fromHttpCode(t);return n!==D.UnknownError&&this.setStatus(n),this},e.prototype.isSuccess=function(){return this.status===D.Ok},e.prototype.finish=function(t){this.endTimestamp=typeof t=="number"?t:rt()},e.prototype.toTraceparent=function(){var t="";return this.sampled!==void 0&&(t=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+t},e.prototype.toContext=function(){return V({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},e.prototype.updateWithContext=function(t){var n,r,i,a,o;return this.data=(n=t.data,n!=null?n:{}),this.description=t.description,this.endTimestamp=t.endTimestamp,this.op=t.op,this.parentSpanId=t.parentSpanId,this.sampled=t.sampled,this.spanId=(r=t.spanId,r!=null?r:this.spanId),this.startTimestamp=(i=t.startTimestamp,i!=null?i:this.startTimestamp),this.status=t.status,this.tags=(a=t.tags,a!=null?a:{}),this.traceId=(o=t.traceId,o!=null?o:this.traceId),this},e.prototype.getTraceContext=function(){return V({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},e.prototype.toJSON=function(){return V({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},e}(),Gn=function(e){Oe(t,e);function t(n,r){var i=e.call(this,n)||this;return i._measurements={},i._hub=w(),$(r,kt)&&(i._hub=r),i.name=n.name||"",i.metadata=n.metadata||{},i._trimEnd=n.trimEnd,i.transaction=i,i}return t.prototype.setName=function(n){this.name=n},t.prototype.initSpanRecorder=function(n){n===void 0&&(n=1e3),this.spanRecorder||(this.spanRecorder=new Yn(n)),this.spanRecorder.add(this)},t.prototype.setMeasurements=function(n){this._measurements=E({},n)},t.prototype.setMetadata=function(n){this.metadata=E(E({},this.metadata),n)},t.prototype.finish=function(n){var r=this;if(this.endTimestamp===void 0){if(this.name||(p.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),e.prototype.finish.call(this,n),this.sampled!==!0){p.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");return}var i=this.spanRecorder?this.spanRecorder.spans.filter(function(s){return s!==r&&s.endTimestamp}):[];this._trimEnd&&i.length>0&&(this.endTimestamp=i.reduce(function(s,f){return s.endTimestamp&&f.endTimestamp?s.endTimestamp>f.endTimestamp?s:f:s}).endTimestamp);var a={contexts:{trace:this.getTraceContext()},spans:i,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",debug_meta:this.metadata},o=Object.keys(this._measurements).length>0;return o&&(p.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),a.measurements=this._measurements),p.log("[Tracing] Finishing "+this.op+" transaction: "+this.name+"."),this._hub.captureEvent(a)}},t.prototype.toContext=function(){var n=e.prototype.toContext.call(this);return V(E(E({},n),{name:this.name,trimEnd:this._trimEnd}))},t.prototype.updateWithContext=function(n){var r;return e.prototype.updateWithContext.call(this,n),this.name=(r=n.name,r!=null?r:""),this._trimEnd=n.trimEnd,this},t}(ya),Jn=1e3,ba=function(e){Oe(t,e);function t(n,r,i,a){i===void 0&&(i="");var o=e.call(this,a)||this;return o._pushActivity=n,o._popActivity=r,o.transactionSpanId=i,o}return t.prototype.add=function(n){var r=this;n.spanId!==this.transactionSpanId&&(n.finish=function(i){n.endTimestamp=typeof i=="number"?i:rt(),r._popActivity(n.spanId)},n.endTimestamp===void 0&&this._pushActivity(n.spanId)),e.prototype.add.call(this,n)},t}(Yn),Sa=function(e){Oe(t,e);function t(n,r,i,a){i===void 0&&(i=Jn),a===void 0&&(a=!1);var o=e.call(this,n,r)||this;return o._idleHub=r,o._idleTimeout=i,o._onScope=a,o.activities={},o._heartbeatTimer=0,o._heartbeatCounter=0,o._finished=!1,o._beforeFinishCallbacks=[],r&&a&&(tn(r),p.log("Setting idle transaction on scope. Span ID: "+o.spanId),r.configureScope(function(s){return s.setSpan(o)})),o._initTimeout=setTimeout(function(){o._finished||o.finish()},o._idleTimeout),o}return t.prototype.finish=function(n){var r,i,a=this;if(n===void 0&&(n=rt()),this._finished=!0,this.activities={},this.spanRecorder){p.log("[Tracing] finishing IdleTransaction",new Date(n*1e3).toISOString(),this.op);try{for(var o=ha(this._beforeFinishCallbacks),s=o.next();!s.done;s=o.next()){var f=s.value;f(this,n)}}catch(u){r={error:u}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter(function(u){if(u.spanId===a.spanId)return!0;u.endTimestamp||(u.endTimestamp=n,u.setStatus(D.Cancelled),p.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(u,void 0,2)));var c=u.startTimestamp<n;return c||p.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(u,void 0,2)),c}),p.log("[Tracing] flushing IdleTransaction")}else p.log("[Tracing] No active IdleTransaction");return this._onScope&&tn(this._idleHub),e.prototype.finish.call(this,n)},t.prototype.registerBeforeFinishCallback=function(n){this._beforeFinishCallbacks.push(n)},t.prototype.initSpanRecorder=function(n){var r=this;if(!this.spanRecorder){var i=function(o){r._finished||r._pushActivity(o)},a=function(o){r._finished||r._popActivity(o)};this.spanRecorder=new ba(i,a,this.spanId,n),p.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)},t.prototype._pushActivity=function(n){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),p.log("[Tracing] pushActivity: "+n),this.activities[n]=!0,p.log("[Tracing] new activities count",Object.keys(this.activities).length)},t.prototype._popActivity=function(n){var r=this;if(this.activities[n]&&(p.log("[Tracing] popActivity "+n),delete this.activities[n],p.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){var i=this._idleTimeout,a=rt()+i/1e3;setTimeout(function(){r._finished||r.finish(a)},i)}},t.prototype._beat=function(){if(clearTimeout(this._heartbeatTimer),!this._finished){var n=Object.keys(this.activities),r=n.length?n.reduce(function(i,a){return i+a}):"";r===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=r,this._heartbeatCounter>=3?(p.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus(D.DeadlineExceeded),this.setTag("heartbeat","failed"),this.finish()):this._pingHeartbeat()}},t.prototype._pingHeartbeat=function(){var n=this;p.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),this._heartbeatTimer=setTimeout(function(){n._beat()},5e3)},t}(Gn);function tn(e){if(e){var t=e.getScope();if(t){var n=t.getTransaction();n&&t.setSpan(void 0)}}}function Ea(){var e=this.getScope();if(e){var t=e.getSpan();if(t)return{"sentry-trace":t.toTraceparent()}}return{}}function Vn(e,t,n){if(!ke())return e.sampled=!1,e;if(e.sampled!==void 0)return e.setMetadata({transactionSampling:{method:ft.Explicit}}),e;var r;return typeof t.tracesSampler=="function"?(r=t.tracesSampler(n),e.setMetadata({transactionSampling:{method:ft.Sampler,rate:Number(r)}})):n.parentSampled!==void 0?(r=n.parentSampled,e.setMetadata({transactionSampling:{method:ft.Inheritance}})):(r=t.tracesSampleRate,e.setMetadata({transactionSampling:{method:ft.Rate,rate:Number(r)}})),wa(r)?r?(e.sampled=Math.random()<r,e.sampled?(p.log("[Tracing] starting "+e.op+" transaction - "+e.name),e):(p.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(r)+")"),e)):(p.log("[Tracing] Discarding transaction because "+(typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),e.sampled=!1,e):(p.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function wa(e){return isNaN(e)||!(typeof e=="number"||typeof e=="boolean")?(p.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(e)+" of type "+JSON.stringify(typeof e)+"."),!1):e<0||e>1?(p.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+e+"."),!1):!0}function Ta(e,t){var n,r,i=((n=this.getClient())===null||n===void 0?void 0:n.getOptions())||{},a=new Gn(e,this);return a=Vn(a,i,E({parentSampled:e.parentSampled,transactionContext:e},t)),a.sampled&&a.initSpanRecorder((r=i._experiments)===null||r===void 0?void 0:r.maxSpans),a}function xa(e,t,n,r,i){var a,o,s=((a=e.getClient())===null||a===void 0?void 0:a.getOptions())||{},f=new Sa(t,e,n,r);return f=Vn(f,s,E({parentSampled:t.parentSampled,transactionContext:t},i)),f.sampled&&f.initSpanRecorder((o=s._experiments)===null||o===void 0?void 0:o.maxSpans),f}function Oa(){var e=st();!e.__SENTRY__||(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=Ta),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=Ea))}function ka(){var e=st();if(!!e.__SENTRY__){var t={mongodb:function(){var r=K(module,"./integrations/mongo");return new r.Mongo},mongoose:function(){var r=K(module,"./integrations/mongo");return new r.Mongo({mongoose:!0})},mysql:function(){var r=K(module,"./integrations/mysql");return new r.Mysql},pg:function(){var r=K(module,"./integrations/postgres");return new r.Postgres}},n=Object.keys(t).filter(function(r){return!!Bt(r)}).map(function(r){try{return t[r]()}catch{return}}).filter(function(r){return r});n.length>0&&(e.__SENTRY__.integrations=it(e.__SENTRY__.integrations||[],n))}}function Ia(){Oa(),Ot()&&ka(),ga()}var Pt=j();function Na(){Pt&&Pt.document?Pt.document.addEventListener("visibilitychange",function(){var e=zt();Pt.document.hidden&&e&&(p.log("[Tracing] Transaction: "+D.Cancelled+" -> since tab moved to the background, op: "+e.op),e.status||e.setStatus(D.Cancelled),e.setTag("visibilitychange","document.hidden"),e.finish())}):p.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var Ie=function(e,t,n,r){var i;return function(){n&&t.isFinal&&n.disconnect(),t.value>=0&&(r||t.isFinal||document.visibilityState==="hidden")&&(t.delta=t.value-(i||0),(t.delta||t.isFinal||i===void 0)&&(e(t),i=t.value))}},Ra=function(){return Date.now()+"-"+(Math.floor(Math.random()*(9e12-1))+1e12)},Ne=function(e,t){return t===void 0&&(t=-1),{name:e,value:t,delta:0,entries:[],id:Ra(),isFinal:!1}},Re=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var n=new PerformanceObserver(function(r){return r.getEntries().map(t)});return n.observe({type:e,buffered:!0}),n}}catch{}},Xn=!1,en=!1,Pa=function(e){Xn=!e.persisted},Ca=function(){addEventListener("pagehide",Pa),addEventListener("beforeunload",function(){})},Yt=function(e,t){t===void 0&&(t=!1),en||(Ca(),en=!0),addEventListener("visibilitychange",function(n){var r=n.timeStamp;document.visibilityState==="hidden"&&e({timeStamp:r,isUnloading:Xn})},{capture:!0,once:t})},Ma=function(e,t){t===void 0&&(t=!1);var n=Ne("CLS",0),r,i=function(o){o.hadRecentInput||(n.value+=o.value,n.entries.push(o),r())},a=Re("layout-shift",i);a&&(r=Ie(e,n,a,t),Yt(function(o){var s=o.isUnloading;a.takeRecords().map(i),s&&(n.isFinal=!0),r()}))},Ct,Pe=function(){return Ct===void 0&&(Ct=document.visibilityState==="hidden"?0:1/0,Yt(function(e){var t=e.timeStamp;return Ct=t},!0)),{get timeStamp(){return Ct}}},Aa=function(e){var t=Ne("FID"),n=Pe(),r=function(o){o.startTime<n.timeStamp&&(t.value=o.processingStart-o.startTime,t.entries.push(o),t.isFinal=!0,a())},i=Re("first-input",r),a=Ie(e,t,i);i?Yt(function(){i.takeRecords().map(r),i.disconnect()},!0):window.perfMetrics&&window.perfMetrics.onFirstInputDelay&&window.perfMetrics.onFirstInputDelay(function(o,s){s.timeStamp<n.timeStamp&&(t.value=o,t.isFinal=!0,t.entries=[{entryType:"first-input",name:s.type,target:s.target,cancelable:s.cancelable,startTime:s.timeStamp,processingStart:s.timeStamp+o}],a())})},ne,Da=function(){return ne||(ne=new Promise(function(e){return["scroll","keydown","pointerdown"].map(function(t){addEventListener(t,e,{once:!0,passive:!0,capture:!0})})})),ne},ja=function(e,t){t===void 0&&(t=!1);var n=Ne("LCP"),r=Pe(),i,a=function(f){var u=f.startTime;u<r.timeStamp?(n.value=u,n.entries.push(f)):n.isFinal=!0,i()},o=Re("largest-contentful-paint",a);if(o){i=Ie(e,n,o,t);var s=function(){n.isFinal||(o.takeRecords().map(a),n.isFinal=!0,i())};Da().then(s),Yt(s,!0)}},z=j(),Fa=function(){function e(){var t;this._measurements={},this._performanceCursor=0,!Ot()&&((t=z)===null||t===void 0?void 0:t.performance)&&(z.performance.mark&&z.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(),this._trackFID())}return e.prototype.addPerformanceEntries=function(t){var n=this;if(!(!z||!z.performance||!z.performance.getEntries||!ht)){p.log("[Tracing] Adding & adjusting spans using Performance API");var r=P(ht),i;if(z.document){for(var a=0;a<document.scripts.length;a++)if(document.scripts[a].dataset.entry==="true"){i=document.scripts[a].src;break}}var o,s,f,u;if(z.performance.getEntries().slice(this._performanceCursor).forEach(function(l){var d=P(l.startTime),h=P(l.duration);if(!(t.op==="navigation"&&r+d<t.startTimestamp))switch(l.entryType){case"navigation":{Ua(t,l,r),f=r+P(l.responseStart),u=r+P(l.requestStart);break}case"mark":case"paint":case"measure":{var v=La(t,l,d,h,r);s===void 0&&l.name==="sentry-tracing-init"&&(s=v);var g=Pe(),_=l.startTime<g.timeStamp;l.name==="first-paint"&&_&&(p.log("[Measurements] Adding FP"),n._measurements.fp={value:l.startTime},n._measurements["mark.fp"]={value:v}),l.name==="first-contentful-paint"&&_&&(p.log("[Measurements] Adding FCP"),n._measurements.fcp={value:l.startTime},n._measurements["mark.fcp"]={value:v});break}case"resource":{var R=l.name.replace(window.location.origin,""),W=qa(t,l,R,d,h,r);o===void 0&&(i||"").indexOf(R)>-1&&(o=W);break}}}),o!==void 0&&s!==void 0&&at(t,{description:"evaluation",endTimestamp:s,op:"script",startTimestamp:o}),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(t),t.op==="pageload"){var c=P(ht);typeof f=="number"&&(p.log("[Measurements] Adding TTFB"),this._measurements.ttfb={value:(f-t.startTimestamp)*1e3},typeof u=="number"&&u<=f&&(this._measurements["ttfb.requestTime"]={value:(f-u)*1e3})),["fcp","fp","lcp"].forEach(function(l){if(!(!n._measurements[l]||c>=t.startTimestamp)){var d=n._measurements[l].value,h=c+P(d),v=Math.abs((h-t.startTimestamp)*1e3),g=v-d;p.log("[Measurements] Normalized "+l+" from "+d+" to "+v+" ("+g+")"),n._measurements[l].value=v}}),this._measurements["mark.fid"]&&this._measurements.fid&&at(t,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+P(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),t.setMeasurements(this._measurements),this._lcpEntry&&(p.log("[Measurements] Adding LCP Data"),this._lcpEntry.element&&t.setTag("lcp.element",oe(this._lcpEntry.element)),this._lcpEntry.id&&t.setTag("lcp.id",this._lcpEntry.id),this._lcpEntry.url&&t.setTag("lcp.url",this._lcpEntry.url.trim().slice(0,200)),t.setTag("lcp.size",this._lcpEntry.size))}}},e.prototype._trackCLS=function(){var t=this;Ma(function(n){var r=n.entries.pop();!r||(p.log("[Measurements] Adding CLS"),t._measurements.cls={value:n.value})})},e.prototype._trackNavigator=function(t){var n=z.navigator;if(!!n){var r=n.connection;r&&(r.effectiveType&&t.setTag("effectiveConnectionType",r.effectiveType),r.type&&t.setTag("connectionType",r.type),Mt(r.rtt)&&(this._measurements["connection.rtt"]={value:r.rtt}),Mt(r.downlink)&&(this._measurements["connection.downlink"]={value:r.downlink})),Mt(n.deviceMemory)&&t.setTag("deviceMemory",String(n.deviceMemory)),Mt(n.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(n.hardwareConcurrency))}},e.prototype._trackLCP=function(){var t=this;ja(function(n){var r=n.entries.pop();if(!!r){var i=P(ht),a=P(r.startTime);p.log("[Measurements] Adding LCP"),t._measurements.lcp={value:n.value},t._measurements["mark.lcp"]={value:i+a},t._lcpEntry=r}})},e.prototype._trackFID=function(){var t=this;Aa(function(n){var r=n.entries.pop();if(!!r){var i=P(ht),a=P(r.startTime);p.log("[Measurements] Adding FID"),t._measurements.fid={value:n.value},t._measurements["mark.fid"]={value:i+a}}})},e}();function Ua(e,t,n){X({transaction:e,entry:t,event:"unloadEvent",timeOrigin:n}),X({transaction:e,entry:t,event:"redirect",timeOrigin:n}),X({transaction:e,entry:t,event:"domContentLoadedEvent",timeOrigin:n}),X({transaction:e,entry:t,event:"loadEvent",timeOrigin:n}),X({transaction:e,entry:t,event:"connect",timeOrigin:n}),X({transaction:e,entry:t,event:"secureConnection",timeOrigin:n,eventEnd:"connectEnd",description:"TLS/SSL"}),X({transaction:e,entry:t,event:"fetch",timeOrigin:n,eventEnd:"domainLookupStart",description:"cache"}),X({transaction:e,entry:t,event:"domainLookup",timeOrigin:n,description:"DNS"}),Ha(e,t,n)}function La(e,t,n,r,i){var a=i+n,o=a+r;return at(e,{description:t.name,endTimestamp:o,op:t.entryType,startTimestamp:a}),a}function qa(e,t,n,r,i,a){if(!(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")){var o={};"transferSize"in t&&(o["Transfer Size"]=t.transferSize),"encodedBodySize"in t&&(o["Encoded Body Size"]=t.encodedBodySize),"decodedBodySize"in t&&(o["Decoded Body Size"]=t.decodedBodySize);var s=a+r,f=s+i;return at(e,{description:n,endTimestamp:f,op:t.initiatorType?"resource."+t.initiatorType:"resource",startTimestamp:s,data:o}),f}}function X(e){var t=e.transaction,n=e.entry,r=e.event,i=e.timeOrigin,a=e.eventEnd,o=e.description,s=a?n[a]:n[r+"End"],f=n[r+"Start"];!f||!s||at(t,{op:"browser",description:o!=null?o:r,startTimestamp:i+P(f),endTimestamp:i+P(s)})}function Ha(e,t,n){at(e,{op:"browser",description:"request",startTimestamp:n+P(t.requestStart),endTimestamp:n+P(t.responseEnd)}),at(e,{op:"browser",description:"response",startTimestamp:n+P(t.responseStart),endTimestamp:n+P(t.responseEnd)})}function at(e,t){var n=t.startTimestamp,r=da(t,["startTimestamp"]);return n&&e.startTimestamp>n&&(e.startTimestamp=n),e.startChild(E({startTimestamp:n},r))}function Mt(e){return typeof e=="number"&&isFinite(e)}var Ba=["localhost",/^\//],Lt={traceFetch:!0,traceXHR:!0,tracingOrigins:Ba};function $a(e){var t=E(E({},Lt),e),n=t.traceFetch,r=t.traceXHR,i=t.tracingOrigins,a=t.shouldCreateSpanForRequest,o={},s=function(c){if(o[c])return o[c];var l=i;return o[c]=l.some(function(d){return bt(c,d)})&&!bt(c,"sentry_key"),o[c]},f=s;typeof a=="function"&&(f=function(c){return s(c)&&a(c)});var u={};n&&Tt({callback:function(c){Wa(c,f,u)},type:"fetch"}),r&&Tt({callback:function(c){za(c,f,u)},type:"xhr"})}function Wa(e,t,n){if(!(!ke()||!(e.fetchData&&t(e.fetchData.url)))){if(e.endTimestamp&&e.fetchData.__span){var r=n[e.fetchData.__span];r&&(e.response?r.setHttpStatus(e.response.status):e.error&&r.setStatus(D.InternalError),r.finish(),delete n[e.fetchData.__span]);return}var i=zt();if(i){var r=i.startChild({data:E(E({},e.fetchData),{type:"fetch"}),description:e.fetchData.method+" "+e.fetchData.url,op:"http"});e.fetchData.__span=r.spanId,n[r.spanId]=r;var a=e.args[0]=e.args[0],o=e.args[1]=e.args[1]||{},s=o.headers;$(a,Request)&&(s=a.headers),s?typeof s.append=="function"?s.append("sentry-trace",r.toTraceparent()):Array.isArray(s)?s=it(s,[["sentry-trace",r.toTraceparent()]]):s=E(E({},s),{"sentry-trace":r.toTraceparent()}):s={"sentry-trace":r.toTraceparent()},o.headers=s}}}function za(e,t,n){var r,i;if(!(!ke()||((r=e.xhr)===null||r===void 0?void 0:r.__sentry_own_request__)||!(((i=e.xhr)===null||i===void 0?void 0:i.__sentry_xhr__)&&t(e.xhr.__sentry_xhr__.url)))){var a=e.xhr.__sentry_xhr__;if(e.endTimestamp&&e.xhr.__sentry_xhr_span_id__){var o=n[e.xhr.__sentry_xhr_span_id__];o&&(o.setHttpStatus(a.status_code),o.finish(),delete n[e.xhr.__sentry_xhr_span_id__]);return}var s=zt();if(s){var o=s.startChild({data:E(E({},a.data),{type:"xhr",method:a.method,url:a.url}),description:a.method+" "+a.url,op:"http"});if(e.xhr.__sentry_xhr_span_id__=o.spanId,n[e.xhr.__sentry_xhr_span_id__]=o,e.xhr.setRequestHeader)try{e.xhr.setRequestHeader("sentry-trace",o.toTraceparent())}catch{}}}}var vt=j();function Ya(e,t,n){if(t===void 0&&(t=!0),n===void 0&&(n=!0),!vt||!vt.location){p.warn("Could not initialize routing instrumentation due to invalid location");return}var r=vt.location.href,i;t&&(i=e({name:vt.location.pathname,op:"pageload"})),n&&Tt({callback:function(a){var o=a.to,s=a.from;if(s===void 0&&r&&r.indexOf(o)!==-1){r=void 0;return}s!==o&&(r=void 0,i&&(p.log("[Tracing] Finishing current transaction with op: "+i.op),i.finish()),i=e({name:vt.location.pathname,op:"navigation"}))},type:"history"})}var Ga=600,Ja=E({idleTimeout:Jn,markBackgroundTransactions:!0,maxTransactionDuration:Ga,routingInstrumentation:Ya,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},Lt),Va=function(){function e(t){this.name=e.id,this._metrics=new Fa,this._emitOptionsWarning=!1;var n=Lt.tracingOrigins;t&&t.tracingOrigins&&Array.isArray(t.tracingOrigins)&&t.tracingOrigins.length!==0?n=t.tracingOrigins:this._emitOptionsWarning=!0,this.options=E(E(E({},Ja),t),{tracingOrigins:n})}return e.prototype.setupOnce=function(t,n){var r=this;this._getCurrentHub=n,this._emitOptionsWarning&&(p.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),p.warn("[Tracing] We added a reasonable default for you: "+Lt.tracingOrigins));var i=this.options,a=i.routingInstrumentation,o=i.startTransactionOnLocationChange,s=i.startTransactionOnPageLoad,f=i.markBackgroundTransactions,u=i.traceFetch,c=i.traceXHR,l=i.tracingOrigins,d=i.shouldCreateSpanForRequest;a(function(h){return r._createRouteTransaction(h)},s,o),f&&Na(),$a({traceFetch:u,traceXHR:c,tracingOrigins:l,shouldCreateSpanForRequest:d})},e.prototype._createRouteTransaction=function(t){var n=this;if(!this._getCurrentHub){p.warn("[Tracing] Did not create "+t.op+" transaction because _getCurrentHub is invalid.");return}var r=this.options,i=r.beforeNavigate,a=r.idleTimeout,o=r.maxTransactionDuration,s=t.op==="pageload"?Xa():void 0,f=E(E(E({},t),s),{trimEnd:!0}),u=typeof i=="function"?i(f):f,c=u===void 0?E(E({},f),{sampled:!1}):u;c.sampled===!1&&p.log("[Tracing] Will not send "+c.op+" transaction because of beforeNavigate."),p.log("[Tracing] Starting "+c.op+" transaction on scope");var l=this._getCurrentHub(),d=j().location,h=xa(l,c,a,!0,{location:d});return h.registerBeforeFinishCallback(function(v,g){n._metrics.addPerformanceEntries(v),Za(_a(o),v,g)}),h},e.id="BrowserTracing",e}();function Xa(){var e=Ka("sentry-trace");if(e)return ma(e)}function Ka(e){var t=document.querySelector("meta[name="+e+"]");return t?t.getAttribute("content"):null}function Za(e,t,n){var r=n-t.startTimestamp,i=n&&(r>e||r<0);i&&(t.setStatus(D.DeadlineExceeded),t.setTag("maxTransactionDurationExceeded","true"))}var Qa=function(){function e(t){t===void 0&&(t={}),this.name=e.id,this._router=t.router||t.app,this._methods=(Array.isArray(t.methods)?t.methods:[]).concat("use")}return e.prototype.setupOnce=function(){if(!this._router){p.error("ExpressIntegration is missing an Express instance");return}no(this._router,this._methods)},e.id="Express",e}();function nn(e,t){var n=e.length;switch(n){case 2:return function(r,i){var a=i.__sentry_transaction;if(a){var o=a.startChild({description:e.name,op:"middleware."+t});i.once("finish",function(){o.finish()})}return e.call(this,r,i)};case 3:return function(r,i,a){var o,s=i.__sentry_transaction,f=(o=s)===null||o===void 0?void 0:o.startChild({description:e.name,op:"middleware."+t});e.call(this,r,i,function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];var l;(l=f)===null||l===void 0||l.finish(),a.call.apply(a,it([this],u))})};case 4:return function(r,i,a,o){var s,f=a.__sentry_transaction,u=(s=f)===null||s===void 0?void 0:s.startChild({description:e.name,op:"middleware."+t});e.call(this,r,i,a,function(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];var d;(d=u)===null||d===void 0||d.finish(),o.call.apply(o,it([this],c))})};default:throw new Error("Express middleware takes 2-4 arguments. Got: "+n)}}function to(e,t){return e.map(function(n){return typeof n=="function"?nn(n,t):Array.isArray(n)?n.map(function(r){return typeof r=="function"?nn(r,t):r}):n})}function eo(e,t){var n=e[t];return e[t]=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return n.call.apply(n,it([this],to(r,t)))},e}function no(e,t){t===void 0&&(t=[]),t.forEach(function(n){return eo(e,n)})}var ro=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(t,n){var r=Bt("pg");if(!r){p.error("Postgres Integration was unable to require `pg` package.");return}M(r.Client.prototype,"query",function(i){return function(a,o,s){var f,u,c,l=n().getScope(),d=(f=l)===null||f===void 0?void 0:f.getSpan(),h=(u=d)===null||u===void 0?void 0:u.startChild({description:typeof a=="string"?a:a.text,op:"db"});if(typeof s=="function")return i.call(this,a,o,function(g,_){var R;(R=h)===null||R===void 0||R.finish(),s(g,_)});if(typeof o=="function")return i.call(this,a,function(g,_){var R;(R=h)===null||R===void 0||R.finish(),o(g,_)});var v=typeof o!="undefined"?i.call(this,a,o):i.call(this,a);return xt(v)?v.then(function(g){var _;return(_=h)===null||_===void 0||_.finish(),g}):((c=h)===null||c===void 0||c.finish(),v)}})},e.id="Postgres",e}(),io=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(t,n){var r=Bt("mysql/lib/Connection.js");if(!r){p.error("Mysql Integration was unable to require `mysql` package.");return}M(r,"createQuery",function(i){return function(a,o,s){var f,u,c=n().getScope(),l=(f=c)===null||f===void 0?void 0:f.getSpan(),d=(u=l)===null||u===void 0?void 0:u.startChild({description:typeof a=="string"?a:a.sql,op:"db"});return typeof s=="function"?i.call(this,a,o,function(h,v,g){var _;(_=d)===null||_===void 0||_.finish(),s(h,v,g)}):typeof o=="function"?i.call(this,a,function(h,v,g){var _;(_=d)===null||_===void 0||_.finish(),o(h,v,g)}):i.call(this,a,o,s)}})},e.id="Mysql",e}(),ao=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],oo={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]},so=function(){function e(t){t===void 0&&(t={}),this.name=e.id,this._operations=Array.isArray(t.operations)?t.operations:ao,this._describeOperations="describeOperations"in t?t.describeOperations:!0,this._useMongoose=!!t.useMongoose}return e.prototype.setupOnce=function(t,n){var r=this._useMongoose?"mongoose":"mongodb",i=Bt(r);if(!i){p.error("Mongo Integration was unable to require `"+r+"` package.");return}this._instrumentOperations(i.Collection,this._operations,n)},e.prototype._instrumentOperations=function(t,n,r){var i=this;n.forEach(function(a){return i._patchOperation(t,a,r)})},e.prototype._patchOperation=function(t,n,r){if(n in t.prototype){var i=this._getSpanContextFromOperationArguments.bind(this);M(t.prototype,n,function(a){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var f,u,c,l,d=o[o.length-1],h=r().getScope(),v=(f=h)===null||f===void 0?void 0:f.getSpan();if(typeof d!="function"||n==="mapReduce"&&o.length===2){var g=(u=v)===null||u===void 0?void 0:u.startChild(i(this,n,o)),_=a.call.apply(a,it([this],o));return xt(_)?_.then(function(W){var U;return(U=g)===null||U===void 0||U.finish(),W}):((c=g)===null||c===void 0||c.finish(),_)}var R=(l=v)===null||l===void 0?void 0:l.startChild(i(this,n,o.slice(0,-1)));return a.call.apply(a,it([this],o.slice(0,-1),[function(W,U){var Gt;(Gt=R)===null||Gt===void 0||Gt.finish(),d(W,U)}]))}})}},e.prototype._getSpanContextFromOperationArguments=function(t,n,r){var i={collectionName:t.collectionName,dbName:t.dbName,namespace:t.namespace},a={op:"db",description:n,data:i},o=oo[n],s=Array.isArray(this._describeOperations)?this._describeOperations.includes(n):this._describeOperations;if(!o||!s)return a;try{if(n==="mapReduce"){var f=zn(r,2),u=f[0],c=f[1];i[o[0]]=typeof u=="string"?u:u.name||"<anonymous>",i[o[1]]=typeof c=="string"?c:c.name||"<anonymous>"}else for(var l=0;l<o.length;l++)i[o[l]]=JSON.stringify(r[l])}catch{}return a},e.id="Mongo",e}(),uo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Express:Qa,Postgres:ro,Mysql:io,Mongo:so});E(E({},uo),{BrowserTracing:Va});Ia();var co=I(I({},Ui),la),mt=st();mt.__SENTRY__&&(mt.__SENTRY__.extensions=mt.__SENTRY__.extensions||{},mt.__SENTRY__.extensions.domain=mt.__SENTRY__.extensions.domain||gr);var At={PING:"sentry-electron.ping",EVENT:"sentry-electron.event",SCOPE:"sentry-electron.scope"};function Kn(){if(typeof require=="undefined")throw new T('Could not require("electron") to get appName. Please ensure you pass `appName` to Sentry options');var e=require("electron");if(e&&e.app){var t=e.app;return t.name||t.getName()}if(!e||!e.remote)throw new T("The Electron `remote` module was not available to get appName. Please ensure you pass `appName` to Sentry options");var n=e.remote.app;return n.name||n.getName()}function Ce(){var e=fn(process.versions.electron);return{major:e.major||0,minor:e.minor||0,patch:e.patch||0}}function fo(){var e=Ce(),t=e.major,n=e.minor;return t===8&&n>=4||t===9&&n>=1||t>=10}function lo(){var e=Ce().major;return e>=6}function po(){var e=Ce().major;return e>=9}function Zn(e,t){return b(this,void 0,void 0,function(){return S(this,function(n){return[2,new Promise(function(r,i){A.readFile(e,t,function(a,o){a?i(a):r(o)})})]})})}function rn(e,t){return b(this,void 0,void 0,function(){return S(this,function(n){return[2,new Promise(function(r,i){A.mkdir(e,t,function(a){a?i(a):r()})})]})})}function Qn(e){return b(this,void 0,void 0,function(){var t,n,r;return S(this,function(i){switch(i.label){case 0:t=N.resolve(e),i.label=1;case 1:return i.trys.push([1,2,,5]),[2,rn(t,511)];case 2:return n=i.sent(),r=n,r&&r.code==="ENOENT"?[4,Qn(N.dirname(t))]:[3,4];case 3:return i.sent(),[2,rn(t,511)];case 4:try{if(!A.statSync(t).isDirectory())throw n}catch{throw n}return[3,5];case 5:return[2]}})})}function tr(e){var t=N.resolve(e);try{A.mkdirSync(t,511)}catch(r){var n=r;if(n&&n.code==="ENOENT")tr(N.dirname(t)),A.mkdirSync(t,511);else try{if(!A.statSync(t).isDirectory())throw r}catch{throw r}}}function ho(e){return new Promise(function(t,n){A.stat(e,function(r,i){if(r){n(r);return}t(i)})})}function _t(e){return new Promise(function(t,n){A.unlink(e,function(r){if(r){n(r);return}t()})})}function he(e){return new Promise(function(t,n){A.readdir(e,function(r,i){if(r){n(r);return}t(i)})})}function vo(e,t){return new Promise(function(n,r){A.rename(e,t,function(i){if(i){r(i);return}n()})})}var an="2.5.4",mo="sentry.javascript.electron",_o={aix:"IBM AIX",freebsd:"FreeBSD",openbsd:"OpenBSD",sunos:"SunOS",win32:"Windows"},go=[{name:"fedora-release",distros:["Fedora"]},{name:"redhat-release",distros:["Red Hat Linux","Centos"]},{name:"redhat_version",distros:["Red Hat Linux"]},{name:"SuSE-release",distros:["SUSE Linux"]},{name:"lsb-release",distros:["Ubuntu Linux","Arch Linux"]},{name:"debian_version",distros:["Debian"]},{name:"debian_release",distros:["Debian"]},{name:"arch-release",distros:["Arch Linux"]},{name:"gentoo-release",distros:["Gentoo Linux"]},{name:"novell-release",distros:["SUSE Linux"]},{name:"alpine-release",distros:["Alpine Linux"]}],yo={alpine:function(e){return e},arch:function(e){return q(/distrib_release=(.*)/,e)},centos:function(e){return q(/release ([^ ]+)/,e)},debian:function(e){return e},fedora:function(e){return q(/release (..)/,e)},mint:function(e){return q(/distrib_release=(.*)/,e)},red:function(e){return q(/release ([^ ]+)/,e)},suse:function(e){return q(/VERSION = (.*)\n/,e)},ubuntu:function(e){return q(/distrib_release=(.*)/,e)}},re;function q(e,t){var n=e.exec(t);return n?n[1]:void 0}function bo(){if(process.mas)return"app-store";if(process.windowsStore)return"windows-store"}function So(){return b(this,void 0,void 0,function(){var e,t;return S(this,function(n){switch(n.label){case 0:e={kernel_version:Et.release(),name:"Mac OS X",version:"10."+(Number(Et.release().split(".")[0])-4)},n.label=1;case 1:return n.trys.push([1,3,,4]),[4,new Promise(function(r,i){br.execFile("/usr/bin/sw_vers",function(a,o){if(a){i(a);return}r(o)})})];case 2:return t=n.sent(),e.name=q(/^ProductName:\s+(.*)$/m,t),e.version=q(/^ProductVersion:\s+(.*)$/m,t),e.build=q(/^BuildVersion:\s+(.*)$/m,t),[3,4];case 3:return n.sent(),[3,4];case 4:return[2,e]}})})}function on(e){return e.split(" ")[0].toLowerCase()}function Eo(){return b(this,void 0,void 0,function(){var e,t,n,r,i,a,o;return S(this,function(s){switch(s.label){case 0:e={kernel_version:Et.release(),name:"Linux"},s.label=1;case 1:return s.trys.push([1,4,,5]),[4,he("/etc")];case 2:return t=s.sent(),n=go.find(function(f){return t.includes(f.name)}),n?(r=N.join("/etc",n.name),[4,Zn(r,{encoding:"utf-8"})]):[2,e];case 3:return i=s.sent().toLowerCase(),a=n.distros,e.name=a.find(function(f){return i.indexOf(on(f))>=0})||a[0],o=on(e.name),e.version=yo[o](i),[3,5];case 4:return s.sent(),[3,5];case 5:return[2,e]}})})}function wo(){return b(this,void 0,void 0,function(){var e;return S(this,function(t){switch(e=Et.platform(),e){case"darwin":return[2,So()];case"linux":return[2,Eo()];default:return[2,{name:_o[e]||e,version:Et.release()}]}})})}function To(e){return b(this,void 0,void 0,function(){var t,n,r;return S(this,function(i){switch(i.label){case 0:return t=e||Kn(),n={},r={app:{app_name:t,app_version:k.app.getVersion(),build_type:bo()},browser:{name:"Chrome"},chrome:{name:"Chrome",type:"runtime",version:process.versions.chrome},device:{arch:process.arch,family:"Desktop"},node:{name:"Node",type:"runtime",version:process.versions.node}},[4,wo()];case 1:return[2,(n.contexts=(r.os=i.sent(),r.runtime={name:"Electron",version:process.versions.electron},r),n.environment=process.defaultApp?"development":"production",n.extra={crashed_process:"browser"},n.release=t.replace(/\W/g,"-")+"@"+k.app.getVersion(),n.user={ip_address:"{{auto}}"},n)]}})})}function er(e,t){return b(this,void 0,void 0,function(){var n,r,i,a,o,s;return S(this,function(f){switch(f.label){case 0:return re||(re=To(e)),n=t.contexts,r=n===void 0?{}:n,[4,re];case 1:return i=f.sent(),a=i.contexts,o=a===void 0?{}:a,s=Er(i,["contexts"]),[2,y(y(y({},s),t),{sdk:{name:mo,packages:[{name:"npm:@sentry/electron",version:an}],version:an},contexts:y(y(y({},o),r),{app:y(y({},o.app),r.app),device:y(y({},o.device),r.device),os:y(y({},o.os),r.os),runtime:y(y({},o.runtime),r.runtime)}),extra:y(y({},s.extra),t.extra),user:y(y({},s.user),t.user)})]}})})}var xo=k.app.getAppPath().replace(/\\/g,"/");function ve(e,t){t===void 0&&(t=xo);var n=t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&"),r=e;try{r=decodeURI(e)}catch{}return r.replace(/\\/g,"/").replace(/webpack:\/?/g,"").replace(new RegExp("(file://)?/*"+n+"/*","ig"),"app:///")}function Oo(e){var t=e.stacktrace,n=e.exception;if(t)return t;if(n){if(n[0])return n[0].stacktrace;var r=n;if(r.values&&r.values[0])return r.values[0].stacktrace}}function nr(e){var t=Oo(e);t&&t.frames&&t.frames.forEach(function(o){o.filename&&(o.filename=ve(o.filename))});var n=e.request,r=n===void 0?{}:n;r.url&&(r.url=ve(r.url)),r.headers&&delete r.headers["User-Agent"];var i=e.tags,a=i===void 0?{}:i;return delete a.server_name,e}var rr=function(){function e(t,n,r){this._path=N.join(t,n+".json"),this._initial=r,this._flushing=!1}return e.prototype.set=function(t){var n=this;this._data=t,this._flushing||(this._flushing=!0,setImmediate(function(){n._flush()}))},e.prototype.update=function(t){this.set(t(this.get()))},e.prototype.get=function(){if(this._data===void 0)try{this._data=A.existsSync(this._path)?JSON.parse(A.readFileSync(this._path,"utf8")):this._initial}catch{this._data=this._initial}return this._data},e.prototype.clear=function(){this.set(this._initial)},e.prototype._flush=function(){try{tr(N.dirname(this._path)),A.writeFileSync(this._path,JSON.stringify(this._data))}catch(t){p.warn("Failed to flush store",t)}finally{this._flushing=!1}},e}(),ko=1024*32;function Io(e){return new hr.Readable({read:function(){this.push(e),this.push(null)}})}var Me=function(e){me(t,e);function t(n){var r=e.call(this,n)||this;return r.options=n,r._buffer=new gn(30),r}return t.prototype.sendEvent=function(n){return b(this,void 0,void 0,function(){var r,i,a,o,s;return S(this,function(f){return r=JSON.stringify({event_id:n.event_id,sent_at:new Date(rt()*1e3).toISOString()}),i=n.type==="transaction"?"transaction":"event",a=JSON.stringify({content_type:"application/json",type:n.type==="transaction"?"transaction":"event"}),this._isRateLimited(i)?[2,Promise.reject(new T("Transport locked till "+JSON.stringify(this._rateLimits,null,2)+" due to too many requests."))]:(o=JSON.stringify(n),s=Buffer.from(r+`
`+a+`
`+o+`
`),[2,this.sendRequest({body:s,url:this._api.getEnvelopeEndpointWithUrlEncodedAuth(),type:i})])})})},t.prototype.isRateLimited=function(n){return this._isRateLimited(n)},t.prototype.sendRequest=function(n){return b(this,void 0,void 0,function(){var r,i,a=this;return S(this,function(o){switch(o.label){case 0:return this._buffer.isReady()?[4,Po()]:[2,Promise.reject(new T("Not adding Promise due to buffer limit reached."))];case 1:return o.sent(),r=this._getRequestOptions(new _r.URL(n.url)),r.headers=y(y({},r.headers),{"Content-Type":"application/x-sentry-envelope"}),i=Io(n.body),n.body.length>ko&&(r.headers["Content-Encoding"]="gzip",i=i.pipe(vr.createGzip())),[2,this._buffer.add(new Promise(function(s,f){var u=k.net.request(r);u.on("error",f),u.on("response",function(c){c.on("error",f);var l=exports.Status.fromHttpCode(c.statusCode);if(c.statusCode&&c.statusCode>=200&&c.statusCode<300)s({status:l});else{if(l===exports.Status.RateLimit){var d=c.headers?c.headers["retry-after"]:"";d=Array.isArray(d)?d[0]:d;var h=c.headers?c.headers["x-sentry-rate-limits"]:"";h=Array.isArray(h)?h[0]:h;var v={"x-sentry-rate-limits":h,"retry-after":d},g=a._handleRateLimit(v);g&&p.warn("Too many requests, backing off until: "+a._disabledUntil(n.type))}if(c.headers&&c.headers["x-sentry-error"]){var _=c.headers["x-sentry-error"];Array.isArray(_)&&(_=_.join(", ")),f(new T("HTTP Error ("+c.statusCode+"): "+_))}else f(new T("HTTP Error ("+c.statusCode+")"))}c.on("data",function(){}),c.on("end",function(){})}),i.pipe(u)}))]}})})},t}(we),No=30,Ro=10,sn=function(){function e(t,n,r,i){this._crashesDirectory=n,this._cacheDirectory=r,this._transport=i;var a=process.platform==="win32"&&lo();this._type=process.platform==="darwin"||a?"crashpad":"breakpad",this._crashpadSubDirectory=process.platform==="darwin"?"completed":"reports",this._knownPaths=[],this._api=new xn(t),this._queue=new rr(this._cacheDirectory,"queue",[])}return e.minidumpUrlFromDsn=function(t){var n=t.host,r=t.path,i=t.projectId,a=t.port,o=t.protocol,s=t.user;return o+"://"+n+(a!==""?":"+a:"")+(r!==""?"/"+r:"")+"/api/"+i+"/minidump/?sentry_key="+s},e.prototype.uploadMinidump=function(t){return b(this,void 0,void 0,function(){var n,r,i,a,o;return S(this,function(s){switch(s.label){case 0:if(typeof this._transport.sendRequest!="function")return p.warn("Your transport doesn't implement sendRequest"),p.warn("Skipping sending minidump"),[2];p.log("Sending minidump",t.path),n=this._transport,s.label=1;case 1:return s.trys.push([1,10,,13]),r=void 0,n.isRateLimited("event")?[3,4]:[4,this._toMinidumpRequest(n,t.event,t.path)];case 2:return i=s.sent(),[4,n.sendRequest(i)];case 3:r=s.sent(),s.label=4;case 4:return s.trys.push([4,6,,7]),[4,_t(t.path)];case 5:return s.sent(),[3,7];case 6:return s.sent(),p.warn("Could not delete",t.path),[3,7];case 7:return this._queue.update(function(f){return f.filter(function(u){return u!==t})}),this._knownPaths.splice(this._knownPaths.indexOf(t.path),1),r&&r.status===exports.Status.Success?[4,this.flushQueue()]:[3,9];case 8:s.sent(),s.label=9;case 9:return[3,13];case 10:return a=s.sent(),p.warn("Failed to upload minidump",a),o=a||{code:""},o.code!=="ENOTFOUND"?[3,12]:[4,this._queueMinidump(t)];case 11:s.sent(),s.label=12;case 12:return[3,13];case 13:return[2]}})})},e.prototype.getNewMinidumps=function(){return b(this,void 0,void 0,function(){var t,n,r,i=this;return S(this,function(a){switch(a.label){case 0:return this._type!=="crashpad"?[3,2]:[4,this._scanCrashpadFolder()];case 1:return n=a.sent(),[3,4];case 2:return[4,this._scanBreakpadFolder()];case 3:n=a.sent(),a.label=4;case 4:return t=n,p.log("Found "+t.length+" minidumps"),r=new Date().getTime()-No*24*3600*1e3,[2,this._filterAsync(t,function(o){return b(i,void 0,void 0,function(){var s;return S(this,function(f){switch(f.label){case 0:return this._knownPaths.indexOf(o)>=0?[2,!1]:(this._knownPaths.push(o),[4,ho(o)]);case 1:if(s=f.sent(),!(s.birthtimeMs<r))return[3,6];f.label=2;case 2:return f.trys.push([2,4,,5]),[4,_t(o)];case 3:return f.sent(),[3,5];case 4:return f.sent(),p.warn("Could not delete",o),[3,5];case 5:return this._knownPaths.splice(this._knownPaths.indexOf(o),1),[2,!1];case 6:return[2,!0]}})})})]}})})},e.prototype.flushQueue=function(){return b(this,void 0,void 0,function(){var t=this;return S(this,function(n){switch(n.label){case 0:return[4,Promise.all(this._queue.get().map(function(r){return b(t,void 0,void 0,function(){return S(this,function(i){return[2,this.uploadMinidump(r)]})})}))];case 1:return n.sent(),[2]}})})},e.prototype._filterAsync=function(t,n,r){return b(this,void 0,void 0,function(){var i;return S(this,function(a){switch(a.label){case 0:return[4,Promise.all(t.map(n,r))];case 1:return i=a.sent(),[2,t.filter(function(o,s){return i[s]})]}})})},e.prototype._scanCrashpadFolder=function(){return b(this,void 0,void 0,function(){var t,n;return S(this,function(r){switch(r.label){case 0:return tt(this._deleteCrashpadMetadataFile()),t=N.join(this._crashesDirectory,this._crashpadSubDirectory),[4,he(t)];case 1:return n=r.sent(),[2,n.filter(function(i){return i.endsWith(".dmp")}).map(function(i){return N.join(t,i)})]}})})},e.prototype._deleteCrashpadMetadataFile=function(t){return t===void 0&&(t=100),b(this,void 0,void 0,function(){var n,r,i=this;return S(this,function(a){switch(a.label){case 0:if(t>2e3)return[2];n=N.join(this._crashesDirectory,"metadata"),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,_t(n)];case 2:return a.sent(),p.log("Deleted Crashpad metadata file",n),[3,4];case 3:return r=a.sent(),r.code&&r.code=="EBUSY"&&setTimeout(function(){return b(i,void 0,void 0,function(){return S(this,function(o){switch(o.label){case 0:return[4,this._deleteCrashpadMetadataFile(t*2)];case 1:return o.sent(),[2]}})})},t),[3,4];case 4:return[2]}})})},e.prototype._scanBreakpadFolder=function(){return b(this,void 0,void 0,function(){var t,n=this;return S(this,function(r){switch(r.label){case 0:return[4,he(this._crashesDirectory)];case 1:return t=r.sent(),Promise.all(t.filter(function(i){return i.endsWith(".txt")&&!i.endsWith("log.txt")}).map(function(i){return b(n,void 0,void 0,function(){var a;return S(this,function(o){switch(o.label){case 0:a=N.join(this._crashesDirectory,i),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,_t(a)];case 2:return o.sent(),[3,4];case 3:return o.sent(),p.warn("Could not delete",a),[3,4];case 4:return[2]}})})})),[2,t.filter(function(i){return i.endsWith(".dmp")}).map(function(i){return N.join(n._crashesDirectory,i)})]}})})},e.prototype._parseBreakpadMultipartFile=function(t){return b(this,void 0,void 0,function(){var n,r,i;return S(this,function(a){return n=t.lastIndexOf("Content-Type: application/octet-stream"),n>0&&(r=t.indexOf("MDMP",n),i=t.lastIndexOf("----------------------------"),r>0&&i>0&&i>r)?[2,t.slice(r,i)]:[2,void 0]})})},e.prototype._queueMinidump=function(t){return b(this,void 0,void 0,function(){var n,r,i,a,o=this;return S(this,function(s){switch(s.label){case 0:return n=N.basename(t.path),this._queue.get().some(function(f){return N.basename(f.path)===n})?[2]:(r=N.join(this._cacheDirectory,n),[4,Qn(this._cacheDirectory)]);case 1:return s.sent(),[4,vo(t.path,r)];case 2:return s.sent(),i=wt(wt([],_e(this._queue.get())),[y(y({},t),{path:r})]),a=i.splice(-Ro),this._queue.set(i),[4,Promise.all(a.map(function(f){return b(o,void 0,void 0,function(){return S(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,_t(f.path)];case 1:return u.sent(),[3,3];case 2:return u.sent(),p.warn("Could not delete",f.path),[3,3];case 3:return[2]}})})}))];case 3:return s.sent(),[2]}})})},e.prototype._toMinidumpRequest=function(t,n,r){return b(this,void 0,void 0,function(){var i,a,o,s,f,u,c;return S(this,function(l){switch(l.label){case 0:return i=JSON.stringify({event_id:n.event_id,sent_at:new Date(rt()*1e3).toISOString()}),t.isRateLimited("attachment")&&(n.message="Ratelimited - Minidump Event"),a=JSON.stringify({content_type:"application/json",type:"event"}),o=JSON.stringify(n),s=Buffer.from(i+`
`+a+`
`+o+`
`),t.isRateLimited("attachment")?[3,4]:[4,Zn(r)];case 1:return f=l.sent(),this._type==="crashpad"?[3,3]:[4,this._parseBreakpadMultipartFile(f)];case 2:u=l.sent(),u&&(f=u),l.label=3;case 3:return c=JSON.stringify({attachment_type:"event.minidump",length:f.length,type:"attachment",filename:N.basename(r)}),s=Buffer.concat([s,Buffer.from(c+`
`),f,Buffer.from(`
`)]),[3,5];case 4:p.warn("Will not add minidump to request since they are rate limited."),l.label=5;case 5:return[2,{body:s,url:this._api.getEnvelopeEndpointWithUrlEncodedAuth(),type:"event"}]}})})},e}();function un(){return N.join(k.app.getPath("userData"),"sentry")}function Po(){return b(this,void 0,void 0,function(){return S(this,function(e){return[2,k.app.isReady()||new Promise(function(t){k.app.once("ready",function(){t(!0)})})]})})}function pt(e){return e!=null&&Object.keys(e).length>0}function Co(e){var t=w().getScope();return t?y(y(y({release:e.release,environment:e.environment},pt(t._user)&&{user:t._user}),pt(t._tags)&&{tags:t._tags}),pt(t._extra)&&{extra:t._extra}):{}}var ir=function(e){me(t,e);function t(n){var r=this;return n.autoSessionTracking=!1,r=e.call(this,n)||this,r._inner=new qn(n),r._scopeStore=new rr(un(),"scope_v2",new H),r._scopeLastRun=r._scopeStore.get(),r._updateEpoch=0,r._setupScopeListener(),r._isNativeEnabled()&&tt(r._installNativeHandler()),r._installIPC(),r}return t.prototype.eventFromException=function(n,r){return this._inner.eventFromException(n,r)},t.prototype.eventFromMessage=function(n,r,i){return r===void 0&&(r=exports.Severity.Info),this._inner.eventFromMessage(n,r,i)},t.prototype.sendEvent=function(n){this._inner.sendEvent(n)},t.prototype.uploadMinidump=function(n,r){r===void 0&&(r={}),this._uploader&&tt(this._uploader.uploadMinidump({path:n,event:r}))},t.prototype._setupTransport=function(){if(!this._options.dsn)return e.prototype._setupTransport.call(this);var n=y(y(y(y(y({},this._options.transportOptions),this._options.httpProxy&&{httpProxy:this._options.httpProxy}),this._options.httpsProxy&&{httpsProxy:this._options.httpsProxy}),this._options.caCerts&&{caCerts:this._options.caCerts}),{dsn:this._options.dsn});return this._options.transport?new this._options.transport(n):new Me(n)},t.prototype._setupScopeListener=function(){var n=this,r=w().getScope();r&&r.addScopeListener(function(i){var a=H.clone(i);a._eventProcessors=[],a._scopeListeners=[],n._scopeStore.set(a),n._options.useCrashpadMinidumpUploader===!0&&process.platform!=="linux"&&n._updateExtraParams(a)})},t.prototype._updateExtraParams=function(n){var r=this;this._updateEpoch+=1;var i=this._updateEpoch;tt(this._getNativeUploaderEvent(n).then(function(a){var o,s;if(i===r._updateEpoch){var f=r._getNativeUploaderExtraParams(a);try{for(var u=wr(Object.keys(f)),c=u.next();!c.done;c=u.next()){var l=c.value;k.crashReporter.addExtraParameter(l,f[l])}}catch(d){o={error:d}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(o)throw o.error}}}}))},t.prototype._getNativeUploaderEvent=function(n){return b(this,void 0,void 0,function(){var r;return S(this,function(i){switch(i.label){case 0:return r={tags:{event_type:"native"}},[4,n.applyToEvent(r)];case 1:return i.sent(),[4,er(this._options.appName,r)];case 2:return r=i.sent(),[2,nr(r)]}})})},t.prototype._getNativeUploaderExtraParams=function(n){for(var r=20300,i=Buffer.from(JSON.stringify(n)),a=[];i.length;){var o=i.lastIndexOf(34,r+1);o<0&&(o=i.lastIndexOf(32,r+1)),o<0&&(o=i.indexOf(34,r)),o<0&&(o=i.indexOf(32,r)),o<0&&(o=r),a.push(i.slice(0,o+1).toString()),i=i.slice(o+1)}return a.reduce(function(s,f,u){return s["sentry__"+(u+1)]=f,s},{})},t.prototype._isNativeEnabled=function(){return process.mas?!1:this._options.enableNative!==!1},t.prototype._installNativeHandler=function(){return b(this,void 0,void 0,function(){var n,r,i,a,o,s=this;return S(this,function(f){if(n=this._options.dsn,!n)throw new T("Attempted to enable Electron native crash reporter but no DSN was supplied");return r=process.platform!=="linux"?{sentry___initialScope:JSON.stringify(Co(this._options))}:void 0,i=new Ht(n),k.crashReporter.start({companyName:"",ignoreSystemCrashHandler:!0,productName:this._options.appName||Kn(),submitURL:sn.minidumpUrlFromDsn(i),uploadToServer:this._options.useCrashpadMinidumpUploader||!1,compress:!0,globalExtra:r}),this._options.useSentryMinidumpUploader!==!1&&(a=po()?k.app.getPath("crashDumps"):k.crashReporter.getCrashesDirectory(),this._uploader=new sn(i,a,un(),this.getTransport()),tt(this._uploader.flushQueue()),tt(this._sendNativeCrashes({}))),o=function(u,c){return b(s,void 0,void 0,function(){var l;return S(this,function(d){switch(d.label){case 0:if(this._options.useSentryMinidumpUploader===!1)return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this._sendNativeCrashes(this._getNewEventWithElectronContext(u,c))];case 2:return d.sent(),[3,4];case 3:return l=d.sent(),console.error(l),[3,4];case 4:return Tn({category:"exception",level:exports.Severity.Critical,message:"Renderer Crashed"}),[2]}})})},k.app.on("web-contents-created",function(u,c){fo()?c.on("render-process-gone",function(l,d){return b(s,void 0,void 0,function(){return S(this,function(h){switch(h.label){case 0:return[4,o(c,d)];case 1:return h.sent(),[2]}})})}):c.on("crashed",function(){return b(s,void 0,void 0,function(){return S(this,function(l){switch(l.label){case 0:return[4,o(c)];case 1:return l.sent(),[2]}})})}),s._options.enableUnresponsive!==!1&&c.on("unresponsive",function(){Sn("BrowserWindow Unresponsive")})}),[2]})})},t.prototype._installIPC=function(){var n=this;k.ipcMain.on(At.PING,function(r){r.sender.send(At.PING)}),k.ipcMain.on(At.EVENT,function(r,i){var a;try{a=JSON.parse(i)}catch{console.warn("sentry-electron received an invalid IPC_EVENT message");return}a.contexts=y(y({},n._getNewEventWithElectronContext(r.sender).contexts),a.contexts),En(a)}),k.ipcMain.on(At.SCOPE,function(r,i){var a;try{a=JSON.parse(i)}catch{console.warn("sentry-electron received an invalid IPC_SCOPE message");return}var o=H.clone(a);wn(function(s){pt(o._user)&&s.setUser(o._user),pt(o._tags)&&s.setTags(o._tags),pt(o._extra)&&s.setExtras(o._extra),s.addBreadcrumb(o._breadcrumbs.pop(),n._options.maxBreadcrumbs)})})},t.prototype._sendNativeCrashes=function(n){return b(this,void 0,void 0,function(){var r,i,a,o,s;return S(this,function(f){switch(f.label){case 0:if(this._options.useSentryMinidumpUploader===!1)return[2];if(r=this._uploader,r===void 0)throw new T("Invariant violation: Native crashes not enabled");f.label=1;case 1:return f.trys.push([1,7,,8]),[4,r.getNewMinidumps()];case 2:return i=f.sent(),i.length>0?(a=H.clone(w().getScope()),o=H.clone(this._scopeLastRun),[4,o.applyToEvent(n)]):[3,6];case 3:return s=f.sent(),s?[4,a.applyToEvent(s)]:[3,5];case 4:s=f.sent(),i.map(function(u){ur(u,y({},s))}),f.label=5;case 5:this._scopeLastRun=void 0,f.label=6;case 6:return[3,8];case 7:return f.sent(),p.error("Error while sending native crash."),[3,8];case 8:return[2]}})})},t.prototype._getNewEventWithElectronContext=function(n,r){var i=this._options.getRendererName&&this._options.getRendererName(n),a={crashed_process:i||"renderer["+n.id+"]",crashed_url:ve(n.getURL())};return r&&(a.details=r),{contexts:{electron:a}}},t}(kn),ar=function(e){me(t,e);function t(n){return e.call(this,ir,n)||this}return t.prototype.captureMinidump=function(n,r,i){var a=this;r===void 0&&(r={});var o;return this._processing+=1,r.tags=y({event_type:"native"},r.tags),this._prepareEvent(r,i,void 0).then(function(s){s&&(o=s&&s.event_id,a._getBackend().uploadMinidump(n,s)),a._processing-=1},function(s){p.error(s),a._processing-=1}),o},t.prototype.captureEvent=function(n,r,i){return n.tags=y({event_type:"javascript"},n.tags),e.prototype.captureEvent.call(this,n,r,i)},t.prototype.showReportDialog=function(n){},t.prototype._prepareEvent=function(n,r,i){var a=this;return n.platform=n.platform||"node",e.prototype._prepareEvent.call(this,n,r,i).then(function(o){return new O(function(s){return b(a,void 0,void 0,function(){var f,u;return S(this,function(c){switch(c.label){case 0:return o?(f=s,u=nr,[4,er(this._options.appName,o)]):[3,2];case 1:return f.apply(void 0,[u.apply(void 0,[c.sent()])]),[3,3];case 2:s(o),c.label=3;case 3:return[2]}})})}).then(function(s){return s})})},t}(On),or=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){var t=this;this._instrumentBreadcrumbs("app",k.app,function(n){return!n.startsWith("remote-")}),k.app.once("ready",function(){t._instrumentBreadcrumbs("Screen",k.screen),t._instrumentBreadcrumbs("PowerMonitor",k.powerMonitor)}),k.app.on("web-contents-created",function(n,r){setImmediate(function(){if(!r.isDestroyed()){var i=w().getClient().getOptions(),a=i.getRendererName&&i.getRendererName(r);t._instrumentBreadcrumbs(a||"WebContents["+r.id+"]",r,function(o){return["dom-ready","load-url","destroyed"].includes(o)})}})})},e.prototype._instrumentBreadcrumbs=function(t,n,r){var i=n.emit.bind(n);n.emit=function(a){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];if(r===void 0||r(a)){var f={category:"electron",message:t+"."+a,timestamp:new Date().getTime()/1e3,type:"ui"},u=w().getIntegration(e);u&&w().addBreadcrumb(f)}return i.apply(void 0,wt([a],_e(o)))}},e.id="Electron",e}(),sr=function(){function e(t){t===void 0&&(t={}),this._options=t,this.name=e.id}return e.prototype.setupOnce=function(){var t=this;global.process.on("uncaughtException",function(n){var r=w().getIntegration(e);r&&w().withScope(function(i){return b(t,void 0,void 0,function(){var a,o,s,f,u,c=this;return S(this,function(l){switch(l.label){case 0:return i.addEventProcessor(function(d){return b(c,void 0,void 0,function(){return S(this,function(h){return[2,y(y({},d),{level:exports.Severity.Fatal})]})})}),a=n,!ge(n)&&n.stack&&(a=new Error,a.message=n.message,a.stack=n.stack,a.name=n.name),o=w().getClient(),o.captureException(a,{originalException:n},w().getScope()),[4,o.flush(o.getOptions().shutdownTimeout||2e3)];case 1:return l.sent(),this._options.onFatalError?this._options.onFatalError(n):global.process.listenerCount("uncaughtException")<=2&&(console.error("Uncaught Exception:"),console.error(n),s=n.stack,f=s!==void 0?s:n.name+": "+n.message,u=`Uncaught Exception:
`+f,k.dialog.showErrorBox("A JavaScript error occurred in the main process",u)),[2]}})})})})},e.id="OnUncaughtException",e}(),Mo={Electron:or,OnUncaughtException:sr};function Ao(e){var t=pa.filter(function(n){return n.name!=="OnUncaughtException"});e.defaultIntegrations===void 0&&(e.defaultIntegrations=wt(wt([],_e(t)),[new sr({onFatalError:e.onFatalError}),new or])),ji(ar,y({transport:Me},e))}function Do(){}function ur(e,t){t===void 0&&(t={}),Hi("captureMinidump",e,t)}function jo(e){return b(this,void 0,void 0,function(){var t;return S(this,function(n){return t=w().getClient(),t?[2,t.flush(e)]:[2,Promise.reject(!1)]})})}function Fo(e){return b(this,void 0,void 0,function(){var t;return S(this,function(n){return t=w().getClient(),t?[2,t.close(e)]:[2,Promise.reject(!1)]})})}exports.ElectronIntegrations=Mo;exports.Hub=kt;exports.MainBackend=ir;exports.MainClient=ar;exports.NetTransport=Me;exports.NodeIntegrations=co;exports.Scope=H;exports.addBreadcrumb=Tn;exports.addGlobalEventProcessor=$t;exports.captureEvent=En;exports.captureException=bi;exports.captureMessage=Sn;exports.captureMinidump=ur;exports.close=Fo;exports.configureScope=wn;exports.flush=jo;exports.getCurrentHub=w;exports.getHubFromCarrier=G;exports.init=Ao;exports.setContext=Si;exports.setExtra=Ti;exports.setExtras=Ei;exports.setTag=xi;exports.setTags=wi;exports.setUser=Oi;exports.showReportDialog=Do;exports.withScope=ki;
