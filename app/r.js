import{a as F,_ as L}from"./b.js";import{i as h}from"./5.js";import{b as g}from"./2.js";import{O as P}from"./3.js";import{c as i}from"./1.js";import{s as m,d as j,n as A,k as c,F as E,S as N,u as o,y as O,D as R,E as d,z as W,A as q,o as v}from"./g.js";import{D as G}from"./q.js";import"./d.js";import"./e.js";var b;b=e=>(e+"").padStart(2,"0");var H=()=>{var e,r,a,t;return e=m("00"),r=m("00"),[t,a]=(()=>{var n,s;return s=0,n=void 0,[()=>{n=setInterval(()=>{++s,e.value=b(parseInt(s/60)),r.value=b(s%60)},1e3)},()=>{clearInterval(n)}]})(),[e,r,t,a]},_,B,y,w,V,u,f,z,C,I,S,p;({recbar:f}=h);[V,z,S,I]=H();C=e=>{var r,a,t;a=e.split(`
`),t=[];for(r of a)t.push(r.split(" "));return t};u=m(!1);_=!1;y=m();B=e=>{[S,I][e-0]()};p=()=>{var e;({value:e}=u),e=!e,g.pause(u.value=e),!!_&&B(e)};w={pause:p,reset:()=>{_&&(u.value||p(),A(async()=>await h.confirm.show("reset")?g.reset():p()))},cancel:()=>{if(!_){f.cancel();return}u.value||p(),A(async()=>await h.confirm.show("cancel")?g.cancel():p())},stop:()=>{g.stop(),I()}};P.start=()=>{S(),_=!0,y.value.className=""};i.src!=="camera"&&F(()=>import("./-.js"),["-.js","h.js","3.js","a.js","5.js","1.js","d.js","2.js","e.js","g.js","8.js","_.js","6.js","v.js"]);var J={setup:()=>{var e,r,a,t,n,s,D,T;for(t=C(`video \u6444\u50CF\u5934
audio \u9EA6\u514B\u98CE`),D=j(C(`pause \u6682\u505C
stop \u7ED3\u675F\u5F55\u5236
reset \u91CD\u7F6E\u5F55\u5236
cancel \u53D6\u6D88\u5F55\u5236`)),T=l=>()=>{i[l]=i[l]?"":localStorage[l],!u.value&&!i.video&&!i.audio&&i.src==="camera"&&w.pause()},s=["audio","video"],a=0,n=s.length;a<n;a++)r=s[a],w[r]=T(r);return e=m(),{go:l=>{var k;if(["pen","rect"].indexOf(l)+1){if({value:k}=e,k!==l){if(G.shape=e.value=l,k)return}else{e.value="",f.draw_x();return}f.draw();return}(w[l]||f[l])()},left:t,right:D,code:y,minute:V,second:z,pause:u,config:i,draw:e}}};const $=e=>(W("data-v-44a2a09c"),e=e(),q(),e),K=["title","onClick"],M=$(()=>o("b",null,null,-1)),Q={class:"pause",ref:"code"},U=$(()=>o("span",null,":",-1)),X=["title","onClick"],Y={class:"draw"},Z=$(()=>o("b",null,null,-1));function x(e,r){return v(),c("nav",{class:d({pause:e.pause})},[(v(!0),c(E,null,N(e.left,([a,t],n)=>(v(),c("a",{class:d([a,e.config[a]?"":"x"]),title:t,onClick:s=>e.go(a)},null,10,K))),256)),M,o("code",Q,[O(R(e.minute),1),U,O(R(e.second),1)],512),(v(!0),c(E,null,N(e.right,([a,t],n)=>(v(),c("a",{class:d([a]),title:t,onClick:s=>e.go(a)},null,10,X))),256)),o("div",Y,[Z,o("a",{class:d(["pen",{now:e.draw=="pen"}]),onClick:r[0]||(r[0]=a=>e.go("pen")),title:"\u753B\u7B14"},null,2),o("a",{class:d(["rect",{now:e.draw=="rect"}]),onClick:r[1]||(r[1]=a=>e.go("rect")),title:"\u753B\u6846"},null,2)]),o("a",{class:"left",onClick:r[2]||(r[2]=a=>e.go("left")),title:"\u6536\u8D77"}),o("a",{class:"expand",onClick:r[3]||(r[3]=a=>e.go("expand"))})],2)}var ue=L(J,[["render",x],["__scopeId","data-v-44a2a09c"]]);export{ue as default};
