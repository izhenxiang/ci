"use strict";var Xt=Object.defineProperty;var Ke=Object.getOwnPropertySymbols;var Yt=Object.prototype.hasOwnProperty,er=Object.prototype.propertyIsEnumerable;var Qe=(t,e,r)=>e in t?Xt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Xe=(t,e)=>{for(var r in e||(e={}))Yt.call(e,r)&&Qe(t,r,e[r]);if(Ke)for(var r of Ke(e))er.call(e,r)&&Qe(t,r,e[r]);return t};var tr=require("os"),U=require("electron"),D=require("path"),ee=require("fs"),rr=require("crypto"),Ye=require("zlib"),nr=require("util"),le=require("fs/promises"),de=require("./b7161d49.js"),ir=require("./c9be3a60.js");function sr(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var ar=sr(tr),lr=(t,e)=>{var r,n;for(r in e)n=e[r],t.on(r,n);return t},Oe,et,Ae,tt,je,he,rt;je="persist:win";tt=U.session.fromPartition(je,{cache:!0});he="https",Oe=he+"://i.tk/",et=D.join(D.dirname(__dirname),"w"),Ae=U.session.fromPartition("file",{cache:!1}),Ae.protocol.interceptFileProtocol(he,(t,e)=>{var r,n;({pathname:n}=new URL(t.url)),r=D.join(et,n.slice(1)||"index.html"),e({path:r})}),tt.protocol.interceptHttpProtocol(he,(t,e)=>{var r,n;({url:n}=t),n.startsWith(Oe)?r=Ae:r=null,t.session=r,e(t)});rt=D.join(__dirname,"../p/p.js");var fe=new Proxy({},{get:(t,e)=>r=>{var n;return r=Xe({skipTaskbar:!0,frame:!1,minimizable:!1,maximizable:!1,webPreferences:{preload:rt,partition:je}},r),n=new U.BrowserWindow(r),n.loadURL(Oe+"#"+e),n.once("ready-to-show",()=>n.show()),n.focus(),n}});var nt;({main:nt}=fe);var pe=()=>{var t,e;return t=U.BrowserWindow.getAllWindows(),t.length?(e=t[0],e.isMinimized()&&e.restore(),e.show(),e.focus()):nt({resizable:!1,height:585,width:426})};var it,st,at,fr,Pe;({Menu:it,Tray:st,app:at,globalShortcut:fr}=require("electron"));Pe=void 0;var or=()=>{var t;Pe=new st(D.join(__dirname,"../w/tray/trayTemplate.png")),t=it.buildFromTemplate([{label:"\u663E\u793A\u754C\u9762",click:pe,accelerator:"CmdOrCtrl+Shift+R"},{type:"separator"},{accelerator:"CmdOrCtrl+Shift+Q",label:"\u9000\u51FA",click:()=>at.quit()}]),Pe.setContextMenu(t)};var lt;lt=t=>{var e,r,n,s,l,o,h,y;t&&(t.devToolsWebContents||({webContents:l}=t,e=new U.BrowserWindow({minimizable:!1,maximizable:!1}),[s,r]=t.getSize(),[h,y]=t.getPosition(),{width:o,height:n}=U.screen.getPrimaryDisplay().workArea,l.setDevToolsWebContents(e.webContents),l.openDevTools({mode:"detach"}),s>r?(y=0,s=0,r+=20,n-=r):(h=0,r=0,o-=s),e.setPosition(s,r),t.setPosition(h,y),e.setSize(o,n),t.focus()))};var ur=()=>{U.globalShortcut.register("CmdOrCtrl+Alt+I",()=>lt(U.BrowserWindow.getFocusedWindow()))};var ge=t=>{U.BrowserWindow.getAllWindows().forEach(e=>{var r,n;if(n=e.webContents.getURL(),n&&({hash:r}=new URL(n),r.startsWith("#main"))){t?e[t]():e.hide();return}e.close(),e.destroy()})};var ft,Z;({count_down:ft}=fe);Z=void 0;var ot=()=>{var t;if(Z){Z.focus();return}t=240,Z=ft({width:t,height:t,transparent:!0,resizable:!1,hasShadow:!1}),Z.on("close",()=>{Z=void 0}),Z.setAlwaysOnTop(!0,"screen-saver")},cr={close:()=>{Z!=null&&Z.close()}},ut={ID:""},ct,I;({recbar:ct}=fe);I=void 0;var xt=()=>{var t,e,r;return e={width:568,height:48,roundedCorners:!1,transparent:!0,shadow:!1,resizable:!1},{width:r,height:t}=U.screen.getPrimaryDisplay().workArea,I=ct(e),I.setPosition((r-e.width)/2,t-28-e.height),I.on("close",()=>I=void 0),I.on("system-context-menu",(n,s)=>{n.preventDefault()}),we(),new Promise(n=>I.webContents.on("did-finish-load",()=>{we(),I.focus(),n(I)}))},we=()=>{I.setAlwaysOnTop(!0,"screen-saver")},xr=()=>{var t,e,r;e=I.getPosition(),[r,t]=I.size,I.setSize(r,t),I.setPosition(e[0]-r+42,e[1]-t+42),I.setHasShadow(!0)},dr=()=>{var t,e,r;t=I.getPosition(),I.size=e=I.getSize(),r=36,I.setSize(r,r),r+=6,I.setPosition(t[0]+e[0]-r,t[1]+e[1]-r),I.setHasShadow(!1)},hr=()=>{ge("show")},pr=()=>{ge("showInactive")},gr=()=>{I.hide()},wr=async()=>{var t,e;e=await U.desktopCapturer.getSources({types:["screen"],thumbnailSize:{width:0,height:0}});for(t of e)return t.id},yr=t=>{var e;e=`https://oss.console.aliyun.com/bucket/oss-cn-zhangjiakou/i-v/object?path=${ut.ID}/${t}/`,U.shell.openExternal(e),U.BrowserWindow.getAllWindows().forEach(r=>r.hide())},mr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",\u5DE5\u5177\u6761:xt,top:we,expand:xr,left:dr,cancel:hr,end:pr,hide:gr,screen_source:wr,stop:yr});var dt,te;({area:dt}=fe);te=void 0;var Sr=()=>{var t,e;({width:e,height:t}=U.screen.getPrimaryDisplay().size),te=dt({width:e,height:t,roundedCorners:!1,transparent:!0,resizable:!1,hasShadow:!1}),te.setAlwaysOnTop(!0,"screen-saver"),te.setPosition(0,0),te.on("close",()=>te=void 0)},br=()=>{te.setIgnoreMouseEvents(!0,{forward:!0}),ot(),we()},ye,vr,ht;({camera:ht,area:vr}=fe);ye={camera:(t,e)=>{var r;return r=ht({width:800,height:500,center:!0,roundedCorners:!1,resizable:!1}),r.setAlwaysOnTop(!0),r},screen:(t,e,r)=>{},all:(t,e,r)=>{}};(()=>{var t,e,r,n,s;n=(l,o)=>function(h,y,w){w===1&&l!=="camera"?Sr():(ot(),o.apply(this,arguments)),xt()},e=Object.entries(ye);for(s of e)[t,r]=s,ye[t]=n(t,r)})();var kr=Object.freeze(ye),_r=(t,e,r,n)=>{ge(),kr[t](e,r,n)},Te;try{Te=new TextDecoder}catch{}var x,Q,i=0,M={},S,X,$=0,W=0,z,G,L=[],v,pt={useRecords:!1,mapsAsObjects:!0};class gt{}const wt=new gt;wt.name="MessagePack 0xC1";var ne=!1;class oe{constructor(e){e&&(e.useRecords===!1&&e.mapsAsObjects===void 0&&(e.mapsAsObjects=!0),e.structures?e.structures.sharedLength=e.structures.length:e.getStructures&&((e.structures=[]).uninitialized=!0,e.structures.sharedLength=0)),Object.assign(this,e)}unpack(e,r){if(x)return Ot(()=>(ze(),this?this.unpack(e,r):oe.prototype.unpack.call(pt,e,r)));Q=r>-1?r:e.length,i=0,W=0,X=null,z=null,x=e;try{v=e.dataView||(e.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength))}catch(n){throw x=null,e instanceof Uint8Array?n:new Error("Source must be a Uint8Array or Buffer but was a "+(e&&typeof e=="object"?e.constructor.name:typeof e))}if(this instanceof oe){if(M=this,this.structures)return S=this.structures,me();(!S||S.length>0)&&(S=[])}else M=pt,(!S||S.length>0)&&(S=[]);return me()}unpackMultiple(e,r){let n,s=0;try{ne=!0;let l=e.length,o=this?this.unpack(e,l):be.unpack(e,l);if(r){for(r(o);i<l;)if(s=i,r(me())===!1)return}else{for(n=[o];i<l;)s=i,n.push(me());return n}}catch(l){throw l.lastPosition=s,l.values=n,l}finally{ne=!1,ze()}}_mergeStructures(e,r){e=e||[];for(let n=0,s=e.length;n<s;n++){let l=e[n];l&&(l.isShared=!0,n>=32&&(l.highByte=n-32>>5))}e.sharedLength=e.length;for(let n in r||[])if(n>=0){let s=e[n],l=r[n];l&&(s&&((e.restoreStructures||(e.restoreStructures=[]))[n]=s),e[n]=l)}return this.structures=e}decode(e,r){return this.unpack(e,r)}}function me(){try{if(!M.trusted&&!ne){let e=S.sharedLength||0;e<S.length&&(S.length=e)}let t=B();if(i==Q)S.restoreStructures&&yt(),S=null,x=null,G&&(G=null);else if(i>Q){let e=new Error("Unexpected end of MessagePack data");throw e.incomplete=!0,e}else if(!ne)throw new Error("Data read, but end of buffer not reached");return t}catch(t){throw S.restoreStructures&&yt(),ze(),(t instanceof RangeError||t.message.startsWith("Unexpected end of buffer"))&&(t.incomplete=!0),t}}function yt(){for(let t in S.restoreStructures)S[t]=S.restoreStructures[t];S.restoreStructures=null}function B(){let t=x[i++];if(t<160)if(t<128){if(t<64)return t;{let e=S[t&63]||M.getStructures&&St()[t&63];return e?(e.read||(e.read=Ce(e,t&63)),e.read()):t}}else if(t<144)if(t-=128,M.mapsAsObjects){let e={};for(let r=0;r<t;r++)e[Ut()]=B();return e}else{let e=new Map;for(let r=0;r<t;r++)e.set(B(),B());return e}else{t-=144;let e=new Array(t);for(let r=0;r<t;r++)e[r]=B();return e}else if(t<192){let e=t-160;if(W>=i)return X.slice(i-$,(i+=e)-$);if(W==0&&Q<140){let r=e<16?Me(e):kt(e);if(r!=null)return r}return De(e)}else{let e;switch(t){case 192:return null;case 193:return z?(e=B(),e>0?z[1].slice(z.position1,z.position1+=e):z[0].slice(z.position0,z.position0-=e)):wt;case 194:return!1;case 195:return!0;case 196:return Re(x[i++]);case 197:return e=v.getUint16(i),i+=2,Re(e);case 198:return e=v.getUint32(i),i+=4,Re(e);case 199:return re(x[i++]);case 200:return e=v.getUint16(i),i+=2,re(e);case 201:return e=v.getUint32(i),i+=4,re(e);case 202:if(e=v.getFloat32(i),M.useFloat32>2){let r=Le[(x[i]&127)<<1|x[i+1]>>7];return i+=4,(r*e+(e>0?.5:-.5)>>0)/r}return i+=4,e;case 203:return e=v.getFloat64(i),i+=8,e;case 204:return x[i++];case 205:return e=v.getUint16(i),i+=2,e;case 206:return e=v.getUint32(i),i+=4,e;case 207:return M.int64AsNumber?(e=v.getUint32(i)*4294967296,e+=v.getUint32(i+4)):e=v.getBigUint64(i),i+=8,e;case 208:return v.getInt8(i++);case 209:return e=v.getInt16(i),i+=2,e;case 210:return e=v.getInt32(i),i+=4,e;case 211:return M.int64AsNumber?(e=v.getInt32(i)*4294967296,e+=v.getUint32(i+4)):e=v.getBigInt64(i),i+=8,e;case 212:if(e=x[i++],e==114)return Et(x[i++]&63);{let r=L[e];if(r)return r.read?(i++,r.read(B())):r.noBuffer?(i++,r()):r(x.subarray(i,++i));throw new Error("Unknown extension "+e)}case 213:return e=x[i],e==114?(i++,Et(x[i++]&63,x[i++])):re(2);case 214:return re(4);case 215:return re(8);case 216:return re(16);case 217:return e=x[i++],W>=i?X.slice(i-$,(i+=e)-$):Er(e);case 218:return e=v.getUint16(i),i+=2,W>=i?X.slice(i-$,(i+=e)-$):Ir(e);case 219:return e=v.getUint32(i),i+=4,W>=i?X.slice(i-$,(i+=e)-$):Br(e);case 220:return e=v.getUint16(i),i+=2,bt(e);case 221:return e=v.getUint32(i),i+=4,bt(e);case 222:return e=v.getUint16(i),i+=2,vt(e);case 223:return e=v.getUint32(i),i+=4,vt(e);default:if(t>=224)return t-256;if(t===void 0){let r=new Error("Unexpected end of MessagePack data");throw r.incomplete=!0,r}throw new Error("Unknown MessagePack token "+t)}}}const Ur=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function Ce(t,e){function r(){if(r.count++>2){let s=t.read=new Function("r","return function(){return {"+t.map(l=>Ur.test(l)?l+":r()":"["+JSON.stringify(l)+"]:r()").join(",")+"}}")(B);return t.highByte===0&&(t.read=mt(e,t.read)),s()}let n={};for(let s=0,l=t.length;s<l;s++){let o=t[s];n[o]=B()}return n}return r.count=0,t.highByte===0?mt(e,r):r}const mt=(t,e)=>function(){let r=x[i++];if(r===0)return e();let n=t<32?-(t+(r<<5)):t+(r<<5),s=S[n]||St()[n];if(!s)throw new Error("Record id is not defined for "+n);return s.read||(s.read=Ce(s,t)),s.read()};function St(){let t=Ot(()=>(x=null,M.getStructures()));return S=M._mergeStructures(t,S)}var De=Se,Er=Se,Ir=Se,Br=Se;function Se(t){let e;if(t<16&&(e=Me(t)))return e;if(t>64&&Te)return Te.decode(x.subarray(i,i+=t));const r=i+t,n=[];for(e="";i<r;){const s=x[i++];if((s&128)==0)n.push(s);else if((s&224)==192){const l=x[i++]&63;n.push((s&31)<<6|l)}else if((s&240)==224){const l=x[i++]&63,o=x[i++]&63;n.push((s&31)<<12|l<<6|o)}else if((s&248)==240){const l=x[i++]&63,o=x[i++]&63,h=x[i++]&63;let y=(s&7)<<18|l<<12|o<<6|h;y>65535&&(y-=65536,n.push(y>>>10&1023|55296),y=56320|y&1023),n.push(y)}else n.push(s);n.length>=4096&&(e+=P.apply(String,n),n.length=0)}return n.length>0&&(e+=P.apply(String,n)),e}function bt(t){let e=new Array(t);for(let r=0;r<t;r++)e[r]=B();return e}function vt(t){if(M.mapsAsObjects){let e={};for(let r=0;r<t;r++)e[Ut()]=B();return e}else{let e=new Map;for(let r=0;r<t;r++)e.set(B(),B());return e}}var P=String.fromCharCode;function kt(t){let e=i,r=new Array(t);for(let n=0;n<t;n++){const s=x[i++];if((s&128)>0){i=e;return}r[n]=s}return P.apply(String,r)}function Me(t){if(t<4)if(t<2){if(t===0)return"";{let e=x[i++];if((e&128)>1){i-=1;return}return P(e)}}else{let e=x[i++],r=x[i++];if((e&128)>0||(r&128)>0){i-=2;return}if(t<3)return P(e,r);let n=x[i++];if((n&128)>0){i-=3;return}return P(e,r,n)}else{let e=x[i++],r=x[i++],n=x[i++],s=x[i++];if((e&128)>0||(r&128)>0||(n&128)>0||(s&128)>0){i-=4;return}if(t<6){if(t===4)return P(e,r,n,s);{let l=x[i++];if((l&128)>0){i-=5;return}return P(e,r,n,s,l)}}else if(t<8){let l=x[i++],o=x[i++];if((l&128)>0||(o&128)>0){i-=6;return}if(t<7)return P(e,r,n,s,l,o);let h=x[i++];if((h&128)>0){i-=7;return}return P(e,r,n,s,l,o,h)}else{let l=x[i++],o=x[i++],h=x[i++],y=x[i++];if((l&128)>0||(o&128)>0||(h&128)>0||(y&128)>0){i-=8;return}if(t<10){if(t===8)return P(e,r,n,s,l,o,h,y);{let w=x[i++];if((w&128)>0){i-=9;return}return P(e,r,n,s,l,o,h,y,w)}}else if(t<12){let w=x[i++],E=x[i++];if((w&128)>0||(E&128)>0){i-=10;return}if(t<11)return P(e,r,n,s,l,o,h,y,w,E);let A=x[i++];if((A&128)>0){i-=11;return}return P(e,r,n,s,l,o,h,y,w,E,A)}else{let w=x[i++],E=x[i++],A=x[i++],_=x[i++];if((w&128)>0||(E&128)>0||(A&128)>0||(_&128)>0){i-=12;return}if(t<14){if(t===12)return P(e,r,n,s,l,o,h,y,w,E,A,_);{let j=x[i++];if((j&128)>0){i-=13;return}return P(e,r,n,s,l,o,h,y,w,E,A,_,j)}}else{let j=x[i++],R=x[i++];if((j&128)>0||(R&128)>0){i-=14;return}if(t<15)return P(e,r,n,s,l,o,h,y,w,E,A,_,j,R);let V=x[i++];if((V&128)>0){i-=15;return}return P(e,r,n,s,l,o,h,y,w,E,A,_,j,R,V)}}}}}function Re(t){return M.copyBuffers?Uint8Array.prototype.slice.call(x,i,i+=t):x.subarray(i,i+=t)}function re(t){let e=x[i++];if(L[e])return L[e](x.subarray(i,i+=t));throw new Error("Unknown extension type "+e)}var _t=new Array(4096);function Ut(){let t=x[i++];if(t>=160&&t<192){if(t=t-160,W>=i)return X.slice(i-$,(i+=t)-$);if(!(W==0&&Q<180))return De(t)}else return i--,B();let e=(t<<5^(t>1?v.getUint16(i):t>0?x[i]:0))&4095,r=_t[e],n=i,s=i+t-3,l,o=0;if(r&&r.bytes==t){for(;n<s;){if(l=v.getUint32(n),l!=r[o++]){n=1879048192;break}n+=4}for(s+=3;n<s;)if(l=x[n++],l!=r[o++]){n=1879048192;break}if(n===s)return i=n,r.string;s-=3,n=i}for(r=[],_t[e]=r,r.bytes=t;n<s;)l=v.getUint32(n),r.push(l),n+=4;for(s+=3;n<s;)l=x[n++],r.push(l);let h=t<16?Me(t):kt(t);return h!=null?r.string=h:r.string=De(t)}const Et=(t,e)=>{var r=B();let n=t;e!==void 0&&(t=t<32?-((e<<5)+t):(e<<5)+t,r.highByte=e);let s=S[t];return s&&s.isShared&&((S.restoreStructures||(S.restoreStructures=[]))[t]=s),S[t]=r,r.read=Ce(r,n),r.read()};var It=typeof self=="object"?self:global;L[0]=()=>{};L[0].noBuffer=!0;L[101]=()=>{let t=B();return(It[t[0]]||Error)(t[1])};L[105]=t=>{let e=v.getUint32(i-4);G||(G=new Map);let r=x[i],n;r>=144&&r<160||r==220||r==221?n=[]:n={};let s={target:n};G.set(e,s);let l=B();return s.used?Object.assign(n,l):(s.target=l,l)};L[112]=t=>{let e=v.getUint32(i-4),r=G.get(e);return r.used=!0,r.target};L[115]=()=>new Set(B());const Bt=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(t=>t+"Array");L[116]=t=>{let e=t[0],r=Bt[e];if(!r)throw new Error("Could not find typed array for code "+e);return new It[r](Uint8Array.prototype.slice.call(t,1).buffer)};L[120]=()=>{let t=B();return new RegExp(t[0],t[1])};L[98]=t=>{let e=(t[0]<<24)+(t[1]<<16)+(t[2]<<8)+t[3],r=i;i+=e-4,z=[B(),B()],z.position0=0,z.position1=0;let n=i;i=r;try{return B()}finally{i=n}};L[255]=t=>t.length==4?new Date((t[0]*16777216+(t[1]<<16)+(t[2]<<8)+t[3])*1e3):t.length==8?new Date(((t[0]<<22)+(t[1]<<14)+(t[2]<<6)+(t[3]>>2))/1e6+((t[3]&3)*4294967296+t[4]*16777216+(t[5]<<16)+(t[6]<<8)+t[7])*1e3):t.length==12?new Date(((t[0]<<24)+(t[1]<<16)+(t[2]<<8)+t[3])/1e6+((t[4]&128?-281474976710656:0)+t[6]*1099511627776+t[7]*4294967296+t[8]*16777216+(t[9]<<16)+(t[10]<<8)+t[11])*1e3):new Date("invalid");function Ot(t){let e=Q,r=i,n=$,s=W,l=X,o=G,h=z,y=new Uint8Array(x.slice(0,Q)),w=S,E=S.slice(0,S.length),A=M,_=ne,j=t();return Q=e,i=r,$=n,W=s,X=l,G=o,z=h,x=y,ne=_,S=w,S.splice(0,S.length,...E),M=A,v=new DataView(x.buffer,x.byteOffset,x.byteLength),j}function ze(){x=null,G=null,S=null}const Le=new Array(147);for(let t=0;t<256;t++)Le[t]=+("1e"+Math.floor(45.15-t*.30103));var be=new oe({useRecords:!1});const Or=be.unpack;be.unpackMultiple;be.unpack;let Ar=new Float32Array(1);new Uint8Array(Ar.buffer,0,4);let ve;try{ve=new TextEncoder}catch{}let Fe,At;const ke=typeof Buffer!="undefined",Ne=ke?Buffer.allocUnsafeSlow:Uint8Array,jt=ke?Buffer:Uint8Array,Pt=ke?4294967296:2144337920;let f,O,a=0,H,J=null;const jr=/[\u0080-\uFFFF]/,ue=Symbol("record-id");class Pr extends oe{constructor(e){super(e);this.offset=0;let r,n,s,l,o,h=0,y=jt.prototype.utf8Write?function(u,m,c){return f.utf8Write(u,m,c)}:ve&&ve.encodeInto?function(u,m){return ve.encodeInto(u,f.subarray(m)).written}:!1,w=this;e||(e={});let E=e&&e.sequential,A=e.structures||e.saveStructures,_=e.maxSharedStructures;if(_==null&&(_=A?32:0),_>8160)throw new Error("Maximum maxSharedStructure is 8160");let j=e.maxOwnStructures;j==null&&(j=A?32:64),E&&!e.saveStructures&&(this.structures=[]);let R=_>32||j+_>64,V=_+64,K=_+j+64;if(K>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let F=[],Y=0,q=0;this.pack=this.encode=function(u,m){if(f||(f=new Ne(8192),O=new DataView(f.buffer,0,8192),a=0),H=f.length-10,H-a<2048?(f=new Ne(f.length),O=new DataView(f.buffer,0,f.length),H=f.length-10,a=0):a=a+7&2147483640,r=a,o=w.structuredClone?new Map:null,w.bundleStrings?(J=["",""],f[a++]=214,f[a++]=98,J.position=a-r,a+=4):J=null,n=w.structures,n){n.uninitialized&&(n=w._mergeStructures(w.getStructures()));let c=n.sharedLength||0;if(c>_)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+n.sharedLength);if(!n.transitions){n.transitions=Object.create(null);for(let g=0;g<c;g++){let d=n[g];if(!d)continue;let p,k=n.transitions;for(let b=0,N=d.length;b<N;b++){let C=d[b];p=k[C],p||(p=k[C]=Object.create(null)),k=p}k[ue]=g+64}h=c}E||(n.nextId=c+64)}s&&(s=!1),l=n||[];try{if(T(u),J){O.setUint32(J.position+r,a-J.position-r);let c=J;J=null,T(c[0]),T(c[1])}if(w.offset=a,o&&o.idsToInsert){a+=o.idsToInsert.length*6,a>H&&se(a),w.offset=a;let c=Cr(f.subarray(r,a),o.idsToInsert);return o=null,c}return m&Dr?(f.start=r,f.end=a,f):f.subarray(r,a)}finally{if(n){if(q<10&&q++,Y>1e4)n.transitions=null,q=0,Y=0,F.length>0&&(F=[]);else if(F.length>0&&!E){for(let c=0,g=F.length;c<g;c++)F[c][ue]=0;F=[]}if(s&&w.saveStructures){let c=n.sharedLength||_;n.length>c&&(n=n.slice(0,c));let g=f.subarray(r,a);return w.saveStructures(n,h)===!1?(w._mergeStructures(w.getStructures()),w.pack(u)):(h=c,g)}}m&Mr&&(a=r)}};const T=u=>{a>H&&(f=se(a));var m=typeof u,c;if(m==="string"){let g=u.length;if(J&&g>=8&&g<4096){let k=jr.test(u);J[k?0:1]+=u,f[a++]=193,T(k?-g:g);return}let d;g<32?d=1:g<256?d=2:g<65536?d=3:d=5;let p=g*3;if(a+p>H&&(f=se(a+p)),g<64||!y){let k,b,N,C=a+d;for(k=0;k<g;k++)b=u.charCodeAt(k),b<128?f[C++]=b:b<2048?(f[C++]=b>>6|192,f[C++]=b&63|128):(b&64512)==55296&&((N=u.charCodeAt(k+1))&64512)==56320?(b=65536+((b&1023)<<10)+(N&1023),k++,f[C++]=b>>18|240,f[C++]=b>>12&63|128,f[C++]=b>>6&63|128,f[C++]=b&63|128):(f[C++]=b>>12|224,f[C++]=b>>6&63|128,f[C++]=b&63|128);c=C-a-d}else c=y(u,a+d,p);c<32?f[a++]=160|c:c<256?(d<2&&f.copyWithin(a+2,a+1,a+1+c),f[a++]=217,f[a++]=c):c<65536?(d<3&&f.copyWithin(a+3,a+2,a+2+c),f[a++]=218,f[a++]=c>>8,f[a++]=c&255):(d<5&&f.copyWithin(a+5,a+3,a+3+c),f[a++]=219,O.setUint32(a,c),a+=4),a+=c}else if(m==="number")if(u>>>0===u)u<64?f[a++]=u:u<256?(f[a++]=204,f[a++]=u):u<65536?(f[a++]=205,f[a++]=u>>8,f[a++]=u&255):(f[a++]=206,O.setUint32(a,u),a+=4);else if(u>>0===u)u>=-32?f[a++]=256+u:u>=-128?(f[a++]=208,f[a++]=u+256):u>=-32768?(f[a++]=209,O.setInt16(a,u),a+=2):(f[a++]=210,O.setInt32(a,u),a+=4);else{let g;if((g=this.useFloat32)>0&&u<4294967296&&u>=-2147483648){f[a++]=202,O.setFloat32(a,u);let d;if(g<4||(d=u*Le[(f[a]&127)<<1|f[a+1]>>7])>>0===d){a+=4;return}else a--}f[a++]=203,O.setFloat64(a,u),a+=8}else if(m==="object")if(!u)f[a++]=192;else{if(o){let d=o.get(u);if(d){if(!d.id){let p=o.idsToInsert||(o.idsToInsert=[]);d.id=p.push(d)}f[a++]=214,f[a++]=112,O.setUint32(a,d.id),a+=4;return}else o.set(u,{offset:a-r})}let g=u.constructor;if(g===Object)Ze(u,!0);else if(g===Array){c=u.length,c<16?f[a++]=144|c:c<65536?(f[a++]=220,f[a++]=c>>8,f[a++]=c&255):(f[a++]=221,O.setUint32(a,c),a+=4);for(let d=0;d<c;d++)T(u[d])}else if(g===Map){c=u.size,c<16?f[a++]=128|c:c<65536?(f[a++]=222,f[a++]=c>>8,f[a++]=c&255):(f[a++]=223,O.setUint32(a,c),a+=4);for(let[d,p]of u)T(d),T(p)}else{for(let d=0,p=Fe.length;d<p;d++){let k=At[d];if(u instanceof k){let b=Fe[d];if(b.write){b.type&&(f[a++]=212,f[a++]=b.type,f[a++]=0),T(b.write.call(this,u));return}let N=f,C=O,Qt=a;f=null;let ae;try{ae=b.pack.call(this,u,Ge=>(f=N,N=null,a+=Ge,a>H&&se(a),{target:f,targetView:O,position:a-Ge}),T)}finally{N&&(f=N,O=C,a=Qt,H=f.length-10)}ae&&(ae.length+a>H&&se(ae.length+a),a=Tr(ae,f,a,b.type));return}}Ze(u,!u.hasOwnProperty)}}else if(m==="boolean")f[a++]=u?195:194;else if(m==="bigint"){if(u<BigInt(1)<<BigInt(63)&&u>=-(BigInt(1)<<BigInt(63)))f[a++]=211,O.setBigInt64(a,u);else if(u<BigInt(1)<<BigInt(64)&&u>0)f[a++]=207,O.setBigUint64(a,u);else if(this.largeBigIntToFloat)f[a++]=203,O.setFloat64(a,Number(u));else throw new RangeError(u+" was too large to fit in MessagePack 64-bit integer format, set largeBigIntToFloat to convert to float-64");a+=8}else if(m==="undefined")this.encodeUndefinedAsNil?f[a++]=192:(f[a++]=212,f[a++]=0,f[a++]=0);else if(m==="function")T(this.writeFunction&&this.writeFunction());else throw new Error("Unknown type: "+m)},Ze=this.useRecords===!1?this.variableMapSize?u=>{let m=Object.keys(u),c=m.length;c<16?f[a++]=128|c:c<65536?(f[a++]=222,f[a++]=c>>8,f[a++]=c&255):(f[a++]=223,O.setUint32(a,c),a+=4);let g;for(let d=0;d<c;d++)T(g=m[d]),T(u[g])}:(u,m)=>{f[a++]=222;let c=a-r;a+=2;let g=0;for(let d in u)(m||u.hasOwnProperty(d))&&(T(d),T(u[d]),g++);f[c+++r]=g>>8,f[c+r]=g&255}:u=>{let m=Object.keys(u),c,g=l.transitions||(l.transitions=Object.create(null)),d=0;for(let k=0,b=m.length;k<b;k++){let N=m[k];c=g[N],c||(c=g[N]=Object.create(null),d++),g=c}let p=g[ue];if(p)p>=96&&R?(f[a++]=((p-=96)&31)+96,f[a++]=p>>5):f[a++]=p;else{p=l.nextId,p||(p=64),p<V&&this.shouldShareStructure&&!this.shouldShareStructure(m)?(p=l.nextOwnId,p<K||(p=V),l.nextOwnId=p+1):(p>=K&&(p=V),l.nextId=p+1);let k=m.highByte=p>=96&&R?p-96>>5:-1;g[ue]=p,l[p-64]=m,p<V?(m.isShared=!0,l.sharedLength=p-63,s=!0,k>=0?(f[a++]=(p&31)+96,f[a++]=k):f[a++]=p):(k>=0?(f[a++]=213,f[a++]=114,f[a++]=(p&31)+96,f[a++]=k):(f[a++]=212,f[a++]=114,f[a++]=p),d&&(Y+=q*d),F.length>=j&&(F.shift()[ue]=0),F.push(g),T(m))}for(let k=0,b=m.length;k<b;k++)T(u[m[k]])},se=u=>{let m;if(u>16777216){if(u-r>Pt)throw new Error("Packed buffer would be larger than maximum buffer size");m=Math.min(Pt,Math.round(Math.max((u-r)*(u>67108864?1.25:2),4194304)/4096)*4096)}else m=(Math.max(u-r<<2,f.length-1)>>12)+1<<12;let c=new Ne(m);return O=new DataView(c.buffer,0,m),f.copy?f.copy(c,0,r,u):c.set(f.slice(r,u)),a-=r,r=0,H=c.length-10,f=c}}useBuffer(e){f=e,O=new DataView(f.buffer,f.byteOffset,f.byteLength),a=0}}At=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,gt];Fe=[{pack(t,e,r){let n=t.getTime()/1e3;if((this.useTimestamp32||t.getMilliseconds()===0)&&n>=0&&n<4294967296){let{target:s,targetView:l,position:o}=e(6);s[o++]=214,s[o++]=255,l.setUint32(o,n)}else if(n>0&&n<17179869184){let{target:s,targetView:l,position:o}=e(10);s[o++]=215,s[o++]=255,l.setUint32(o,t.getMilliseconds()*4e6+(n/1e3/4294967296>>0)),l.setUint32(o+4,n)}else if(isNaN(n)){if(this.onInvalidDate)return e(0),r(this.onInvalidDate());let{target:s,targetView:l,position:o}=e(3);s[o++]=212,s[o++]=255,s[o++]=255}else{let{target:s,targetView:l,position:o}=e(15);s[o++]=199,s[o++]=12,s[o++]=255,l.setUint32(o,t.getMilliseconds()*1e6),l.setBigInt64(o+4,BigInt(Math.floor(n)))}}},{pack(t,e,r){let n=Array.from(t),{target:s,position:l}=e(this.structuredClone?3:0);this.structuredClone&&(s[l++]=212,s[l++]=115,s[l++]=0),r(n)}},{pack(t,e,r){let{target:n,position:s}=e(this.structuredClone?3:0);this.structuredClone&&(n[s++]=212,n[s++]=101,n[s++]=0),r([t.name,t.message])}},{pack(t,e,r){let{target:n,position:s}=e(this.structuredClone?3:0);this.structuredClone&&(n[s++]=212,n[s++]=120,n[s++]=0),r([t.source,t.flags])}},{pack(t,e){this.structuredClone?Tt(t,16,e):Ct(ke?Buffer.from(t):new Uint8Array(t),e)}},{pack(t,e){let r=t.constructor;r!==jt&&this.structuredClone?Tt(t,Bt.indexOf(r.name),e):Ct(t,e)}},{pack(t,e){let{target:r,position:n}=e(1);r[n]=193}}];function Tt(t,e,r,n){let s=t.byteLength;if(s+1<256){var{target:l,position:o}=r(4+s);l[o++]=199,l[o++]=s+1}else if(s+1<65536){var{target:l,position:o}=r(5+s);l[o++]=200,l[o++]=s+1>>8,l[o++]=s+1&255}else{var{target:l,position:o,targetView:h}=r(7+s);l[o++]=201,h.setUint32(o,s+1),o+=4}l[o++]=116,l[o++]=e,l.set(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),o)}function Ct(t,e){let r=t.byteLength;var n,s;if(r<256){var{target:n,position:s}=e(r+2);n[s++]=196,n[s++]=r}else if(r<65536){var{target:n,position:s}=e(r+3);n[s++]=197,n[s++]=r>>8,n[s++]=r&255}else{var{target:n,position:s,targetView:l}=e(r+5);n[s++]=198,l.setUint32(s,r),s+=4}n.set(t,s)}function Tr(t,e,r,n){let s=t.length;switch(s){case 1:e[r++]=212;break;case 2:e[r++]=213;break;case 4:e[r++]=214;break;case 8:e[r++]=215;break;case 16:e[r++]=216;break;default:s<256?(e[r++]=199,e[r++]=s):s<65536?(e[r++]=200,e[r++]=s>>8,e[r++]=s&255):(e[r++]=201,e[r++]=s>>24,e[r++]=s>>16&255,e[r++]=s>>8&255,e[r++]=s&255)}return e[r++]=n,e.set(t,r),r+=s,r}function Cr(t,e){let r,n=e.length*6,s=t.length-n;for(e.sort((l,o)=>l.offset>o.offset?1:-1);r=e.pop();){let l=r.offset,o=r.id;t.copyWithin(l+n,l,s),n-=6;let h=l+n;t[h++]=214,t[h++]=105,t[h++]=o>>24,t[h++]=o>>16&255,t[h++]=o>>8&255,t[h++]=o&255,s=l}return t}let Dt=new Pr({useRecords:!1});Dt.pack;Dt.pack;const Dr=512,Mr=1024,$e="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Mt=$e.split(""),Rt=new Array(123);for(let t=0;t<$e.length;t++)Rt[$e.charCodeAt(t)]=t;const zt=t=>{if(t<0)return`-${ntob(-t)}`;let e=t>>>0,r=t/4294967296>>>0,n="";for(;r>0;)n=Mt[63&e]+n,e>>>=6,e|=(63&r)<<26,r>>>=6;let s="";do s=Mt[63&e]+s,e>>>=6;while(e>0);return s+n},Lt=t=>{let e=0;const r=t.charAt(0)==="-"?1:0;for(let n=r;n<t.length;n++)e=e*64+Rt[t.charCodeAt(n)];return r?-e:e};var Ft="https://i-ver.oss-cn-beijing.aliyuncs.com/",Nt,Rr=async t=>{var e,r;return t=await t,r=[],e=r.push.bind(r),t.on("data",e),new Promise((n,s)=>(t.on("end",()=>{n(Buffer.concat(r))}),t.on("error",s)))},zr=t=>Rr($t(t));Nt=t=>{var e;return e=U.net.request(t),e.end(),new Promise((r,n)=>e.on("response",s=>{if(s.statusCode!==200){n(s);return}r(s)}))};var $t=t=>Nt(t),ce={};ce.version="1.0.0";ce.encode=function(e){return e.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")};ce.decode=function(e){return e+=Array(5-e.length%4).join("="),e=e.replace(/\-/g,"+").replace(/\_/g,"/"),new Buffer(e,"base64")};ce.validate=function(e){return/^[A-Za-z0-9\-_]+$/.test(e)};var Ve=ce,Vt=JSON.parse(ee.readFileSync(D.join(D.dirname(__dirname),"package.json"),"utf8"));var ie,qt,_e,Ue,qe,Ee,xe,Ie,Wt,Ht,We,Be,Jt,He,Zt,Je;Ht=nr.promisify(Ye.brotliDecompress);var Lr=()=>(U.app.relaunch(),U.app.exit());ie=D.join(ir.ROOT,"v");ee.mkdirSync(ie,{recursive:!0});qt="sha512";Be=t=>zr(Ft+t);Zt=t=>{var e,r,n;t=t.split("."),e=Buffer.allocUnsafe(2*t.length),n=0;for(r of t)e.writeUIntBE(r-0,n,2),n+=2;return e.readUintBE(0,6)};Jt=t=>{var e;return e=rr.createHash(qt),new Promise(r=>ee.createReadStream(t).on("data",e.update.bind(e)).on("end",()=>{r(e.digest().slice(0,8))}))};Ie=(()=>{var t;return{v:t}=de.default,t&&Lt(t)})();Ee=Zt(Vt.version);xe=0;Je=async()=>{var t;return t=zt(parseInt(new Date/1e3)),xe=await Be("v?"+t),xe};Wt=async t=>{var e,r,n,s,l,o,h,y,w,E,A,_,j,R,V,K,F,Y;if(t||(t=xe||await Je()),E=t.readUintBE(0,6),Ee!==Ie){if(n=zt(E),e=D.join(ie,n),E===Ie)return e;for(F=Ve.encode(await Be(Ve.encode(t))),[r,s,h]=Or(await Ht(await Be(F))),j=q=>le.mkdir(D.join(e,q),{recursive:!0}),await Promise.all(r.map(j)),V=D.dirname(__dirname),R=w=0,A=s.length;w<A;R=++w)if(y=s[R],l=D.join(e,y),o=h[R],K=async q=>Buffer.compare(o,await Jt(q))===0,!(ee.existsSync(l)&&await K(l))){if(await j(D.dirname(y)),_=D.join(V,y),ee.existsSync(_)&&await K(_)){await le.copyFile(_,l);continue}if(Y=ee.createWriteStream(l),(await $t(Ft+Ve.encode(o))).pipe(Ye.createBrotliDecompress()).pipe(Y),await new Promise(q=>{Y.on("finish",q)}),!await K(l))return}return de.default.v=n,Ie=E,e}};var Gt=async()=>{var t,e;return t=await Je(),e=Ee<t.readUintBE(0,6),e?t:0},Fr=()=>Vt.version;We=async()=>{var t;(t=await Gt())&&await Kt(t)};setInterval(We,864e5);_e=Ue=qe=void 0;He=()=>Ue=new Promise(t=>qe=t);He();var Nr=()=>Ue,Kt=(...t)=>(_e||(_e=Wt(...t).then(async e=>{e&&(qe([xe,JSON.parse(await le.readFile(D.join(e,"package.json"),"utf8")).description]),He())}).finally(()=>{_e=!1})),Ue);setTimeout(async()=>{var t,e,r,n;if(ee.existsSync(ie)){n=await le.readdir(ie,{withFileTypes:!0});for(e of n)e.isDirectory()&&({name:r}=e,Lt(r)<Ee&&await le.rm(D.join(ie,r),{recursive:!0,force:!0}))}if(t=parseInt(new Date/864e5),t!==de.default.update_check)return de.default.update_check=t,await We()},15e3);var $r=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",relaunch:Lr,update_check:Gt,ver_now:Fr,update_promise:Nr,update:Kt}),Vr=t=>{ut.ID=t},qr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",ID:Vr}),Wr=()=>U.app.getPath("userData"),Hr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",userData:Wr,close:ge,rec:_r,count_down:cr,auto_update:$r,recbar:mr,USER:qr,area:br});(()=>{var t,e,r,n,s,l,o;r=ar.default.platform(),pe(),r==="darwin"&&(n=U.app.dock)!=null&&n.hide(),t=(h,y)=>{var w,E,A,_;y instanceof Function&&U.ipcMain.handle(h.join("."),(j,R)=>y(...R)),A=Object.entries(y);for(_ of A)[E,w]=_,t([...h,E],w)},s=Object.entries(Hr);for(o of s)[e,l]=o,t([e],l);or(),ur()})();lr(U.app,{"window-all-closed":()=>{if(process.platform!=="darwin")return U.app.quit()},"second-instance":pe,activate:pe});U.app.requestSingleInstanceLock()||(U.app.quit(),process.exit(0));
